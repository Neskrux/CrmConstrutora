{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bruno\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\InvestMoneyBots\\\\Crm\\\\frontend\\\\src\\\\components\\\\Fechamentos.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Fechamentos = () => {\n  _s();\n  const {\n    makeRequest\n  } = useAuth();\n  const [fechamentos, setFechamentos] = useState([]);\n  const [pacientes, setPacientes] = useState([]);\n  const [consultores, setConsultores] = useState([]);\n  const [clinicas, setClinicas] = useState([]);\n  const [agendamentos, setAgendamentos] = useState([]);\n  const [erro, setErro] = useState(null);\n  const [carregando, setCarregando] = useState(true);\n  const [filtroConsultor, setFiltroConsultor] = useState('');\n  const [filtroClinica, setFiltroClinica] = useState('');\n  const [filtroMes, setFiltroMes] = useState('');\n  const [filtrosVisiveis, setFiltrosVisiveis] = useState(false);\n  const [modalAberto, setModalAberto] = useState(false);\n  const [fechamentoEditando, setFechamentoEditando] = useState(null);\n  const [novoFechamento, setNovoFechamento] = useState({\n    paciente_id: '',\n    consultor_id: '',\n    clinica_id: '',\n    agendamento_id: '',\n    valor_fechado: '',\n    valor_formatado: '',\n    data_fechamento: new Date().toISOString().split('T')[0],\n    tipo_tratamento: '',\n    forma_pagamento: '',\n    observacoes: ''\n  });\n  const [contratoSelecionado, setContratoSelecionado] = useState(null);\n  const formasPagamento = ['À vista', 'Parcelado 2x', 'Parcelado 3x', 'Parcelado 4x', 'Parcelado 6x', 'Parcelado 12x', 'PIX', 'Boleto', 'Cartão de Crédito', 'Cartão de Débito'];\n  useEffect(() => {\n    carregarDados();\n  }, []);\n  const carregarDados = async () => {\n    try {\n      setCarregando(true);\n      setErro(null);\n      const [fechamentosRes, pacientesRes, consultoresRes, clinicasRes, agendamentosRes] = await Promise.all([makeRequest('/fechamentos'), makeRequest('/pacientes'), makeRequest('/consultores'), makeRequest('/clinicas'), makeRequest('/agendamentos')]);\n      if (!fechamentosRes.ok) {\n        throw new Error(`Erro ao carregar fechamentos: ${fechamentosRes.status} - Tabela 'fechamentos' não encontrada. Execute a migração no Supabase.`);\n      }\n      const fechamentosData = await fechamentosRes.json();\n      const pacientesData = await pacientesRes.json();\n      const consultoresData = await consultoresRes.json();\n      const clinicasData = await clinicasRes.json();\n      const agendamentosData = await agendamentosRes.json();\n      setFechamentos(Array.isArray(fechamentosData) ? fechamentosData : []);\n      setPacientes(Array.isArray(pacientesData) ? pacientesData : []);\n      setConsultores(Array.isArray(consultoresData) ? consultoresData : []);\n      setClinicas(Array.isArray(clinicasData) ? clinicasData : []);\n      setAgendamentos(Array.isArray(agendamentosData) ? agendamentosData : []);\n      setCarregando(false);\n    } catch (error) {\n      console.error('Erro ao carregar dados:', error);\n      setErro(error.message);\n      setCarregando(false);\n      setFechamentos([]);\n      setPacientes([]);\n      setConsultores([]);\n      setClinicas([]);\n      setAgendamentos([]);\n    }\n  };\n  const filtrarFechamentos = () => {\n    if (!Array.isArray(fechamentos)) {\n      return [];\n    }\n    return fechamentos.filter(fechamento => {\n      const consultorMatch = !filtroConsultor || fechamento.consultor_id === parseInt(filtroConsultor);\n      const clinicaMatch = !filtroClinica || fechamento.clinica_id === parseInt(filtroClinica);\n      let mesMatch = true;\n      if (filtroMes) {\n        const dataFechamento = new Date(fechamento.data_fechamento);\n        const [ano, mes] = filtroMes.split('-');\n        mesMatch = dataFechamento.getFullYear() === parseInt(ano) && dataFechamento.getMonth() === parseInt(mes) - 1;\n      }\n      return consultorMatch && clinicaMatch && mesMatch;\n    });\n  };\n  const calcularEstatisticas = () => {\n    const fechamentosFiltrados = filtrarFechamentos();\n    const total = fechamentosFiltrados.length;\n    const valorTotal = fechamentosFiltrados.reduce((acc, f) => acc + parseFloat(f.valor_fechado || 0), 0);\n    const ticketMedio = total > 0 ? valorTotal / total : 0;\n    const hoje = new Date().toISOString().split('T')[0];\n    const fechamentosHoje = fechamentosFiltrados.filter(f => f.data_fechamento === hoje).length;\n    const mesAtual = new Date();\n    const fechamentosMes = fechamentosFiltrados.filter(f => {\n      const dataFechamento = new Date(f.data_fechamento);\n      return dataFechamento.getMonth() === mesAtual.getMonth() && dataFechamento.getFullYear() === mesAtual.getFullYear();\n    }).length;\n    return {\n      total,\n      valorTotal,\n      ticketMedio,\n      fechamentosHoje,\n      fechamentosMes\n    };\n  };\n  const contarFiltrosAtivos = () => {\n    let count = 0;\n    if (filtroConsultor) count++;\n    if (filtroClinica) count++;\n    if (filtroMes) count++;\n    return count;\n  };\n  const limparFiltros = () => {\n    setFiltroConsultor('');\n    setFiltroClinica('');\n    setFiltroMes('');\n  };\n  const abrirModal = (fechamento = null) => {\n    if (fechamento) {\n      setFechamentoEditando(fechamento);\n      const valorFormatado = fechamento.valor_fechado ? parseFloat(fechamento.valor_fechado).toLocaleString('pt-BR', {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2\n      }) : '';\n      setNovoFechamento({\n        ...fechamento,\n        valor_formatado: valorFormatado\n      });\n    } else {\n      setFechamentoEditando(null);\n      setNovoFechamento({\n        paciente_id: '',\n        consultor_id: '',\n        clinica_id: '',\n        agendamento_id: '',\n        valor_fechado: '',\n        valor_formatado: '',\n        data_fechamento: new Date().toISOString().split('T')[0],\n        tipo_tratamento: '',\n        forma_pagamento: '',\n        observacoes: ''\n      });\n    }\n    setModalAberto(true);\n  };\n  const fecharModal = () => {\n    setModalAberto(false);\n    setFechamentoEditando(null);\n    setContratoSelecionado(null);\n    setNovoFechamento({\n      paciente_id: '',\n      consultor_id: '',\n      clinica_id: '',\n      agendamento_id: '',\n      valor_fechado: '',\n      valor_formatado: '',\n      data_fechamento: new Date().toISOString().split('T')[0],\n      tipo_tratamento: '',\n      forma_pagamento: '',\n      observacoes: ''\n    });\n  };\n  const salvarFechamento = async () => {\n    try {\n      if (!novoFechamento.paciente_id) {\n        alert('Por favor, selecione um paciente!');\n        return;\n      }\n      if (!novoFechamento.valor_fechado || parseFloat(novoFechamento.valor_fechado) <= 0) {\n        alert('Por favor, informe um valor válido!');\n        return;\n      }\n      if (!fechamentoEditando && !contratoSelecionado) {\n        alert('Por favor, selecione o contrato em PDF!');\n        return;\n      }\n      if (contratoSelecionado && contratoSelecionado.type !== 'application/pdf') {\n        alert('Apenas arquivos PDF são permitidos para o contrato!');\n        return;\n      }\n      if (contratoSelecionado && contratoSelecionado.size > 10 * 1024 * 1024) {\n        alert('O arquivo deve ter no máximo 10MB!');\n        return;\n      }\n      const formData = new FormData();\n      formData.append('paciente_id', parseInt(novoFechamento.paciente_id));\n      if (novoFechamento.consultor_id && novoFechamento.consultor_id.trim() !== '') {\n        formData.append('consultor_id', parseInt(novoFechamento.consultor_id));\n      }\n      if (novoFechamento.clinica_id && novoFechamento.clinica_id.trim() !== '') {\n        formData.append('clinica_id', parseInt(novoFechamento.clinica_id));\n      }\n      if (novoFechamento.agendamento_id && novoFechamento.agendamento_id.trim() !== '') {\n        formData.append('agendamento_id', parseInt(novoFechamento.agendamento_id));\n      }\n      formData.append('valor_fechado', parseFloat(novoFechamento.valor_fechado));\n      formData.append('data_fechamento', novoFechamento.data_fechamento);\n      formData.append('tipo_tratamento', novoFechamento.tipo_tratamento || '');\n      formData.append('forma_pagamento', novoFechamento.forma_pagamento || '');\n      formData.append('observacoes', novoFechamento.observacoes || '');\n      if (contratoSelecionado) {\n        formData.append('contrato', contratoSelecionado);\n      }\n      const API_BASE_URL = process.env.REACT_APP_API_URL || (process.env.NODE_ENV === 'production' ? 'https://seu-backend.vercel.app/api' : 'http://localhost:5000/api');\n      const url = fechamentoEditando ? `${API_BASE_URL}/fechamentos/${fechamentoEditando.id}` : `${API_BASE_URL}/fechamentos`;\n      const token = localStorage.getItem('token');\n      const response = await fetch(url, {\n        method: fechamentoEditando ? 'PUT' : 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n        body: formData\n      });\n      const result = await response.json();\n      if (response.ok) {\n        carregarDados();\n        fecharModal();\n        alert(fechamentoEditando ? 'Fechamento atualizado!' : `Fechamento registrado com sucesso! Contrato: ${result.contrato || 'anexado'}`);\n      } else {\n        alert('Erro: ' + (result.error || 'Erro desconhecido'));\n      }\n    } catch (error) {\n      console.error('Erro ao salvar fechamento:', error);\n      alert('Erro ao salvar: ' + error.message);\n    }\n  };\n  const excluirFechamento = async id => {\n    if (window.confirm('Deseja excluir este fechamento?')) {\n      try {\n        const response = await makeRequest(`/fechamentos/${id}`, {\n          method: 'DELETE'\n        });\n        if (response.ok) {\n          carregarDados();\n          alert('Fechamento excluído!');\n        } else {\n          const data = await response.json();\n          alert('Erro ao excluir: ' + (data.error || 'Erro desconhecido'));\n        }\n      } catch (error) {\n        console.error('Erro ao excluir fechamento:', error);\n        alert('Erro ao excluir: ' + error.message);\n      }\n    }\n  };\n  const formatarMoeda = valor => {\n    return new Intl.NumberFormat('pt-BR', {\n      style: 'currency',\n      currency: 'BRL'\n    }).format(valor);\n  };\n  const formatarData = data => {\n    return new Date(data + 'T00:00:00').toLocaleDateString('pt-BR');\n  };\n  const formatarValorInput = valor => {\n    const numeros = valor.replace(/\\D/g, '');\n    if (!numeros) return '';\n    const numero = parseFloat(numeros) / 100;\n    return numero.toLocaleString('pt-BR', {\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    });\n  };\n  const desformatarValor = valorFormatado => {\n    if (!valorFormatado) return '';\n    return valorFormatado.replace(/\\./g, '').replace(',', '.');\n  };\n  const handleValorChange = e => {\n    const valorDigitado = e.target.value;\n    const valorFormatado = formatarValorInput(valorDigitado);\n    const valorNumerico = desformatarValor(valorFormatado);\n    setNovoFechamento({\n      ...novoFechamento,\n      valor_fechado: valorNumerico,\n      valor_formatado: valorFormatado\n    });\n  };\n  if (carregando) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 7\n    }, this);\n  }\n  if (erro) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '2rem'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-error\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: '0 0 0.5rem 0',\n            fontSize: '1.125rem'\n          },\n          children: \"Erro ao carregar dados\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '0 0 1rem 0'\n          },\n          children: erro\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: carregarDados,\n          children: \"Tentar Novamente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 7\n    }, this);\n  }\n  const fechamentosFiltrados = filtrarFechamentos();\n  const stats = calcularEstatisticas();\n  const filtrosAtivos = contarFiltrosAtivos();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"page-title\",\n        children: \"Fechamentos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"page-subtitle\",\n        children: \"Gerencie os fechamentos de vendas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-grid\",\n      style: {\n        marginBottom: '2rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-label\",\n          children: \"Total de Fechamentos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-value\",\n          children: stats.total\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-label\",\n          children: \"Valor Total\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-value\",\n          children: formatarMoeda(stats.valorTotal)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-label\",\n          children: \"Ticket M\\xE9dio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-value\",\n          children: formatarMoeda(stats.ticketMedio)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-label\",\n          children: \"Fechamentos Hoje\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-value\",\n          children: stats.fechamentosHoje\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-label\",\n          children: \"Fechamentos no M\\xEAs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-value\",\n          children: stats.fechamentosMes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"card-title\",\n          children: \"Lista de Fechamentos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: () => setFiltrosVisiveis(!filtrosVisiveis),\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"16\",\n              height: \"16\",\n              viewBox: \"0 0 24 24\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              strokeWidth: \"2\",\n              children: /*#__PURE__*/_jsxDEV(\"polygon\", {\n                points: \"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this), \"Filtros \", filtrosAtivos > 0 && `(${filtrosAtivos})`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => abrirModal(),\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"16\",\n              height: \"16\",\n              viewBox: \"0 0 24 24\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              strokeWidth: \"2\",\n              children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                x1: \"12\",\n                y1: \"5\",\n                x2: \"12\",\n                y2: \"19\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                x1: \"5\",\n                y1: \"12\",\n                x2: \"19\",\n                y2: \"12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 15\n            }, this), \"Novo Fechamento\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 9\n      }, this), filtrosVisiveis && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '1.5rem',\n          backgroundColor: '#f9fafb',\n          borderBottom: '1px solid #e5e7eb'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-3\",\n          style: {\n            gap: '1rem',\n            marginBottom: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              margin: 0\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Consultor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-select\",\n              value: filtroConsultor,\n              onChange: e => setFiltroConsultor(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Todos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 19\n              }, this), consultores.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: c.id,\n                children: c.nome\n              }, c.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              margin: 0\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Cl\\xEDnica\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-select\",\n              value: filtroClinica,\n              onChange: e => setFiltroClinica(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Todas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 19\n              }, this), clinicas.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: c.id,\n                children: c.nome\n              }, c.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              margin: 0\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"M\\xEAs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"month\",\n              className: \"form-input\",\n              value: filtroMes,\n              onChange: e => setFiltroMes(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this), filtrosAtivos > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-sm btn-secondary\",\n          onClick: limparFiltros,\n          children: \"Limpar Filtros\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: fechamentosFiltrados.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: '3rem',\n            color: '#6b7280'\n          },\n          children: \"Nenhum fechamento encontrado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Data\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Paciente\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Consultor\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Cl\\xEDnica\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Tipo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 498,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Forma Pgto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    textAlign: 'right'\n                  },\n                  children: \"Valor\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    width: '120px'\n                  },\n                  children: \"A\\xE7\\xF5es\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: fechamentosFiltrados.map(fechamento => {\n                const paciente = pacientes.find(p => p.id === fechamento.paciente_id);\n                const consultor = consultores.find(c => c.id === fechamento.consultor_id);\n                const clinica = clinicas.find(c => c.id === fechamento.clinica_id);\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: formatarData(fechamento.data_fechamento)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 512,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          fontWeight: '500'\n                        },\n                        children: (paciente === null || paciente === void 0 ? void 0 : paciente.nome) || 'N/A'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 515,\n                        columnNumber: 29\n                      }, this), fechamento.observacoes && /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          fontSize: '0.75rem',\n                          color: '#6b7280'\n                        },\n                        children: fechamento.observacoes\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 517,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 514,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 513,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: (consultor === null || consultor === void 0 ? void 0 : consultor.nome) || 'N/A'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 523,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: (clinica === null || clinica === void 0 ? void 0 : clinica.nome) || 'N/A'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: fechamento.tipo_tratamento && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"badge badge-info\",\n                      children: fechamento.tipo_tratamento\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 527,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 525,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: fechamento.forma_pagamento || 'N/A'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 532,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: 'right',\n                      fontWeight: '600'\n                    },\n                    children: formatarMoeda(fechamento.valor_fechado)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 533,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        display: 'flex',\n                        gap: '0.5rem'\n                      },\n                      children: [fechamento.contrato && /*#__PURE__*/_jsxDEV(\"a\", {\n                        href: `http://localhost:5000/uploads/${fechamento.contrato}`,\n                        target: \"_blank\",\n                        rel: \"noopener noreferrer\",\n                        className: \"btn btn-sm btn-secondary\",\n                        title: \"Ver contrato\",\n                        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                          width: \"16\",\n                          height: \"16\",\n                          viewBox: \"0 0 24 24\",\n                          fill: \"none\",\n                          stroke: \"currentColor\",\n                          strokeWidth: \"2\",\n                          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                            d: \"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 547,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                            points: \"14 2 14 8 20 8\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 548,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                            x1: \"16\",\n                            y1: \"13\",\n                            x2: \"8\",\n                            y2: \"13\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 549,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                            x1: \"16\",\n                            y1: \"17\",\n                            x2: \"8\",\n                            y2: \"17\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 550,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                            points: \"10 9 9 9 8 9\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 551,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 546,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 539,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn btn-sm btn-secondary\",\n                        onClick: () => abrirModal(fechamento),\n                        children: \"Editar\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 555,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn btn-sm btn-danger\",\n                        onClick: () => excluirFechamento(fechamento.id),\n                        children: \"Excluir\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 561,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 537,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 536,\n                    columnNumber: 25\n                  }, this)]\n                }, fechamento.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 511,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 7\n    }, this), modalAberto && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        style: {\n          maxWidth: '700px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"modal-title\",\n            children: fechamentoEditando ? 'Editar Fechamento' : 'Novo Fechamento'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 584,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-btn\",\n            onClick: fecharModal,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 587,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Paciente *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 595,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select\",\n                value: novoFechamento.paciente_id,\n                onChange: e => setNovoFechamento({\n                  ...novoFechamento,\n                  paciente_id: e.target.value\n                }),\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Selecione\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 602,\n                  columnNumber: 21\n                }, this), pacientes.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: p.id,\n                  children: p.nome\n                }, p.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 604,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 596,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Valor (R$) *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-input\",\n                value: novoFechamento.valor_formatado,\n                onChange: handleValorChange,\n                placeholder: \"0,00\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 593,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Consultor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select\",\n                value: novoFechamento.consultor_id,\n                onChange: e => setNovoFechamento({\n                  ...novoFechamento,\n                  consultor_id: e.target.value\n                }),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Selecione\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 630,\n                  columnNumber: 21\n                }, this), consultores.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: c.id,\n                  children: c.nome\n                }, c.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 632,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Cl\\xEDnica\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select\",\n                value: novoFechamento.clinica_id,\n                onChange: e => setNovoFechamento({\n                  ...novoFechamento,\n                  clinica_id: e.target.value\n                }),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Selecione\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 644,\n                  columnNumber: 21\n                }, this), clinicas.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: c.id,\n                  children: c.nome\n                }, c.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 646,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 639,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Data do Fechamento\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 654,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                className: \"form-input\",\n                value: novoFechamento.data_fechamento,\n                onChange: e => setNovoFechamento({\n                  ...novoFechamento,\n                  data_fechamento: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 655,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 653,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Agendamento\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 664,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select\",\n                value: novoFechamento.agendamento_id,\n                onChange: e => setNovoFechamento({\n                  ...novoFechamento,\n                  agendamento_id: e.target.value\n                }),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Nenhum\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 670,\n                  columnNumber: 21\n                }, this), agendamentos.map(a => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: a.id,\n                  children: [a.paciente_nome, \" - \", new Date(a.data_agendamento).toLocaleDateString('pt-BR')]\n                }, a.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 672,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 665,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 663,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Tipo de Tratamento\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 682,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select\",\n                value: novoFechamento.tipo_tratamento,\n                onChange: e => setNovoFechamento({\n                  ...novoFechamento,\n                  tipo_tratamento: e.target.value\n                }),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Selecione\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 688,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Est\\xE9tico\",\n                  children: \"Est\\xE9tico\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 689,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Odontol\\xF3gico\",\n                  children: \"Odontol\\xF3gico\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 690,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 683,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 681,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Forma de Pagamento\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 695,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select\",\n                value: novoFechamento.forma_pagamento,\n                onChange: e => setNovoFechamento({\n                  ...novoFechamento,\n                  forma_pagamento: e.target.value\n                }),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Selecione\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 701,\n                  columnNumber: 21\n                }, this), formasPagamento.map(f => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: f,\n                  children: f\n                }, f, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 703,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 680,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: [\"Contrato (PDF) \", fechamentoEditando ? '(opcional)' : '*']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 710,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              className: \"form-input\",\n              accept: \".pdf\",\n              onChange: e => setContratoSelecionado(e.target.files[0])\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 711,\n              columnNumber: 17\n            }, this), fechamentoEditando && fechamentoEditando.contrato && /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: '0.875rem',\n                color: '#6b7280',\n                marginTop: '0.5rem'\n              },\n              children: [\"Contrato atual: \", fechamentoEditando.contrato]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 718,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 709,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Observa\\xE7\\xF5es\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 725,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"form-textarea\",\n              rows: \"3\",\n              value: novoFechamento.observacoes,\n              onChange: e => setNovoFechamento({\n                ...novoFechamento,\n                observacoes: e.target.value\n              }),\n              placeholder: \"Informa\\xE7\\xF5es adicionais...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 726,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 724,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '1rem',\n              justifyContent: 'flex-end',\n              marginTop: '2rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-secondary\",\n              onClick: fecharModal,\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 736,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: salvarFechamento,\n              children: fechamentoEditando ? 'Atualizar' : 'Salvar'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 739,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 735,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 581,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 368,\n    columnNumber: 5\n  }, this);\n};\n_s(Fechamentos, \"K0HZQvVV538vIKVAUfW8GNZovzQ=\", false, function () {\n  return [useAuth];\n});\n_c = Fechamentos;\nexport default Fechamentos;\nvar _c;\n$RefreshReg$(_c, \"Fechamentos\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","jsxDEV","_jsxDEV","Fechamentos","_s","makeRequest","fechamentos","setFechamentos","pacientes","setPacientes","consultores","setConsultores","clinicas","setClinicas","agendamentos","setAgendamentos","erro","setErro","carregando","setCarregando","filtroConsultor","setFiltroConsultor","filtroClinica","setFiltroClinica","filtroMes","setFiltroMes","filtrosVisiveis","setFiltrosVisiveis","modalAberto","setModalAberto","fechamentoEditando","setFechamentoEditando","novoFechamento","setNovoFechamento","paciente_id","consultor_id","clinica_id","agendamento_id","valor_fechado","valor_formatado","data_fechamento","Date","toISOString","split","tipo_tratamento","forma_pagamento","observacoes","contratoSelecionado","setContratoSelecionado","formasPagamento","carregarDados","fechamentosRes","pacientesRes","consultoresRes","clinicasRes","agendamentosRes","Promise","all","ok","Error","status","fechamentosData","json","pacientesData","consultoresData","clinicasData","agendamentosData","Array","isArray","error","console","message","filtrarFechamentos","filter","fechamento","consultorMatch","parseInt","clinicaMatch","mesMatch","dataFechamento","ano","mes","getFullYear","getMonth","calcularEstatisticas","fechamentosFiltrados","total","length","valorTotal","reduce","acc","f","parseFloat","ticketMedio","hoje","fechamentosHoje","mesAtual","fechamentosMes","contarFiltrosAtivos","count","limparFiltros","abrirModal","valorFormatado","toLocaleString","minimumFractionDigits","maximumFractionDigits","fecharModal","salvarFechamento","alert","type","size","formData","FormData","append","trim","API_BASE_URL","process","env","REACT_APP_API_URL","NODE_ENV","url","id","token","localStorage","getItem","response","fetch","method","headers","body","result","contrato","excluirFechamento","window","confirm","data","formatarMoeda","valor","Intl","NumberFormat","style","currency","format","formatarData","toLocaleDateString","formatarValorInput","numeros","replace","numero","desformatarValor","handleValorChange","e","valorDigitado","target","value","valorNumerico","className","children","fileName","_jsxFileName","lineNumber","columnNumber","padding","margin","fontSize","onClick","stats","filtrosAtivos","marginBottom","display","justifyContent","alignItems","gap","width","height","viewBox","fill","stroke","strokeWidth","points","x1","y1","x2","y2","backgroundColor","borderBottom","onChange","map","c","nome","textAlign","color","paciente","find","p","consultor","clinica","fontWeight","href","rel","title","d","maxWidth","required","placeholder","a","paciente_nome","data_agendamento","accept","files","marginTop","rows","_c","$RefreshReg$"],"sources":["C:/Users/bruno/OneDrive/Área de Trabalho/InvestMoneyBots/Crm/frontend/src/components/Fechamentos.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst Fechamentos = () => {\n  const { makeRequest } = useAuth();\n  const [fechamentos, setFechamentos] = useState([]);\n  const [pacientes, setPacientes] = useState([]);\n  const [consultores, setConsultores] = useState([]);\n  const [clinicas, setClinicas] = useState([]);\n  const [agendamentos, setAgendamentos] = useState([]);\n  const [erro, setErro] = useState(null);\n  const [carregando, setCarregando] = useState(true);\n  const [filtroConsultor, setFiltroConsultor] = useState('');\n  const [filtroClinica, setFiltroClinica] = useState('');\n  const [filtroMes, setFiltroMes] = useState('');\n  const [filtrosVisiveis, setFiltrosVisiveis] = useState(false);\n  const [modalAberto, setModalAberto] = useState(false);\n  const [fechamentoEditando, setFechamentoEditando] = useState(null);\n  const [novoFechamento, setNovoFechamento] = useState({\n    paciente_id: '',\n    consultor_id: '',\n    clinica_id: '',\n    agendamento_id: '',\n    valor_fechado: '',\n    valor_formatado: '',\n    data_fechamento: new Date().toISOString().split('T')[0],\n    tipo_tratamento: '',\n    forma_pagamento: '',\n    observacoes: ''\n  });\n  const [contratoSelecionado, setContratoSelecionado] = useState(null);\n\n  const formasPagamento = [\n    'À vista',\n    'Parcelado 2x',\n    'Parcelado 3x',\n    'Parcelado 4x',\n    'Parcelado 6x',\n    'Parcelado 12x',\n    'PIX',\n    'Boleto',\n    'Cartão de Crédito',\n    'Cartão de Débito'\n  ];\n\n  useEffect(() => {\n    carregarDados();\n  }, []);\n\n  const carregarDados = async () => {\n    try {\n      setCarregando(true);\n      setErro(null);\n      \n      const [fechamentosRes, pacientesRes, consultoresRes, clinicasRes, agendamentosRes] = await Promise.all([\n        makeRequest('/fechamentos'),\n        makeRequest('/pacientes'),\n        makeRequest('/consultores'),\n        makeRequest('/clinicas'),\n        makeRequest('/agendamentos')\n      ]);\n\n      if (!fechamentosRes.ok) {\n        throw new Error(`Erro ao carregar fechamentos: ${fechamentosRes.status} - Tabela 'fechamentos' não encontrada. Execute a migração no Supabase.`);\n      }\n\n      const fechamentosData = await fechamentosRes.json();\n      const pacientesData = await pacientesRes.json();\n      const consultoresData = await consultoresRes.json();\n      const clinicasData = await clinicasRes.json();\n      const agendamentosData = await agendamentosRes.json();\n\n      setFechamentos(Array.isArray(fechamentosData) ? fechamentosData : []);\n      setPacientes(Array.isArray(pacientesData) ? pacientesData : []);\n      setConsultores(Array.isArray(consultoresData) ? consultoresData : []);\n      setClinicas(Array.isArray(clinicasData) ? clinicasData : []);\n      setAgendamentos(Array.isArray(agendamentosData) ? agendamentosData : []);\n      \n      setCarregando(false);\n    } catch (error) {\n      console.error('Erro ao carregar dados:', error);\n      setErro(error.message);\n      setCarregando(false);\n      \n      setFechamentos([]);\n      setPacientes([]);\n      setConsultores([]);\n      setClinicas([]);\n      setAgendamentos([]);\n    }\n  };\n\n  const filtrarFechamentos = () => {\n    if (!Array.isArray(fechamentos)) {\n      return [];\n    }\n    return fechamentos.filter(fechamento => {\n      const consultorMatch = !filtroConsultor || fechamento.consultor_id === parseInt(filtroConsultor);\n      const clinicaMatch = !filtroClinica || fechamento.clinica_id === parseInt(filtroClinica);\n      \n      let mesMatch = true;\n      if (filtroMes) {\n        const dataFechamento = new Date(fechamento.data_fechamento);\n        const [ano, mes] = filtroMes.split('-');\n        mesMatch = dataFechamento.getFullYear() === parseInt(ano) && \n                   dataFechamento.getMonth() === parseInt(mes) - 1;\n      }\n\n      return consultorMatch && clinicaMatch && mesMatch;\n    });\n  };\n\n  const calcularEstatisticas = () => {\n    const fechamentosFiltrados = filtrarFechamentos();\n    const total = fechamentosFiltrados.length;\n    const valorTotal = fechamentosFiltrados.reduce((acc, f) => acc + parseFloat(f.valor_fechado || 0), 0);\n    const ticketMedio = total > 0 ? valorTotal / total : 0;\n    \n    const hoje = new Date().toISOString().split('T')[0];\n    const fechamentosHoje = fechamentosFiltrados.filter(f => f.data_fechamento === hoje).length;\n\n    const mesAtual = new Date();\n    const fechamentosMes = fechamentosFiltrados.filter(f => {\n      const dataFechamento = new Date(f.data_fechamento);\n      return dataFechamento.getMonth() === mesAtual.getMonth() && \n             dataFechamento.getFullYear() === mesAtual.getFullYear();\n    }).length;\n\n    return { total, valorTotal, ticketMedio, fechamentosHoje, fechamentosMes };\n  };\n\n  const contarFiltrosAtivos = () => {\n    let count = 0;\n    if (filtroConsultor) count++;\n    if (filtroClinica) count++;\n    if (filtroMes) count++;\n    return count;\n  };\n\n  const limparFiltros = () => {\n    setFiltroConsultor('');\n    setFiltroClinica('');\n    setFiltroMes('');\n  };\n\n  const abrirModal = (fechamento = null) => {\n    if (fechamento) {\n      setFechamentoEditando(fechamento);\n      const valorFormatado = fechamento.valor_fechado \n        ? parseFloat(fechamento.valor_fechado).toLocaleString('pt-BR', {\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 2\n          })\n        : '';\n      \n      setNovoFechamento({ \n        ...fechamento, \n        valor_formatado: valorFormatado \n      });\n    } else {\n      setFechamentoEditando(null);\n      setNovoFechamento({\n        paciente_id: '',\n        consultor_id: '',\n        clinica_id: '',\n        agendamento_id: '',\n        valor_fechado: '',\n        valor_formatado: '',\n        data_fechamento: new Date().toISOString().split('T')[0],\n        tipo_tratamento: '',\n        forma_pagamento: '',\n        observacoes: ''\n      });\n    }\n    setModalAberto(true);\n  };\n\n  const fecharModal = () => {\n    setModalAberto(false);\n    setFechamentoEditando(null);\n    setContratoSelecionado(null);\n    setNovoFechamento({\n      paciente_id: '',\n      consultor_id: '',\n      clinica_id: '',\n      agendamento_id: '',\n      valor_fechado: '',\n      valor_formatado: '',\n      data_fechamento: new Date().toISOString().split('T')[0],\n      tipo_tratamento: '',\n      forma_pagamento: '',\n      observacoes: ''\n    });\n  };\n\n  const salvarFechamento = async () => {\n    try {\n      if (!novoFechamento.paciente_id) {\n        alert('Por favor, selecione um paciente!');\n        return;\n      }\n      \n      if (!novoFechamento.valor_fechado || parseFloat(novoFechamento.valor_fechado) <= 0) {\n        alert('Por favor, informe um valor válido!');\n        return;\n      }\n\n      if (!fechamentoEditando && !contratoSelecionado) {\n        alert('Por favor, selecione o contrato em PDF!');\n        return;\n      }\n\n      if (contratoSelecionado && contratoSelecionado.type !== 'application/pdf') {\n        alert('Apenas arquivos PDF são permitidos para o contrato!');\n        return;\n      }\n\n      if (contratoSelecionado && contratoSelecionado.size > 10 * 1024 * 1024) {\n        alert('O arquivo deve ter no máximo 10MB!');\n        return;\n      }\n\n      const formData = new FormData();\n      \n      formData.append('paciente_id', parseInt(novoFechamento.paciente_id));\n      \n      if (novoFechamento.consultor_id && novoFechamento.consultor_id.trim() !== '') {\n        formData.append('consultor_id', parseInt(novoFechamento.consultor_id));\n      }\n      \n      if (novoFechamento.clinica_id && novoFechamento.clinica_id.trim() !== '') {\n        formData.append('clinica_id', parseInt(novoFechamento.clinica_id));\n      }\n      \n      if (novoFechamento.agendamento_id && novoFechamento.agendamento_id.trim() !== '') {\n        formData.append('agendamento_id', parseInt(novoFechamento.agendamento_id));\n      }\n      \n      formData.append('valor_fechado', parseFloat(novoFechamento.valor_fechado));\n      formData.append('data_fechamento', novoFechamento.data_fechamento);\n      formData.append('tipo_tratamento', novoFechamento.tipo_tratamento || '');\n      formData.append('forma_pagamento', novoFechamento.forma_pagamento || '');\n      formData.append('observacoes', novoFechamento.observacoes || '');\n      \n      if (contratoSelecionado) {\n        formData.append('contrato', contratoSelecionado);\n      }\n\n      const API_BASE_URL = process.env.REACT_APP_API_URL || \n        (process.env.NODE_ENV === 'production' \n          ? 'https://seu-backend.vercel.app/api' \n          : 'http://localhost:5000/api');\n      \n      const url = fechamentoEditando \n        ? `${API_BASE_URL}/fechamentos/${fechamentoEditando.id}`\n        : `${API_BASE_URL}/fechamentos`;\n      \n      const token = localStorage.getItem('token');\n      const response = await fetch(url, {\n        method: fechamentoEditando ? 'PUT' : 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n        body: formData\n      });\n\n      const result = await response.json();\n\n      if (response.ok) {\n        carregarDados();\n        fecharModal();\n        alert(fechamentoEditando ? 'Fechamento atualizado!' : `Fechamento registrado com sucesso! Contrato: ${result.contrato || 'anexado'}`);\n      } else {\n        alert('Erro: ' + (result.error || 'Erro desconhecido'));\n      }\n    } catch (error) {\n      console.error('Erro ao salvar fechamento:', error);\n      alert('Erro ao salvar: ' + error.message);\n    }\n  };\n\n  const excluirFechamento = async (id) => {\n    if (window.confirm('Deseja excluir este fechamento?')) {\n      try {\n        const response = await makeRequest(`/fechamentos/${id}`, {\n          method: 'DELETE'\n        });\n\n        if (response.ok) {\n          carregarDados();\n          alert('Fechamento excluído!');\n        } else {\n          const data = await response.json();\n          alert('Erro ao excluir: ' + (data.error || 'Erro desconhecido'));\n        }\n      } catch (error) {\n        console.error('Erro ao excluir fechamento:', error);\n        alert('Erro ao excluir: ' + error.message);\n      }\n    }\n  };\n\n  const formatarMoeda = (valor) => {\n    return new Intl.NumberFormat('pt-BR', {\n      style: 'currency',\n      currency: 'BRL'\n    }).format(valor);\n  };\n\n  const formatarData = (data) => {\n    return new Date(data + 'T00:00:00').toLocaleDateString('pt-BR');\n  };\n\n  const formatarValorInput = (valor) => {\n    const numeros = valor.replace(/\\D/g, '');\n    if (!numeros) return '';\n    const numero = parseFloat(numeros) / 100;\n    return numero.toLocaleString('pt-BR', {\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    });\n  };\n\n  const desformatarValor = (valorFormatado) => {\n    if (!valorFormatado) return '';\n    return valorFormatado.replace(/\\./g, '').replace(',', '.');\n  };\n\n  const handleValorChange = (e) => {\n    const valorDigitado = e.target.value;\n    const valorFormatado = formatarValorInput(valorDigitado);\n    const valorNumerico = desformatarValor(valorFormatado);\n    \n    setNovoFechamento({\n      ...novoFechamento, \n      valor_fechado: valorNumerico,\n      valor_formatado: valorFormatado\n    });\n  };\n\n  if (carregando) {\n    return (\n      <div className=\"loading\">\n        <div className=\"spinner\"></div>\n      </div>\n    );\n  }\n\n  if (erro) {\n    return (\n      <div style={{ padding: '2rem' }}>\n        <div className=\"alert alert-error\">\n          <h3 style={{ margin: '0 0 0.5rem 0', fontSize: '1.125rem' }}>Erro ao carregar dados</h3>\n          <p style={{ margin: '0 0 1rem 0' }}>{erro}</p>\n          <button className=\"btn btn-primary\" onClick={carregarDados}>\n            Tentar Novamente\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const fechamentosFiltrados = filtrarFechamentos();\n  const stats = calcularEstatisticas();\n  const filtrosAtivos = contarFiltrosAtivos();\n\n  return (\n    <div>\n      <div className=\"page-header\">\n        <h1 className=\"page-title\">Fechamentos</h1>\n        <p className=\"page-subtitle\">Gerencie os fechamentos de vendas</p>\n      </div>\n\n      {/* KPIs */}\n      <div className=\"stats-grid\" style={{ marginBottom: '2rem' }}>\n        <div className=\"stat-card\">\n          <div className=\"stat-label\">Total de Fechamentos</div>\n          <div className=\"stat-value\">{stats.total}</div>\n        </div>\n        \n        <div className=\"stat-card\">\n          <div className=\"stat-label\">Valor Total</div>\n          <div className=\"stat-value\">{formatarMoeda(stats.valorTotal)}</div>\n        </div>\n        \n        <div className=\"stat-card\">\n          <div className=\"stat-label\">Ticket Médio</div>\n          <div className=\"stat-value\">{formatarMoeda(stats.ticketMedio)}</div>\n        </div>\n        \n        <div className=\"stat-card\">\n          <div className=\"stat-label\">Fechamentos Hoje</div>\n          <div className=\"stat-value\">{stats.fechamentosHoje}</div>\n        </div>\n        \n        <div className=\"stat-card\">\n          <div className=\"stat-label\">Fechamentos no Mês</div>\n          <div className=\"stat-value\">{stats.fechamentosMes}</div>\n        </div>\n      </div>\n\n      {/* Filtros e Ações */}\n      <div className=\"card\">\n        <div className=\"card-header\" style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <h2 className=\"card-title\">Lista de Fechamentos</h2>\n          <div style={{ display: 'flex', gap: '1rem' }}>\n            <button \n              className=\"btn btn-secondary\"\n              onClick={() => setFiltrosVisiveis(!filtrosVisiveis)}\n            >\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <polygon points=\"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\"></polygon>\n              </svg>\n              Filtros {filtrosAtivos > 0 && `(${filtrosAtivos})`}\n            </button>\n            <button className=\"btn btn-primary\" onClick={() => abrirModal()}>\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line>\n                <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line>\n              </svg>\n              Novo Fechamento\n            </button>\n          </div>\n        </div>\n\n        {/* Filtros */}\n        {filtrosVisiveis && (\n          <div style={{ \n            padding: '1.5rem', \n            backgroundColor: '#f9fafb',\n            borderBottom: '1px solid #e5e7eb'\n          }}>\n            <div className=\"grid grid-3\" style={{ gap: '1rem', marginBottom: '1rem' }}>\n              <div className=\"form-group\" style={{ margin: 0 }}>\n                <label className=\"form-label\">Consultor</label>\n                <select \n                  className=\"form-select\"\n                  value={filtroConsultor} \n                  onChange={(e) => setFiltroConsultor(e.target.value)}\n                >\n                  <option value=\"\">Todos</option>\n                  {consultores.map(c => (\n                    <option key={c.id} value={c.id}>{c.nome}</option>\n                  ))}\n                </select>\n              </div>\n\n              <div className=\"form-group\" style={{ margin: 0 }}>\n                <label className=\"form-label\">Clínica</label>\n                <select \n                  className=\"form-select\"\n                  value={filtroClinica} \n                  onChange={(e) => setFiltroClinica(e.target.value)}\n                >\n                  <option value=\"\">Todas</option>\n                  {clinicas.map(c => (\n                    <option key={c.id} value={c.id}>{c.nome}</option>\n                  ))}\n                </select>\n              </div>\n\n              <div className=\"form-group\" style={{ margin: 0 }}>\n                <label className=\"form-label\">Mês</label>\n                <input \n                  type=\"month\" \n                  className=\"form-input\"\n                  value={filtroMes} \n                  onChange={(e) => setFiltroMes(e.target.value)}\n                />\n              </div>\n            </div>\n            \n            {filtrosAtivos > 0 && (\n              <button \n                className=\"btn btn-sm btn-secondary\"\n                onClick={limparFiltros}\n              >\n                Limpar Filtros\n              </button>\n            )}\n          </div>\n        )}\n\n        <div className=\"card-body\">\n          {fechamentosFiltrados.length === 0 ? (\n            <div style={{ textAlign: 'center', padding: '3rem', color: '#6b7280' }}>\n              Nenhum fechamento encontrado\n            </div>\n          ) : (\n            <div className=\"table-container\">\n              <table className=\"table\">\n                <thead>\n                  <tr>\n                    <th>Data</th>\n                    <th>Paciente</th>\n                    <th>Consultor</th>\n                    <th>Clínica</th>\n                    <th>Tipo</th>\n                    <th>Forma Pgto</th>\n                    <th style={{ textAlign: 'right' }}>Valor</th>\n                    <th style={{ width: '120px' }}>Ações</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {fechamentosFiltrados.map(fechamento => {\n                    const paciente = pacientes.find(p => p.id === fechamento.paciente_id);\n                    const consultor = consultores.find(c => c.id === fechamento.consultor_id);\n                    const clinica = clinicas.find(c => c.id === fechamento.clinica_id);\n\n                    return (\n                      <tr key={fechamento.id}>\n                        <td>{formatarData(fechamento.data_fechamento)}</td>\n                        <td>\n                          <div>\n                            <div style={{ fontWeight: '500' }}>{paciente?.nome || 'N/A'}</div>\n                            {fechamento.observacoes && (\n                              <div style={{ fontSize: '0.75rem', color: '#6b7280' }}>\n                                {fechamento.observacoes}\n                              </div>\n                            )}\n                          </div>\n                        </td>\n                        <td>{consultor?.nome || 'N/A'}</td>\n                        <td>{clinica?.nome || 'N/A'}</td>\n                        <td>\n                          {fechamento.tipo_tratamento && (\n                            <span className=\"badge badge-info\">\n                              {fechamento.tipo_tratamento}\n                            </span>\n                          )}\n                        </td>\n                        <td>{fechamento.forma_pagamento || 'N/A'}</td>\n                        <td style={{ textAlign: 'right', fontWeight: '600' }}>\n                          {formatarMoeda(fechamento.valor_fechado)}\n                        </td>\n                        <td>\n                          <div style={{ display: 'flex', gap: '0.5rem' }}>\n                            {fechamento.contrato && (\n                              <a \n                                href={`http://localhost:5000/uploads/${fechamento.contrato}`}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                className=\"btn btn-sm btn-secondary\"\n                                title=\"Ver contrato\"\n                              >\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                                  <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"></path>\n                                  <polyline points=\"14 2 14 8 20 8\"></polyline>\n                                  <line x1=\"16\" y1=\"13\" x2=\"8\" y2=\"13\"></line>\n                                  <line x1=\"16\" y1=\"17\" x2=\"8\" y2=\"17\"></line>\n                                  <polyline points=\"10 9 9 9 8 9\"></polyline>\n                                </svg>\n                              </a>\n                            )}\n                            <button \n                              className=\"btn btn-sm btn-secondary\"\n                              onClick={() => abrirModal(fechamento)}\n                            >\n                              Editar\n                            </button>\n                            <button \n                              className=\"btn btn-sm btn-danger\"\n                              onClick={() => excluirFechamento(fechamento.id)}\n                            >\n                              Excluir\n                            </button>\n                          </div>\n                        </td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Modal */}\n      {modalAberto && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\" style={{ maxWidth: '700px' }}>\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">\n                {fechamentoEditando ? 'Editar Fechamento' : 'Novo Fechamento'}\n              </h2>\n              <button className=\"close-btn\" onClick={fecharModal}>\n                ×\n              </button>\n            </div>\n\n            <div className=\"modal-body\">\n              <div className=\"grid grid-2\">\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Paciente *</label>\n                  <select \n                    className=\"form-select\"\n                    value={novoFechamento.paciente_id}\n                    onChange={(e) => setNovoFechamento({...novoFechamento, paciente_id: e.target.value})}\n                    required\n                  >\n                    <option value=\"\">Selecione</option>\n                    {pacientes.map(p => (\n                      <option key={p.id} value={p.id}>{p.nome}</option>\n                    ))}\n                  </select>\n                </div>\n\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Valor (R$) *</label>\n                  <input \n                    type=\"text\"\n                    className=\"form-input\"\n                    value={novoFechamento.valor_formatado}\n                    onChange={handleValorChange}\n                    placeholder=\"0,00\"\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"grid grid-2\">\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Consultor</label>\n                  <select \n                    className=\"form-select\"\n                    value={novoFechamento.consultor_id}\n                    onChange={(e) => setNovoFechamento({...novoFechamento, consultor_id: e.target.value})}\n                  >\n                    <option value=\"\">Selecione</option>\n                    {consultores.map(c => (\n                      <option key={c.id} value={c.id}>{c.nome}</option>\n                    ))}\n                  </select>\n                </div>\n\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Clínica</label>\n                  <select \n                    className=\"form-select\"\n                    value={novoFechamento.clinica_id}\n                    onChange={(e) => setNovoFechamento({...novoFechamento, clinica_id: e.target.value})}\n                  >\n                    <option value=\"\">Selecione</option>\n                    {clinicas.map(c => (\n                      <option key={c.id} value={c.id}>{c.nome}</option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"grid grid-2\">\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Data do Fechamento</label>\n                  <input \n                    type=\"date\"\n                    className=\"form-input\"\n                    value={novoFechamento.data_fechamento}\n                    onChange={(e) => setNovoFechamento({...novoFechamento, data_fechamento: e.target.value})}\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Agendamento</label>\n                  <select \n                    className=\"form-select\"\n                    value={novoFechamento.agendamento_id}\n                    onChange={(e) => setNovoFechamento({...novoFechamento, agendamento_id: e.target.value})}\n                  >\n                    <option value=\"\">Nenhum</option>\n                    {agendamentos.map(a => (\n                      <option key={a.id} value={a.id}>\n                        {a.paciente_nome} - {new Date(a.data_agendamento).toLocaleDateString('pt-BR')}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"grid grid-2\">\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Tipo de Tratamento</label>\n                  <select \n                    className=\"form-select\"\n                    value={novoFechamento.tipo_tratamento}\n                    onChange={(e) => setNovoFechamento({...novoFechamento, tipo_tratamento: e.target.value})}\n                  >\n                    <option value=\"\">Selecione</option>\n                    <option value=\"Estético\">Estético</option>\n                    <option value=\"Odontológico\">Odontológico</option>\n                  </select>\n                </div>\n\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Forma de Pagamento</label>\n                  <select \n                    className=\"form-select\"\n                    value={novoFechamento.forma_pagamento}\n                    onChange={(e) => setNovoFechamento({...novoFechamento, forma_pagamento: e.target.value})}\n                  >\n                    <option value=\"\">Selecione</option>\n                    {formasPagamento.map(f => (\n                      <option key={f} value={f}>{f}</option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <label className=\"form-label\">Contrato (PDF) {fechamentoEditando ? '(opcional)' : '*'}</label>\n                <input \n                  type=\"file\"\n                  className=\"form-input\"\n                  accept=\".pdf\"\n                  onChange={(e) => setContratoSelecionado(e.target.files[0])}\n                />\n                {fechamentoEditando && fechamentoEditando.contrato && (\n                  <p style={{ fontSize: '0.875rem', color: '#6b7280', marginTop: '0.5rem' }}>\n                    Contrato atual: {fechamentoEditando.contrato}\n                  </p>\n                )}\n              </div>\n\n              <div className=\"form-group\">\n                <label className=\"form-label\">Observações</label>\n                <textarea \n                  className=\"form-textarea\"\n                  rows=\"3\"\n                  value={novoFechamento.observacoes}\n                  onChange={(e) => setNovoFechamento({...novoFechamento, observacoes: e.target.value})}\n                  placeholder=\"Informações adicionais...\"\n                />\n              </div>\n\n              <div style={{ display: 'flex', gap: '1rem', justifyContent: 'flex-end', marginTop: '2rem' }}>\n                <button className=\"btn btn-secondary\" onClick={fecharModal}>\n                  Cancelar\n                </button>\n                <button className=\"btn btn-primary\" onClick={salvarFechamento}>\n                  {fechamentoEditando ? 'Atualizar' : 'Salvar'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Fechamentos; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}