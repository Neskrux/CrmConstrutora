{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route,Link,useLocation}from'react-router-dom';import'./App.css';// Contexts\nimport{AuthProvider,useAuth}from'./contexts/AuthContext';// Importar componentes\nimport Dashboard from'./components/Dashboard';import Pacientes from'./components/Pacientes';import Clinicas from'./components/Clinicas';import Consultores from'./components/Consultores';import Agendamentos from'./components/Agendamentos';import Fechamentos from'./components/Fechamentos';import Login from'./components/Login';// Ícones (usando emojis para simplicidade)\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const NavItem=_ref=>{let{to,icon,label,isActive}=_ref;return/*#__PURE__*/_jsxs(Link,{to:to,className:\"nav-item \".concat(isActive?'active':''),children:[/*#__PURE__*/_jsx(\"span\",{className:\"nav-icon\",children:icon}),/*#__PURE__*/_jsx(\"span\",{className:\"nav-label\",children:label})]});};const Navigation=()=>{const location=useLocation();const{user,logout,isAdmin,isConsultor}=useAuth();// Navegação para Admin (acesso total)\nconst adminNavItems=[{to:'/',icon:'📊',label:'Dashboard'},{to:'/pacientes',icon:'👥',label:'Pacientes'},{to:'/agendamentos',icon:'📅',label:'Agendamentos'},{to:'/fechamentos',icon:'💰',label:'Fechamentos'},{to:'/consultores',icon:'🩺',label:'Consultores'},{to:'/clinicas',icon:'🏥',label:'Clínicas'}];// Navegação para Consultor (acesso limitado)\nconst consultorNavItems=[{to:'/',icon:'📊',label:'Meu Dashboard'},{to:'/pacientes',icon:'👥',label:'Meus Pacientes'},{to:'/agendamentos',icon:'📅',label:'Meus Agendamentos'},{to:'/fechamentos',icon:'💰',label:'Meus Fechamentos'}];const navItems=isAdmin?adminNavItems:consultorNavItems;const handleLogout=()=>{if(window.confirm('Tem certeza que deseja sair?')){logout();}};return/*#__PURE__*/_jsxs(\"nav\",{className:\"sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83E\\uDE7A CRM Sa\\xFAde\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar\",children:isAdmin?'👑':'🩺'}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:user===null||user===void 0?void 0:user.nome}),/*#__PURE__*/_jsx(\"span\",{className:\"user-role\",children:isAdmin?'Administrador':'Consultor'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-items\",children:[navItems.map(item=>/*#__PURE__*/_jsx(NavItem,{to:item.to,icon:item.icon,label:item.label,isActive:location.pathname===item.to},item.to)),/*#__PURE__*/_jsxs(\"button\",{className:\"logout-button\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(\"span\",{className:\"nav-icon\",children:\"\\uD83D\\uDEAA\"}),/*#__PURE__*/_jsx(\"span\",{className:\"nav-label\",children:\"Sair\"})]})]})]});};// Componente de Loading\nconst LoadingScreen=()=>/*#__PURE__*/_jsx(\"div\",{className:\"loading-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83E\\uDE7A CRM Sa\\xFAde\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Carregando sistema...\"})]})});// Componente principal protegido\nconst AuthenticatedApp=()=>{const{isAdmin}=useAuth();return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsx(\"main\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Dashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/pacientes\",element:/*#__PURE__*/_jsx(Pacientes,{})}),/*#__PURE__*/_jsx(Route,{path:\"/agendamentos\",element:/*#__PURE__*/_jsx(Agendamentos,{})}),/*#__PURE__*/_jsx(Route,{path:\"/fechamentos\",element:/*#__PURE__*/_jsx(Fechamentos,{})}),isAdmin&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/consultores\",element:/*#__PURE__*/_jsx(Consultores,{})}),/*#__PURE__*/_jsx(Route,{path:\"/clinicas\",element:/*#__PURE__*/_jsx(Clinicas,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Dashboard,{})})]})})]});};// Componente principal\nconst AppContent=()=>{const{isAuthenticated,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(LoadingScreen,{});}return isAuthenticated?/*#__PURE__*/_jsx(AuthenticatedApp,{}):/*#__PURE__*/_jsx(Login,{});};function App(){return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(AppContent,{})})});}export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Link","useLocation","AuthProvider","useAuth","Dashboard","Pacientes","Clinicas","Consultores","Agendamentos","Fechamentos","Login","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NavItem","_ref","to","icon","label","isActive","className","concat","children","Navigation","location","user","logout","isAdmin","isConsultor","adminNavItems","consultorNavItems","navItems","handleLogout","window","confirm","nome","map","item","pathname","onClick","LoadingScreen","AuthenticatedApp","path","element","AppContent","isAuthenticated","loading","App"],"sources":["C:/Users/bruno/OneDrive/Área de Trabalho/InvestMoneyBots/Crm/frontend/src/App.js"],"sourcesContent":["import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Link, useLocation } from 'react-router-dom';\nimport './App.css';\n\n// Contexts\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\n\n// Importar componentes\nimport Dashboard from './components/Dashboard';\nimport Pacientes from './components/Pacientes';\nimport Clinicas from './components/Clinicas';\nimport Consultores from './components/Consultores';\nimport Agendamentos from './components/Agendamentos';\nimport Fechamentos from './components/Fechamentos';\nimport Login from './components/Login';\n\n// Ícones (usando emojis para simplicidade)\nconst NavItem = ({ to, icon, label, isActive }) => (\n  <Link to={to} className={`nav-item ${isActive ? 'active' : ''}`}>\n    <span className=\"nav-icon\">{icon}</span>\n    <span className=\"nav-label\">{label}</span>\n  </Link>\n);\n\nconst Navigation = () => {\n  const location = useLocation();\n  const { user, logout, isAdmin, isConsultor } = useAuth();\n  \n  // Navegação para Admin (acesso total)\n  const adminNavItems = [\n    { to: '/', icon: '📊', label: 'Dashboard' },\n    { to: '/pacientes', icon: '👥', label: 'Pacientes' },\n    { to: '/agendamentos', icon: '📅', label: 'Agendamentos' },\n    { to: '/fechamentos', icon: '💰', label: 'Fechamentos' },\n    { to: '/consultores', icon: '🩺', label: 'Consultores' },\n    { to: '/clinicas', icon: '🏥', label: 'Clínicas' },\n  ];\n\n  // Navegação para Consultor (acesso limitado)\n  const consultorNavItems = [\n    { to: '/', icon: '📊', label: 'Meu Dashboard' },\n    { to: '/pacientes', icon: '👥', label: 'Meus Pacientes' },\n    { to: '/agendamentos', icon: '📅', label: 'Meus Agendamentos' },\n    { to: '/fechamentos', icon: '💰', label: 'Meus Fechamentos' },\n  ];\n\n  const navItems = isAdmin ? adminNavItems : consultorNavItems;\n\n  const handleLogout = () => {\n    if (window.confirm('Tem certeza que deseja sair?')) {\n      logout();\n    }\n  };\n\n  return (\n    <nav className=\"sidebar\">\n      <div className=\"sidebar-header\">\n        <h2>🩺 CRM Saúde</h2>\n        <div className=\"user-info\">\n          <div className=\"user-avatar\">\n            {isAdmin ? '👑' : '🩺'}\n          </div>\n          <div className=\"user-details\">\n            <span className=\"user-name\">{user?.nome}</span>\n            <span className=\"user-role\">\n              {isAdmin ? 'Administrador' : 'Consultor'}\n            </span>\n          </div>\n        </div>\n      </div>\n      <div className=\"nav-items\">\n        {navItems.map(item => (\n          <NavItem\n            key={item.to}\n            to={item.to}\n            icon={item.icon}\n            label={item.label}\n            isActive={location.pathname === item.to}\n          />\n        ))}\n        <button className=\"logout-button\" onClick={handleLogout}>\n          <span className=\"nav-icon\">🚪</span>\n          <span className=\"nav-label\">Sair</span>\n        </button>\n      </div>\n    </nav>\n  );\n};\n\n// Componente de Loading\nconst LoadingScreen = () => (\n  <div className=\"loading-screen\">\n    <div className=\"loading-content\">\n      <div className=\"loading-spinner\"></div>\n      <h2>🩺 CRM Saúde</h2>\n      <p>Carregando sistema...</p>\n    </div>\n  </div>\n);\n\n// Componente principal protegido\nconst AuthenticatedApp = () => {\n  const { isAdmin } = useAuth();\n\n  return (\n    <div className=\"app\">\n      <Navigation />\n      <main className=\"main-content\">\n        <Routes>\n          <Route path=\"/\" element={<Dashboard />} />\n          <Route path=\"/pacientes\" element={<Pacientes />} />\n          <Route path=\"/agendamentos\" element={<Agendamentos />} />\n          <Route path=\"/fechamentos\" element={<Fechamentos />} />\n          \n          {/* Rotas apenas para Admin */}\n          {isAdmin && (\n            <>\n              <Route path=\"/consultores\" element={<Consultores />} />\n              <Route path=\"/clinicas\" element={<Clinicas />} />\n            </>\n          )}\n          \n          {/* Redirecionar rotas não permitidas para home */}\n          <Route path=\"*\" element={<Dashboard />} />\n        </Routes>\n      </main>\n    </div>\n  );\n};\n\n// Componente principal\nconst AppContent = () => {\n  const { isAuthenticated, loading } = useAuth();\n\n  if (loading) {\n    return <LoadingScreen />;\n  }\n\n  return isAuthenticated ? <AuthenticatedApp /> : <Login />;\n};\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <AppContent />\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}