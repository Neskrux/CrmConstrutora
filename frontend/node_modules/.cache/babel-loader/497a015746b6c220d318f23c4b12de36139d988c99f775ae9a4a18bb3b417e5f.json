{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'../contexts/AuthContext';import{BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer}from'recharts';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=()=>{const{makeRequest,user}=useAuth();const[periodo,setPeriodo]=useState('total');// total, semanal, mensal\nconst[subPeriodo,setSubPeriodo]=useState(null);// para dias da semana\nconst[semanaOpcao,setSemanaOpcao]=useState('atual');// atual, proxima\nconst[mesAno,setMesAno]=useState(new Date());// para navega√ß√£o mensal\nconst[filtroRegiao,setFiltroRegiao]=useState({cidade:'',estado:''});const[cidadesDisponiveis,setCidadesDisponiveis]=useState([]);const[estadosDisponiveis,setEstadosDisponiveis]=useState([]);const[stats,setStats]=useState({totalIndicacoes:0,totalAgendamentos:0,agendamentosHoje:0,leadsPorStatus:{},consultoresStats:[],comissaoTotalMes:0,comissaoTotalGeral:0,// Novas estat√≠sticas por per√≠odo\nagendamentosPeriodo:0,valorPeriodo:0,novosLeadsPeriodo:0,// Estat√≠sticas por dia da semana\nestatisticasPorDia:{},// Estat√≠sticas de indica√ß√µes e agendamentos por cidade\nagendamentosPorCidade:[]});const[loading,setLoading]=useState(true);useEffect(()=>{fetchStats();fetchRegioesDisponiveis();},[periodo,subPeriodo,mesAno,semanaOpcao,filtroRegiao]);// Buscar cidades quando estado for alterado\nuseEffect(()=>{const fetchCidades=async()=>{try{if(filtroRegiao.estado){const cidadesRes=await makeRequest(`/imobiliarias/cidades?estado=${filtroRegiao.estado}`);if(cidadesRes.ok){const cidades=await cidadesRes.json();setCidadesDisponiveis(cidades);}}else{const cidadesRes=await makeRequest('/imobiliarias/cidades');if(cidadesRes.ok){const cidades=await cidadesRes.json();setCidadesDisponiveis(cidades);}}}catch(error){console.error('Erro ao carregar cidades:',error);}};fetchCidades();},[filtroRegiao.estado]);const calcularComissao=()=>{return 5000;// R$ 5.000 por fechamento\n};const fetchStats=async()=>{try{// Construir par√¢metros de busca para cl√≠nicas\nconst imobiliariasParams=new URLSearchParams();if(filtroRegiao.estado)imobiliariasParams.append('estado',filtroRegiao.estado);if(filtroRegiao.cidade)imobiliariasParams.append('cidade',filtroRegiao.cidade);const[indicacoesRes,agendamentosRes,consultoresRes,imobiliariasRes]=await Promise.all([makeRequest('/clientes'),makeRequest('/agendamentos'),makeRequest('/consultores'),makeRequest(`/imobiliarias?${imobiliariasParams.toString()}`)]);const indicacoes=await indicacoesRes.json();let agendamentos=await agendamentosRes.json();const consultores=await consultoresRes.json();const imobiliariasFiltradas=await imobiliariasRes.json();// Aplicar filtros por regi√£o se especificados\nif(filtroRegiao.cidade||filtroRegiao.estado){const imobiliariasIds=imobiliariasFiltradas.map(c=>c.id);// Filtrar visitas por regi√£o (via cl√≠nicas)\nagendamentos=agendamentos.filter(agendamento=>{if(!agendamento.imobiliaria_id)return false;// excluir agendamentos sem cl√≠nica quando h√° filtro\nreturn imobiliariasIds.includes(agendamento.imobiliaria_id);});}const hoje=new Date();const hojeStr=hoje.toISOString().split('T')[0];const agendamentosHoje=agendamentos.filter(a=>a.data_agendamento===hojeStr).length;const leadsPorStatus=indicacoes.reduce((acc,p)=>{acc[p.status]=(acc[p.status]||0)+1;return acc;},{});// Calcular data de in√≠cio e fim baseado no per√≠odo selecionado\nlet dataInicio=null;let dataFim=null;if(periodo==='total'){// Sem filtro de data para total\ndataInicio=null;dataFim=null;}else if(periodo==='semanal'){if(subPeriodo){// Dia espec√≠fico da semana\ndataInicio=new Date(subPeriodo);dataInicio.setHours(0,0,0,0);dataFim=new Date(subPeriodo);dataFim.setHours(23,59,59,999);}else{// Semana atual ou pr√≥xima\ndataInicio=new Date(hoje);if(semanaOpcao==='proxima'){// Pr√≥xima semana\ndataInicio.setDate(hoje.getDate()+7-hoje.getDay());// Pr√≥ximo domingo\n}else{// Semana atual\ndataInicio.setDate(hoje.getDate()-hoje.getDay());// Domingo atual\n}dataInicio.setHours(0,0,0,0);dataFim=new Date(dataInicio);dataFim.setDate(dataInicio.getDate()+6);// S√°bado\ndataFim.setHours(23,59,59,999);}}else if(periodo==='mensal'){// M√™s selecionado\ndataInicio=new Date(mesAno.getFullYear(),mesAno.getMonth(),1);dataFim=new Date(mesAno.getFullYear(),mesAno.getMonth()+1,0);dataFim.setHours(23,59,59,999);}// Filtrar dados por per√≠odo\nconst agendamentosPeriodo=dataInicio?agendamentos.filter(a=>{const data=new Date(a.data_agendamento);return data>=dataInicio&&data<=dataFim;}).length:agendamentos.length;const fechamentosPeriodo=dataInicio?agendamentos.filter(a=>{const data=new Date(a.data_agendamento);return a.status==='fechado'&&data>=dataInicio&&data<=dataFim;}).length:agendamentos.filter(a=>a.status==='fechado').length;const novosLeadsPeriodo=dataInicio?indicacoes.filter(p=>{const data=new Date(p.created_at);return data>=dataInicio&&data<=dataFim;}).length:indicacoes.length;// Calcular estat√≠sticas por dia da semana (apenas para visualiza√ß√£o semanal)\nlet estatisticasPorDia={};if(periodo==='semanal'&&!subPeriodo){const diasSemana=['Dom','Seg','Ter','Qua','Qui','Sex','S√°b'];for(let i=0;i<7;i++){const diaData=new Date(dataInicio);diaData.setDate(dataInicio.getDate()+i);const diaStr=diaData.toISOString().split('T')[0];estatisticasPorDia[diasSemana[i]]={data:diaData,agendamentos:agendamentos.filter(a=>a.data_agendamento===diaStr).length};}}// Calcular indica√ß√µes e visitas por cidade\nconst dadosPorCidade={};// Buscar todas as cl√≠nicas se n√£o houver filtro de regi√£o\nlet todasClinicas=imobiliariasFiltradas;if(!filtroRegiao.cidade&&!filtroRegiao.estado){// Se n√£o h√° filtro de regi√£o, buscar todas as cl√≠nicas do banco\ntry{const todasClinicasRes=await makeRequest('/imobiliarias');if(todasClinicasRes.ok){todasClinicas=await todasClinicasRes.json();}}catch(error){console.error('Erro ao buscar todas as cl√≠nicas:',error);}}// Criar mapa de cl√≠nicas por ID para facilitar a busca\nconst imobiliariasMap={};todasClinicas.forEach(imobiliaria=>{imobiliariasMap[imobiliaria.id]=imobiliaria;});// Agrupar indica√ß√µes por cidade (usando a imobili√°ria do agendamento mais recente ou primeira imobili√°ria)\nindicacoes.forEach(cliente=>{// Buscar agendamento mais recente do cliente para determinar a cidade\nconst agendamentoCliente=agendamentos.find(a=>a.cliente_id===cliente.id);let cidade=null;if(agendamentoCliente&&agendamentoCliente.imobiliaria_id){const imobiliaria=imobiliariasMap[agendamentoCliente.imobiliaria_id];if(imobiliaria){cidade=imobiliaria.cidade;}}if(cidade){if(!dadosPorCidade[cidade]){dadosPorCidade[cidade]={cidade:cidade,indicacoes:0,agendamentos:0};}dadosPorCidade[cidade].indicacoes++;}});// Agrupar visitas por cidade das cl√≠nicas\nagendamentos.forEach(agendamento=>{if(agendamento.imobiliaria_id){const imobiliaria=imobiliariasMap[agendamento.imobiliaria_id];if(imobiliaria&&imobiliaria.cidade){const cidade=imobiliaria.cidade;if(!dadosPorCidade[cidade]){dadosPorCidade[cidade]={cidade:cidade,indicacoes:0,agendamentos:0};}dadosPorCidade[cidade].agendamentos++;}}});// Converter para array e ordenar por total (indica√ß√µes + agendamentos)\nconst agendamentosPorCidadeArray=Object.values(dadosPorCidade).map(item=>({...item,total:item.indicacoes+item.agendamentos,conversaoAgendamento:item.indicacoes>0?(item.agendamentos/item.indicacoes*100).toFixed(1):0})).sort((a,b)=>b.total-a.total).slice(0,10);// Mostrar apenas top 10 cidades\n// Calcular comiss√µes\nconst mesAtual=new Date().getMonth();const anoAtual=new Date().getFullYear();let comissaoTotalMes=0;let comissaoTotalGeral=0;// Inicializar mapa de consultores com TODOS os consultores\nconst consultoresMap={};consultores.forEach(c=>{consultoresMap[c.nome]={nome:c.nome,totalIndicacoes:0,totalAgendamentos:0,totalFechamentos:0,valorFechado:0,valorFechadoMes:0,comissaoTotal:0,comissaoMes:0};});// Atualizar estat√≠sticas dos consultores\nindicacoes.forEach(p=>{if(p.consultor_nome&&consultoresMap[p.consultor_nome]){consultoresMap[p.consultor_nome].totalIndicacoes++;}});agendamentos.forEach(a=>{if(a.consultor_nome&&consultoresMap[a.consultor_nome]){consultoresMap[a.consultor_nome].totalAgendamentos++;}});// Calcular fechamentos baseado em agendamentos com status \"fechado\"\nconst agendamentosFechados=agendamentos.filter(a=>a.status==='fechado');const valorTotal=agendamentosFechados.length*5000;// R$ 5.000 por fechamento\nagendamentosFechados.forEach(a=>{if(a.consultor_nome&&consultoresMap[a.consultor_nome]){consultoresMap[a.consultor_nome].totalFechamentos++;consultoresMap[a.consultor_nome].valorFechado+=5000;// R$ 5.000 por fechamento\nconst comissao=calcularComissao();// R$ 5.000 por fechamento\nconsultoresMap[a.consultor_nome].comissaoTotal+=comissao;comissaoTotalGeral+=comissao;// Verificar se √© do m√™s atual\nconst dataFechamento=new Date(a.data_agendamento);if(dataFechamento.getMonth()===mesAtual&&dataFechamento.getFullYear()===anoAtual){consultoresMap[a.consultor_nome].valorFechadoMes+=5000;consultoresMap[a.consultor_nome].comissaoMes+=comissao;comissaoTotalMes+=comissao;}}});const consultoresStats=Object.values(consultoresMap);setStats({totalIndicacoes:indicacoes.length,totalAgendamentos:agendamentos.length,totalFechamentos:agendamentosFechados.length,valorTotalFechamentos:valorTotal,agendamentosHoje,leadsPorStatus,consultoresStats,comissaoTotalMes,comissaoTotalGeral,agendamentosPeriodo,fechamentosPeriodo:fechamentosPeriodo,valorPeriodo:valorTotal,novosLeadsPeriodo,estatisticasPorDia,agendamentosPorCidade:agendamentosPorCidadeArray});setLoading(false);}catch(error){console.error('Erro ao carregar estat√≠sticas:',error);setLoading(false);}};const fetchRegioesDisponiveis=async()=>{try{const estadosRes=await makeRequest('/imobiliarias/estados');if(estadosRes.ok){const estados=await estadosRes.json();setEstadosDisponiveis(estados);}}catch(error){console.error('Erro ao carregar estados:',error);}};const formatCurrency=value=>{return value.toLocaleString('pt-BR',{style:'currency',currency:'BRL'});};const formatCurrencyCompact=value=>{if(value>=1000000){return`R$ ${(value/1000000).toFixed(1).replace('.',',')}M`;}else if(value>=1000){return`R$ ${(value/1000).toFixed(0)}k`;}else{return value.toLocaleString('pt-BR',{style:'currency',currency:'BRL'});}};const formatarMesAno=data=>{const meses=['Janeiro','Fevereiro','Mar√ßo','Abril','Maio','Junho','Julho','Agosto','Setembro','Outubro','Novembro','Dezembro'];return`${meses[data.getMonth()]} ${data.getFullYear()}`;};const navegarMes=direcao=>{const novoMes=new Date(mesAno);novoMes.setMonth(mesAno.getMonth()+direcao);setMesAno(novoMes);};const diasSemana=['Dom','Seg','Ter','Qua','Qui','Sex','S√°b'];const obterPeriodoTexto=()=>{let textoBase='';if(periodo==='total'){textoBase='Todos os dados';}else if(periodo==='semanal'){if(subPeriodo){const data=new Date(subPeriodo);textoBase=`${diasSemana[data.getDay()]}, ${data.toLocaleDateString('pt-BR')}`;}else{textoBase=semanaOpcao==='proxima'?'Pr√≥xima semana':'Semana atual';}}else if(periodo==='mensal'){textoBase=formatarMesAno(mesAno);}// Adicionar informa√ß√£o de filtro regional\nconst filtrosRegiao=[];if(filtroRegiao.estado)filtrosRegiao.push(`${filtroRegiao.estado}`);if(filtroRegiao.cidade)filtrosRegiao.push(`${filtroRegiao.cidade}`);if(filtrosRegiao.length>0){textoBase+=` - ${filtrosRegiao.join(', ')}`;}return textoBase;};const getStatusColor=status=>{const colors={lead:'#0ea5e9',agendado:'#3b82f6',compareceu:'#0891b2',fechado:'#000064',nao_fechou:'#6366f1',nao_compareceu:'#8b5cf6',reagendado:'#1e40af',nao_passou_cpf:'#4f46e5'};return colors[status]||'#64748b';};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"page-subtitle\",children:[\"Bem-vindo, \",user===null||user===void 0?void 0:user.nome,(filtroRegiao.cidade||filtroRegiao.estado)&&/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'1rem',padding:'0.25rem 0.5rem',backgroundColor:'#dbeafe',color:'#1e40af',borderRadius:'12px',fontSize:'0.75rem',fontWeight:'500'},children:\"\\uD83D\\uDCCD Filtrado por regi\\xE3o\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem',padding:'1rem',backgroundColor:'white',borderRadius:'8px',boxShadow:'0 1px 3px rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',alignItems:'center',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.875rem',fontWeight:'600',color:'#374151'},children:\"Visualizar por:\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setPeriodo('total');setSubPeriodo(null);},className:`btn ${periodo==='total'?'btn-primary':'btn-secondary'}`,style:{padding:'0.5rem 1rem',fontSize:'0.875rem'},children:\"Total\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setPeriodo('semanal');setSubPeriodo(null);},className:`btn ${periodo==='semanal'?'btn-primary':'btn-secondary'}`,style:{padding:'0.5rem 1rem',fontSize:'0.875rem'},children:\"Semanal\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setPeriodo('mensal');setSubPeriodo(null);},className:`btn ${periodo==='mensal'?'btn-primary':'btn-secondary'}`,style:{padding:'0.5rem 1rem',fontSize:'0.875rem'},children:\"Mensal\"})]})]}),periodo==='semanal'&&/*#__PURE__*/_jsxs(\"div\",{style:{paddingTop:'1rem',borderTop:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',alignItems:'center',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.75rem',color:'#6b7280',marginRight:'0.5rem'},children:\"Per\\xEDodo:\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSemanaOpcao('atual');setSubPeriodo(null);},className:`btn ${semanaOpcao==='atual'?'btn-primary':'btn-secondary'}`,style:{padding:'0.25rem 0.75rem',fontSize:'0.75rem'},children:\"Semana Atual\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSemanaOpcao('proxima');setSubPeriodo(null);},className:`btn ${semanaOpcao==='proxima'?'btn-primary':'btn-secondary'}`,style:{padding:'0.25rem 0.75rem',fontSize:'0.75rem'},children:\"Pr\\xF3xima Semana\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.75rem',color:'#6b7280',marginRight:'0.5rem'},children:\"Filtrar por dia:\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSubPeriodo(null),className:`btn ${!subPeriodo?'btn-primary':'btn-secondary'}`,style:{padding:'0.25rem 0.75rem',fontSize:'0.75rem'},children:\"Semana Completa\"}),Object.entries(stats.estatisticasPorDia).map(_ref=>{let[dia,dados]=_ref;return/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSubPeriodo(dados.data),className:`btn ${subPeriodo&&new Date(subPeriodo).getDay()===dados.data.getDay()?'btn-primary':'btn-secondary'}`,style:{padding:'0.25rem 0.75rem',fontSize:'0.75rem'},children:dia},dia);})]})]}),periodo==='mensal'&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',paddingTop:'1rem',borderTop:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navegarMes(-1),className:\"btn btn-secondary\",style:{padding:'0.5rem 1rem',fontSize:'0.875rem'},children:/*#__PURE__*/_jsx(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M15 18l-6-6 6-6\"})})}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1rem',fontWeight:'600',color:'#1a1d23',minWidth:'200px',textAlign:'center'},children:formatarMesAno(mesAno)}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navegarMes(1),className:\"btn btn-secondary\",style:{padding:'0.5rem 1rem',fontSize:'0.875rem'},children:/*#__PURE__*/_jsx(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M9 18l6-6-6-6\"})})})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'1rem',paddingTop:'1rem',borderTop:'1px solid #e5e7eb'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.75rem',color:'#6b7280',fontWeight:'600'},children:\"Filtrar por regi\\xE3o:\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"select\",{value:filtroRegiao.estado,onChange:e=>setFiltroRegiao({...filtroRegiao,estado:e.target.value,cidade:''}),style:{padding:'0.25rem 0.5rem',fontSize:'0.75rem',border:'1px solid #d1d5db',borderRadius:'4px',minWidth:'120px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todos os Estados\"}),estadosDisponiveis.map(estado=>/*#__PURE__*/_jsx(\"option\",{value:estado,children:estado},estado))]}),/*#__PURE__*/_jsxs(\"select\",{value:filtroRegiao.cidade,onChange:e=>setFiltroRegiao({...filtroRegiao,cidade:e.target.value}),style:{padding:'0.25rem 0.5rem',fontSize:'0.75rem',border:'1px solid #d1d5db',borderRadius:'4px',minWidth:'120px'},disabled:!filtroRegiao.estado&&cidadesDisponiveis.length>20// Desabilitar se muitas cidades\n,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todas as Cidades\"}),cidadesDisponiveis.map(cidade=>/*#__PURE__*/_jsx(\"option\",{value:cidade,children:cidade},cidade))]}),(filtroRegiao.estado||filtroRegiao.cidade)&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFiltroRegiao({cidade:'',estado:''}),className:\"btn btn-secondary\",style:{padding:'0.25rem 0.5rem',fontSize:'0.75rem'},title:\"Limpar filtros regionais\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"12\",height:\"12\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"line\",{x1:\"18\",y1:\"6\",x2:\"6\",y2:\"18\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"6\",y1:\"6\",x2:\"18\",y2:\"18\"})]})})]})]})})]}),periodo==='semanal'&&!subPeriodo&&Object.keys(stats.estatisticasPorDia).length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#1a1d23',marginBottom:'1rem'},children:\"Detalhamento por Dia da Semana\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(7, 1fr)',gap:'0.75rem'},children:Object.entries(stats.estatisticasPorDia).map(_ref2=>{let[dia,dados]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",style:{textAlign:'center',cursor:'pointer',transition:'all 0.2s',':hover':{transform:'translateY(-2px)',boxShadow:'0 4px 6px rgba(0, 0, 0, 0.1)'}},onClick:()=>setSubPeriodo(dados.data),children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',fontWeight:'600',color:'#1a1d23',marginBottom:'0.5rem'},children:dia}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',color:'#6b7280',marginBottom:'0.75rem'},children:dados.data.toLocaleDateString('pt-BR',{day:'2-digit',month:'2-digit'})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'0.25rem',fontSize:'0.75rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{color:'#2563eb'},children:[/*#__PURE__*/_jsx(\"strong\",{children:dados.agendamentos}),\" visit.\"]}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#10b981'}}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'0.7rem'},children:formatCurrency(dados.valor)})]})]},dia);})})]}),periodo!=='total'&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#000064',marginBottom:'1rem'},children:[\"Resumo do Per\\xEDodo - \",obterPeriodoTexto()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",style:{backgroundColor:'#f0f9ff',border:'1px solid #0ea5e9'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Novos Leads\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",style:{color:'#0ea5e9'},children:stats.novosLeadsPeriodo}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-subtitle\",style:{color:'#0284c7'},children:\"No per\\xEDodo selecionado\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",style:{backgroundColor:'#dbeafe',border:'1px solid #3b82f6'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Visitas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",style:{color:'#3b82f6'},children:stats.agendamentosPeriodo}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-subtitle\",style:{color:'#1d4ed8'},children:\"No per\\xEDodo selecionado\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",style:{backgroundColor:'#e0e7ff',border:'1px solid #6366f1'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Fechamentos\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",style:{color:'#6366f1'},children:stats.fechamentosPeriodo}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-subtitle\",style:{color:'#4f46e5'},children:\"No per\\xEDodo selecionado\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",style:{backgroundColor:'#f8fafc',border:'1px solid #000064'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Valor Fechado\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",style:{color:'#000064'},children:formatCurrency(stats.valorPeriodo)}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-subtitle\",style:{color:'#1e40af'},children:\"No per\\xEDodo selecionado\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#000064',marginBottom:'1rem'},children:\"Totais Gerais\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",style:{backgroundColor:'#e0f2fe',border:'1px solid #0891b2'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Total de Indica\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",style:{color:'#0891b2'},children:stats.totalIndicacoes}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-change positive\",style:{color:'#0891b2'},children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"23 6 13.5 15.5 8.5 10.5 1 18\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"17 6 23 6 23 12\"})]}),\"+12% este m\\xEAs\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",style:{backgroundColor:'#dbeafe',border:'1px solid #3b82f6'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Visitas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",style:{color:'#3b82f6'},children:stats.totalAgendamentos}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-change positive\",style:{color:'#3b82f6'},children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"23 6 13.5 15.5 8.5 10.5 1 18\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"17 6 23 6 23 12\"})]}),stats.agendamentosHoje,\" hoje\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",style:{backgroundColor:'#e0e7ff',border:'1px solid #6366f1'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Fechamentos\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",style:{color:'#6366f1'},children:stats.totalFechamentos}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-change positive\",style:{color:'#6366f1'},children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"23 6 13.5 15.5 8.5 10.5 1 18\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"17 6 23 6 23 12\"})]}),\"R$ 5.000 cada\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",style:{backgroundColor:'#f0f9ff',border:'1px solid #000064'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Valor Total\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",style:{color:'#000064'},children:formatCurrency(stats.valorTotalFechamentos)}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-change positive\",style:{color:'#000064'},children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"23 6 13.5 15.5 8.5 10.5 1 18\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"17 6 23 6 23 12\"})]}),\"+15% este m\\xEAs\"]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"stats-grid\",style:{marginTop:'2rem',gridTemplateColumns:'1fr'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",style:{backgroundColor:'#dbeafe',border:'1px solid #3b82f6'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Cr\\xE9dito Total\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",style:{color:'#000064'},children:formatCurrency(stats.comissaoTotalGeral)}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-subtitle\",style:{color:'#1e40af'},children:\"Cr\\xE9ditos acumulados\"})]})}),stats.agendamentosPorCidade.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{marginTop:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-title\",children:\"Indica\\xE7\\xF5es e Visitas por Cidade\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#6b7280',margin:0},children:\"Top 10 cidades com mais movimenta\\xE7\\xE3o no funil de vendas\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:400,children:/*#__PURE__*/_jsxs(BarChart,{data:stats.agendamentosPorCidade,margin:{top:20,right:30,left:20,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"cidade\",angle:-45,textAnchor:\"end\",height:100,interval:0}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{labelFormatter:value=>`Cidade: ${value}`,formatter:(value,name,props)=>{const labels={indicacoes:'Indica√ß√µes',agendamentos:'Visitas',total:'Total'};return[value,labels[name]||name];},labelStyle:{fontWeight:'bold'},contentStyle:{backgroundColor:'#f9fafb',border:'1px solid #e5e7eb',borderRadius:'6px'}}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"indicacoes\",fill:\"#0891b2\",name:\"Indica\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(Bar,{dataKey:\"agendamentos\",fill:\"#3b82f6\",name:\"Visitas\"})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1.5rem',padding:'1rem',backgroundColor:'#f8fafc',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'0.875rem',fontWeight:'600',color:'#1f2937',marginBottom:'1rem'},children:\"Taxa de Convers\\xE3o por Cidade\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(280px, 1fr))',gap:'1rem'},children:stats.agendamentosPorCidade.map((cidade,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'0.75rem',backgroundColor:'white',borderRadius:'6px',boxShadow:'0 1px 2px rgba(0, 0, 0, 0.05)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',marginBottom:'0.5rem',fontSize:'0.875rem'},children:cidade.cidade}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'0.25rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.75rem',color:'#6b7280'},children:\"Indica\\xE7\\xF5es \\u2192 Visitas:\"}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.75rem',fontWeight:'600',color:parseFloat(cidade.conversaoAgendamento)>50?'#000064':parseFloat(cidade.conversaoAgendamento)>20?'#3b82f6':'#6366f1'},children:[cidade.conversaoAgendamento,\"%\"]})]})})]},index))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-2\",style:{gap:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{minWidth:0},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"card-title\",children:\"Pipeline de Vendas\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:Object.entries(stats.leadsPorStatus).map(_ref3=>{let[status,count]=_ref3;const total=stats.totalIndicacoes||1;const percentage=count/total*100;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.875rem',fontWeight:'500',textTransform:'capitalize'},children:status.replace(/_/g,' ')}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:[count,\" (\",percentage.toFixed(1),\"%)\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'8px',backgroundColor:'#e5e7eb',borderRadius:'4px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:`${percentage}%`,height:'100%',backgroundColor:getStatusColor(status),transition:'width 0.5s ease'}})})]},status);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{minWidth:0},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-title\",children:\"\\uD83C\\uDFC6 Ranking dos Corretores\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#6b7280',margin:0},children:\"Classifica\\xE7\\xE3o por valor fechado\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:(()=>{// Ordenar consultores e calcular posi√ß√µes\nconst consultoresOrdenados=[...stats.consultoresStats].sort((a,b)=>b.valorFechado-a.valorFechado);let posicaoAtual=0;const consultoresComPosicao=consultoresOrdenados.map(consultor=>{const temAtividade=consultor.valorFechado>0||consultor.totalAgendamentos>0||consultor.totalIndicacoes>0;if(temAtividade){posicaoAtual++;return{...consultor,posicao:posicaoAtual,temAtividade};}return{...consultor,posicao:null,temAtividade};});// Separar ativos e inativos\nconst consultoresAtivos=consultoresComPosicao.filter(c=>c.temAtividade);const consultoresInativos=consultoresComPosicao.filter(c=>!c.temAtividade);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(300px, 1fr))',gap:'1rem',marginBottom:'2rem'},children:consultoresAtivos.slice(0,3).map((consultor,idx)=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1.5rem',borderRadius:'16px',background:idx===0?'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)':idx===1?'linear-gradient(135deg, #e5e7eb 0%, #d1d5db 100%)':'linear-gradient(135deg, #fed7aa 0%, #fdba74 100%)',border:'2px solid',borderColor:idx===0?'#fbbf24':idx===1?'#9ca3af':'#fb923c',boxShadow:'0 10px 25px rgba(0, 0, 0, 0.1)',textAlign:'center',position:'relative',overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'3rem',marginBottom:'0.5rem'},children:idx===0?'ü•á':idx===1?'ü•à':'ü•â'}),/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'700',marginBottom:'0.5rem',color:'#1e293b'},children:consultor.nome}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#64748b',marginBottom:'1rem'},children:idx===0?'üëë L√≠der do Ranking':idx===1?'‚≠ê Vice-l√≠der':'üåü 3¬∫ Lugar'}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(3, 1fr)',gap:'0.5rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.25rem',fontWeight:'700'},children:consultor.totalIndicacoes}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',color:'#64748b'},children:\"Indica\\xE7\\xF5es\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.25rem',fontWeight:'700',color:'#3b82f6'},children:consultor.totalAgendamentos}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',color:'#64748b'},children:\"Visitas\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.25rem',fontWeight:'700',color:'#10b981'},children:consultor.totalFechamentos}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',color:'#64748b'},children:\"Fechamentos\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'rgba(255, 255, 255, 0.8)',borderRadius:'12px',marginTop:'1rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.5rem',fontWeight:'700',color:'#059669'},children:formatCurrency(consultor.valorFechado)}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:[\"Cr\\xE9dito: \",formatCurrency(consultor.comissaoTotal)]})]})]},idx))}),consultoresAtivos.length>3&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'1rem',fontWeight:'600',color:'#1e293b',marginBottom:'1rem'},children:\"Demais Posi\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'0.5rem'},children:consultoresAtivos.slice(3).map((consultor,idx)=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',padding:'1rem',background:'#ffffff',borderRadius:'12px',border:'1px solid #e5e7eb',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#6b7280',minWidth:'50px'},children:[consultor.posicao,\"\\xBA\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600'},children:consultor.nome}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:[consultor.posicao,\"\\xAA posi\\xE7\\xE3o\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'2rem',fontSize:'0.875rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600'},children:consultor.totalIndicacoes}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'0.75rem'},children:\"indica\\xE7\\xF5es\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',color:'#3b82f6'},children:consultor.totalAgendamentos}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'0.75rem'},children:\"visitas\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',color:'#10b981'},children:consultor.totalFechamentos}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'0.75rem'},children:\"fechamentos\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'700',color:'#059669'},children:formatCurrency(consultor.valorFechado)}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.75rem',color:'#6b7280'},children:[\"Cr\\xE9dito: \",formatCurrency(consultor.comissaoTotal)]})]})]},idx))})]}),consultoresInativos.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'1rem',fontWeight:'600',color:'#6b7280',marginBottom:'1rem'},children:\"\\uD83D\\uDCA4 Aguardando Primeira Venda\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(200px, 1fr))',gap:'0.75rem'},children:consultoresInativos.map((consultor,idx)=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'#f8fafc',borderRadius:'8px',border:'1px solid #e2e8f0',textAlign:'center',opacity:0.7},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.5rem',marginBottom:'0.5rem'},children:\"\\u2B55\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',color:'#64748b'},children:consultor.nome}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',color:'#94a3b8',marginTop:'0.25rem'},children:\"Sem vendas\"})]},idx))})]})]});})()})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{marginTop:'2rem'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"card-title\",children:\"Taxa de Convers\\xE3o do Funil\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',gap:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',fontWeight:'700',color:'#0ea5e9'},children:stats.totalIndicacoes}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#64748b',marginTop:'0.25rem'},children:\"Leads Totais\"})]}),/*#__PURE__*/_jsx(\"svg\",{width:\"40\",height:\"40\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"#94a3b8\",strokeWidth:\"2\",children:/*#__PURE__*/_jsx(\"polyline\",{points:\"9 18 15 12 9 6\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',fontWeight:'700',color:'#3b82f6'},children:stats.leadsPorStatus.agendado||0}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#64748b',marginTop:'0.25rem'},children:\"Agendados\"})]}),/*#__PURE__*/_jsx(\"svg\",{width:\"40\",height:\"40\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"#94a3b8\",strokeWidth:\"2\",children:/*#__PURE__*/_jsx(\"polyline\",{points:\"9 18 15 12 9 6\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',fontWeight:'700',color:'#0891b2'},children:stats.leadsPorStatus.compareceu||0}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#64748b',marginTop:'0.25rem'},children:\"Compareceram\"})]}),/*#__PURE__*/_jsx(\"svg\",{width:\"40\",height:\"40\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"#94a3b8\",strokeWidth:\"2\",children:/*#__PURE__*/_jsx(\"polyline\",{points:\"9 18 15 12 9 6\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',fontWeight:'700',color:'#000064'},children:stats.leadsPorStatus.fechado||0}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#64748b',marginTop:'0.25rem'},children:\"Fechados\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'2rem',padding:'1rem',backgroundColor:'#f9fafb',borderRadius:'8px',textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.5rem',fontWeight:'700',color:'#000064'},children:[stats.totalIndicacoes>0?((stats.leadsPorStatus.fechado||0)/stats.totalIndicacoes*100).toFixed(1):0,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#64748b',marginTop:'0.25rem'},children:\"Taxa de Convers\\xE3o Total\"})]})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useAuth","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","makeRequest","user","periodo","setPeriodo","subPeriodo","setSubPeriodo","semanaOpcao","setSemanaOpcao","mesAno","setMesAno","Date","filtroRegiao","setFiltroRegiao","cidade","estado","cidadesDisponiveis","setCidadesDisponiveis","estadosDisponiveis","setEstadosDisponiveis","stats","setStats","totalIndicacoes","totalAgendamentos","agendamentosHoje","leadsPorStatus","consultoresStats","comissaoTotalMes","comissaoTotalGeral","agendamentosPeriodo","valorPeriodo","novosLeadsPeriodo","estatisticasPorDia","agendamentosPorCidade","loading","setLoading","fetchStats","fetchRegioesDisponiveis","fetchCidades","cidadesRes","ok","cidades","json","error","console","calcularComissao","imobiliariasParams","URLSearchParams","append","indicacoesRes","agendamentosRes","consultoresRes","imobiliariasRes","Promise","all","toString","indicacoes","agendamentos","consultores","imobiliariasFiltradas","imobiliariasIds","map","c","id","filter","agendamento","imobiliaria_id","includes","hoje","hojeStr","toISOString","split","a","data_agendamento","length","reduce","acc","p","status","dataInicio","dataFim","setHours","setDate","getDate","getDay","getFullYear","getMonth","data","fechamentosPeriodo","created_at","diasSemana","i","diaData","diaStr","dadosPorCidade","todasClinicas","todasClinicasRes","imobiliariasMap","forEach","imobiliaria","cliente","agendamentoCliente","find","cliente_id","agendamentosPorCidadeArray","Object","values","item","total","conversaoAgendamento","toFixed","sort","b","slice","mesAtual","anoAtual","consultoresMap","nome","totalFechamentos","valorFechado","valorFechadoMes","comissaoTotal","comissaoMes","consultor_nome","agendamentosFechados","valorTotal","comissao","dataFechamento","valorTotalFechamentos","estadosRes","estados","formatCurrency","value","toLocaleString","style","currency","formatCurrencyCompact","replace","formatarMesAno","meses","navegarMes","direcao","novoMes","setMonth","obterPeriodoTexto","textoBase","toLocaleDateString","filtrosRegiao","push","join","getStatusColor","colors","lead","agendado","compareceu","fechado","nao_fechou","nao_compareceu","reagendado","nao_passou_cpf","className","children","marginLeft","padding","backgroundColor","color","borderRadius","fontSize","fontWeight","marginBottom","boxShadow","display","gap","alignItems","onClick","paddingTop","borderTop","marginRight","entries","_ref","dia","dados","justifyContent","width","height","viewBox","fill","stroke","strokeWidth","d","minWidth","textAlign","marginTop","flexWrap","onChange","e","target","border","disabled","title","x1","y1","x2","y2","keys","gridTemplateColumns","_ref2","cursor","transition","transform","day","month","flexDirection","valor","points","margin","top","right","left","bottom","strokeDasharray","dataKey","angle","textAnchor","interval","labelFormatter","formatter","name","props","labels","labelStyle","contentStyle","index","parseFloat","_ref3","count","percentage","textTransform","overflow","consultoresOrdenados","posicaoAtual","consultoresComPosicao","consultor","temAtividade","posicao","consultoresAtivos","consultoresInativos","idx","background","borderColor","position","flex","opacity"],"sources":["C:/Users/bruno/Downloads/CrmConstrutora/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\n\nconst Dashboard = () => {\n  const { makeRequest, user } = useAuth();\n  const [periodo, setPeriodo] = useState('total'); // total, semanal, mensal\n  const [subPeriodo, setSubPeriodo] = useState(null); // para dias da semana\n  const [semanaOpcao, setSemanaOpcao] = useState('atual'); // atual, proxima\n  const [mesAno, setMesAno] = useState(new Date()); // para navega√ß√£o mensal\n  const [filtroRegiao, setFiltroRegiao] = useState({ cidade: '', estado: '' });\n  const [cidadesDisponiveis, setCidadesDisponiveis] = useState([]);\n  const [estadosDisponiveis, setEstadosDisponiveis] = useState([]);\n  const [stats, setStats] = useState({\n    totalIndicacoes: 0,\n    totalAgendamentos: 0,\n    agendamentosHoje: 0,\n    leadsPorStatus: {},\n    consultoresStats: [],\n    comissaoTotalMes: 0,\n    comissaoTotalGeral: 0,\n    // Novas estat√≠sticas por per√≠odo\n    agendamentosPeriodo: 0,\n    valorPeriodo: 0,\n    novosLeadsPeriodo: 0,\n    // Estat√≠sticas por dia da semana\n    estatisticasPorDia: {},\n    // Estat√≠sticas de indica√ß√µes e agendamentos por cidade\n    agendamentosPorCidade: []\n  });\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchStats();\n    fetchRegioesDisponiveis();\n  }, [periodo, subPeriodo, mesAno, semanaOpcao, filtroRegiao]);\n\n  // Buscar cidades quando estado for alterado\n  useEffect(() => {\n    const fetchCidades = async () => {\n      try {\n        if (filtroRegiao.estado) {\n          const cidadesRes = await makeRequest(`/imobiliarias/cidades?estado=${filtroRegiao.estado}`);\n          if (cidadesRes.ok) {\n            const cidades = await cidadesRes.json();\n            setCidadesDisponiveis(cidades);\n          }\n        } else {\n          const cidadesRes = await makeRequest('/imobiliarias/cidades');\n          if (cidadesRes.ok) {\n            const cidades = await cidadesRes.json();\n            setCidadesDisponiveis(cidades);\n          }\n        }\n      } catch (error) {\n        console.error('Erro ao carregar cidades:', error);\n      }\n    };\n\n    fetchCidades();\n  }, [filtroRegiao.estado]);\n\n  const calcularComissao = () => {\n    return 5000; // R$ 5.000 por fechamento\n  };\n\n  const fetchStats = async () => {\n    try {\n      // Construir par√¢metros de busca para cl√≠nicas\n      const imobiliariasParams = new URLSearchParams();\n      if (filtroRegiao.estado) imobiliariasParams.append('estado', filtroRegiao.estado);\n      if (filtroRegiao.cidade) imobiliariasParams.append('cidade', filtroRegiao.cidade);\n      \n      const [indicacoesRes, agendamentosRes, consultoresRes, imobiliariasRes] = await Promise.all([\n        makeRequest('/clientes'),\n        makeRequest('/agendamentos'),\n        makeRequest('/consultores'),\n        makeRequest(`/imobiliarias?${imobiliariasParams.toString()}`)\n      ]);\n\n      const indicacoes = await indicacoesRes.json();\n      let agendamentos = await agendamentosRes.json();\n      const consultores = await consultoresRes.json();\n      const imobiliariasFiltradas = await imobiliariasRes.json();\n\n      // Aplicar filtros por regi√£o se especificados\n      if (filtroRegiao.cidade || filtroRegiao.estado) {\n        const imobiliariasIds = imobiliariasFiltradas.map(c => c.id);\n        \n        // Filtrar visitas por regi√£o (via cl√≠nicas)\n        agendamentos = agendamentos.filter(agendamento => {\n          if (!agendamento.imobiliaria_id) return false; // excluir agendamentos sem cl√≠nica quando h√° filtro\n          return imobiliariasIds.includes(agendamento.imobiliaria_id);\n        });\n\n        \n      }\n\n      const hoje = new Date();\n      const hojeStr = hoje.toISOString().split('T')[0];\n      const agendamentosHoje = agendamentos.filter(a => a.data_agendamento === hojeStr).length;\n\n      const leadsPorStatus = indicacoes.reduce((acc, p) => {\n        acc[p.status] = (acc[p.status] || 0) + 1;\n        return acc;\n      }, {});\n\n\n\n      // Calcular data de in√≠cio e fim baseado no per√≠odo selecionado\n      let dataInicio = null;\n      let dataFim = null;\n      \n      if (periodo === 'total') {\n        // Sem filtro de data para total\n        dataInicio = null;\n        dataFim = null;\n      } else if (periodo === 'semanal') {\n        if (subPeriodo) {\n          // Dia espec√≠fico da semana\n          dataInicio = new Date(subPeriodo);\n          dataInicio.setHours(0, 0, 0, 0);\n          dataFim = new Date(subPeriodo);\n          dataFim.setHours(23, 59, 59, 999);\n        } else {\n          // Semana atual ou pr√≥xima\n          dataInicio = new Date(hoje);\n          \n          if (semanaOpcao === 'proxima') {\n            // Pr√≥xima semana\n            dataInicio.setDate(hoje.getDate() + 7 - hoje.getDay()); // Pr√≥ximo domingo\n          } else {\n            // Semana atual\n            dataInicio.setDate(hoje.getDate() - hoje.getDay()); // Domingo atual\n          }\n          \n          dataInicio.setHours(0, 0, 0, 0);\n          dataFim = new Date(dataInicio);\n          dataFim.setDate(dataInicio.getDate() + 6); // S√°bado\n          dataFim.setHours(23, 59, 59, 999);\n        }\n      } else if (periodo === 'mensal') {\n        // M√™s selecionado\n        dataInicio = new Date(mesAno.getFullYear(), mesAno.getMonth(), 1);\n        dataFim = new Date(mesAno.getFullYear(), mesAno.getMonth() + 1, 0);\n        dataFim.setHours(23, 59, 59, 999);\n      }\n\n      // Filtrar dados por per√≠odo\n      const agendamentosPeriodo = dataInicio ? agendamentos.filter(a => {\n        const data = new Date(a.data_agendamento);\n        return data >= dataInicio && data <= dataFim;\n      }).length : agendamentos.length;\n\n      const fechamentosPeriodo = dataInicio ? agendamentos.filter(a => {\n        const data = new Date(a.data_agendamento);\n        return a.status === 'fechado' && data >= dataInicio && data <= dataFim;\n      }).length : agendamentos.filter(a => a.status === 'fechado').length;\n\n      const novosLeadsPeriodo = dataInicio ? indicacoes.filter(p => {\n        const data = new Date(p.created_at);\n        return data >= dataInicio && data <= dataFim;\n      }).length : indicacoes.length;\n\n      // Calcular estat√≠sticas por dia da semana (apenas para visualiza√ß√£o semanal)\n      let estatisticasPorDia = {};\n      if (periodo === 'semanal' && !subPeriodo) {\n        const diasSemana = ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'S√°b'];\n        \n        for (let i = 0; i < 7; i++) {\n          const diaData = new Date(dataInicio);\n          diaData.setDate(dataInicio.getDate() + i);\n          const diaStr = diaData.toISOString().split('T')[0];\n          \n          estatisticasPorDia[diasSemana[i]] = {\n            data: diaData,\n            agendamentos: agendamentos.filter(a => a.data_agendamento === diaStr).length\n          };\n        }\n      }\n\n              // Calcular indica√ß√µes e visitas por cidade\n      const dadosPorCidade = {};\n      \n      // Buscar todas as cl√≠nicas se n√£o houver filtro de regi√£o\n      let todasClinicas = imobiliariasFiltradas;\n      if (!filtroRegiao.cidade && !filtroRegiao.estado) {\n        // Se n√£o h√° filtro de regi√£o, buscar todas as cl√≠nicas do banco\n        try {\n          const todasClinicasRes = await makeRequest('/imobiliarias');\n          if (todasClinicasRes.ok) {\n            todasClinicas = await todasClinicasRes.json();\n          }\n        } catch (error) {\n          console.error('Erro ao buscar todas as cl√≠nicas:', error);\n        }\n      }\n\n      // Criar mapa de cl√≠nicas por ID para facilitar a busca\n      const imobiliariasMap = {};\n      todasClinicas.forEach(imobiliaria => {\n        imobiliariasMap[imobiliaria.id] = imobiliaria;\n      });\n      \n      // Agrupar indica√ß√µes por cidade (usando a imobili√°ria do agendamento mais recente ou primeira imobili√°ria)\n      indicacoes.forEach(cliente => {\n        // Buscar agendamento mais recente do cliente para determinar a cidade\n        const agendamentoCliente = agendamentos.find(a => a.cliente_id === cliente.id);\n        let cidade = null;\n        \n        if (agendamentoCliente && agendamentoCliente.imobiliaria_id) {\n          const imobiliaria = imobiliariasMap[agendamentoCliente.imobiliaria_id];\n          if (imobiliaria) {\n            cidade = imobiliaria.cidade;\n          }\n        }\n        \n        if (cidade) {\n          if (!dadosPorCidade[cidade]) {\n            dadosPorCidade[cidade] = {\n              cidade: cidade,\n              indicacoes: 0,\n              agendamentos: 0\n            };\n          }\n          dadosPorCidade[cidade].indicacoes++;\n        }\n      });\n      \n              // Agrupar visitas por cidade das cl√≠nicas\n      agendamentos.forEach(agendamento => {\n        if (agendamento.imobiliaria_id) {\n          const imobiliaria = imobiliariasMap[agendamento.imobiliaria_id];\n          if (imobiliaria && imobiliaria.cidade) {\n            const cidade = imobiliaria.cidade;\n            if (!dadosPorCidade[cidade]) {\n              dadosPorCidade[cidade] = {\n                cidade: cidade,\n                indicacoes: 0,\n                agendamentos: 0\n              };\n            }\n            dadosPorCidade[cidade].agendamentos++;\n          }\n        }\n      });\n\n\n\n      // Converter para array e ordenar por total (indica√ß√µes + agendamentos)\n      const agendamentosPorCidadeArray = Object.values(dadosPorCidade)\n        .map(item => ({\n          ...item,\n          total: item.indicacoes + item.agendamentos,\n          conversaoAgendamento: item.indicacoes > 0 ? ((item.agendamentos / item.indicacoes) * 100).toFixed(1) : 0\n        }))\n        .sort((a, b) => b.total - a.total)\n        .slice(0, 10); // Mostrar apenas top 10 cidades\n\n      // Calcular comiss√µes\n      const mesAtual = new Date().getMonth();\n      const anoAtual = new Date().getFullYear();\n      \n      let comissaoTotalMes = 0;\n      let comissaoTotalGeral = 0;\n\n      // Inicializar mapa de consultores com TODOS os consultores\n      const consultoresMap = {};\n      consultores.forEach(c => {\n        consultoresMap[c.nome] = {\n          nome: c.nome,\n          totalIndicacoes: 0,\n          totalAgendamentos: 0,\n          totalFechamentos: 0,\n          valorFechado: 0,\n          valorFechadoMes: 0,\n          comissaoTotal: 0,\n          comissaoMes: 0\n        };\n      });\n\n      // Atualizar estat√≠sticas dos consultores\n      indicacoes.forEach(p => {\n        if (p.consultor_nome && consultoresMap[p.consultor_nome]) {\n          consultoresMap[p.consultor_nome].totalIndicacoes++;\n        }\n      });\n\n      agendamentos.forEach(a => {\n        if (a.consultor_nome && consultoresMap[a.consultor_nome]) {\n          consultoresMap[a.consultor_nome].totalAgendamentos++;\n        }\n      });\n\n      // Calcular fechamentos baseado em agendamentos com status \"fechado\"\n      const agendamentosFechados = agendamentos.filter(a => a.status === 'fechado');\n      const valorTotal = agendamentosFechados.length * 5000; // R$ 5.000 por fechamento\n      \n      agendamentosFechados.forEach(a => {\n        if (a.consultor_nome && consultoresMap[a.consultor_nome]) {\n          consultoresMap[a.consultor_nome].totalFechamentos++;\n          consultoresMap[a.consultor_nome].valorFechado += 5000; // R$ 5.000 por fechamento\n          \n          const comissao = calcularComissao(); // R$ 5.000 por fechamento\n          consultoresMap[a.consultor_nome].comissaoTotal += comissao;\n          comissaoTotalGeral += comissao;\n\n          // Verificar se √© do m√™s atual\n          const dataFechamento = new Date(a.data_agendamento);\n          if (dataFechamento.getMonth() === mesAtual && dataFechamento.getFullYear() === anoAtual) {\n            consultoresMap[a.consultor_nome].valorFechadoMes += 5000;\n            consultoresMap[a.consultor_nome].comissaoMes += comissao;\n            comissaoTotalMes += comissao;\n          }\n        }\n      });\n\n      const consultoresStats = Object.values(consultoresMap);\n\n      setStats({\n        totalIndicacoes: indicacoes.length,\n        totalAgendamentos: agendamentos.length,\n        totalFechamentos: agendamentosFechados.length,\n        valorTotalFechamentos: valorTotal,\n        agendamentosHoje,\n        leadsPorStatus,\n        consultoresStats,\n        comissaoTotalMes,\n        comissaoTotalGeral,\n        agendamentosPeriodo,\n        fechamentosPeriodo: fechamentosPeriodo,\n        valorPeriodo: valorTotal,\n        novosLeadsPeriodo,\n        estatisticasPorDia,\n        agendamentosPorCidade: agendamentosPorCidadeArray\n      });\n      setLoading(false);\n    } catch (error) {\n      console.error('Erro ao carregar estat√≠sticas:', error);\n      setLoading(false);\n    }\n  };\n\n  const fetchRegioesDisponiveis = async () => {\n    try {\n      const estadosRes = await makeRequest('/imobiliarias/estados');\n      if (estadosRes.ok) {\n        const estados = await estadosRes.json();\n        setEstadosDisponiveis(estados);\n      }\n    } catch (error) {\n      console.error('Erro ao carregar estados:', error);\n    }\n  };\n\n  const formatCurrency = (value) => {\n    return value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });\n  };\n\n  const formatCurrencyCompact = (value) => {\n    if (value >= 1000000) {\n      return `R$ ${(value / 1000000).toFixed(1).replace('.', ',')}M`;\n    } else if (value >= 1000) {\n      return `R$ ${(value / 1000).toFixed(0)}k`;\n    } else {\n      return value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });\n    }\n  };\n\n  const formatarMesAno = (data) => {\n    const meses = ['Janeiro', 'Fevereiro', 'Mar√ßo', 'Abril', 'Maio', 'Junho', \n                   'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'];\n    return `${meses[data.getMonth()]} ${data.getFullYear()}`;\n  };\n\n  const navegarMes = (direcao) => {\n    const novoMes = new Date(mesAno);\n    novoMes.setMonth(mesAno.getMonth() + direcao);\n    setMesAno(novoMes);\n  };\n\n  const diasSemana = ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'S√°b'];\n\n  const obterPeriodoTexto = () => {\n    let textoBase = '';\n    \n    if (periodo === 'total') {\n      textoBase = 'Todos os dados';\n    } else if (periodo === 'semanal') {\n      if (subPeriodo) {\n        const data = new Date(subPeriodo);\n        textoBase = `${diasSemana[data.getDay()]}, ${data.toLocaleDateString('pt-BR')}`;\n      } else {\n        textoBase = semanaOpcao === 'proxima' ? 'Pr√≥xima semana' : 'Semana atual';\n      }\n    } else if (periodo === 'mensal') {\n      textoBase = formatarMesAno(mesAno);\n    }\n\n    // Adicionar informa√ß√£o de filtro regional\n    const filtrosRegiao = [];\n    if (filtroRegiao.estado) filtrosRegiao.push(`${filtroRegiao.estado}`);\n    if (filtroRegiao.cidade) filtrosRegiao.push(`${filtroRegiao.cidade}`);\n    \n    if (filtrosRegiao.length > 0) {\n      textoBase += ` - ${filtrosRegiao.join(', ')}`;\n    }\n\n    return textoBase;\n  };\n\n  const getStatusColor = (status) => {\n    const colors = {\n      lead: '#0ea5e9',\n      agendado: '#3b82f6',\n      compareceu: '#0891b2',\n      fechado: '#000064',\n      nao_fechou: '#6366f1',\n      nao_compareceu: '#8b5cf6',\n      reagendado: '#1e40af',\n      nao_passou_cpf: '#4f46e5'\n    };\n    return colors[status] || '#64748b';\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading\">\n        <div className=\"spinner\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div className=\"page-header\">\n        <h1 className=\"page-title\">Dashboard</h1>\n        <p className=\"page-subtitle\">\n          Bem-vindo, {user?.nome}\n          {(filtroRegiao.cidade || filtroRegiao.estado) && (\n            <span style={{ \n              marginLeft: '1rem',\n              padding: '0.25rem 0.5rem',\n              backgroundColor: '#dbeafe',\n              color: '#1e40af',\n              borderRadius: '12px',\n              fontSize: '0.75rem',\n              fontWeight: '500'\n            }}>\n              üìç Filtrado por regi√£o\n            </span>\n          )}\n        </p>\n      </div>\n\n      {/* Filtro de Per√≠odo */}\n      <div style={{ \n        marginBottom: '2rem',\n        padding: '1rem',\n        backgroundColor: 'white',\n        borderRadius: '8px',\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)'\n      }}>\n        <div style={{ display: 'flex', gap: '1rem', alignItems: 'center', marginBottom: '1rem' }}>\n          <span style={{ fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\n            Visualizar por:\n          </span>\n          <div style={{ display: 'flex', gap: '0.5rem' }}>\n            <button\n              onClick={() => { setPeriodo('total'); setSubPeriodo(null); }}\n              className={`btn ${periodo === 'total' ? 'btn-primary' : 'btn-secondary'}`}\n              style={{ padding: '0.5rem 1rem', fontSize: '0.875rem' }}\n            >\n              Total\n            </button>\n            <button\n              onClick={() => { setPeriodo('semanal'); setSubPeriodo(null); }}\n              className={`btn ${periodo === 'semanal' ? 'btn-primary' : 'btn-secondary'}`}\n              style={{ padding: '0.5rem 1rem', fontSize: '0.875rem' }}\n            >\n              Semanal\n            </button>\n            <button\n              onClick={() => { setPeriodo('mensal'); setSubPeriodo(null); }}\n              className={`btn ${periodo === 'mensal' ? 'btn-primary' : 'btn-secondary'}`}\n              style={{ padding: '0.5rem 1rem', fontSize: '0.875rem' }}\n            >\n              Mensal\n            </button>\n          </div>\n        </div>\n\n        {/* Controles espec√≠ficos por per√≠odo */}\n        {periodo === 'semanal' && (\n          <div style={{ \n            paddingTop: '1rem',\n            borderTop: '1px solid #e5e7eb'\n          }}>\n            {/* Sele√ß√£o de semana atual/pr√≥xima */}\n            <div style={{ \n              display: 'flex', \n              gap: '0.5rem', \n              alignItems: 'center',\n              marginBottom: '1rem'\n            }}>\n              <span style={{ fontSize: '0.75rem', color: '#6b7280', marginRight: '0.5rem' }}>\n                Per√≠odo:\n              </span>\n              <button\n                onClick={() => { setSemanaOpcao('atual'); setSubPeriodo(null); }}\n                className={`btn ${semanaOpcao === 'atual' ? 'btn-primary' : 'btn-secondary'}`}\n                style={{ padding: '0.25rem 0.75rem', fontSize: '0.75rem' }}\n              >\n                Semana Atual\n              </button>\n              <button\n                onClick={() => { setSemanaOpcao('proxima'); setSubPeriodo(null); }}\n                className={`btn ${semanaOpcao === 'proxima' ? 'btn-primary' : 'btn-secondary'}`}\n                style={{ padding: '0.25rem 0.75rem', fontSize: '0.75rem' }}\n              >\n                Pr√≥xima Semana\n              </button>\n            </div>\n\n            {/* Filtrar por dia espec√≠fico */}\n            <div style={{ \n              display: 'flex', \n              gap: '0.5rem', \n              alignItems: 'center'\n            }}>\n              <span style={{ fontSize: '0.75rem', color: '#6b7280', marginRight: '0.5rem' }}>\n                Filtrar por dia:\n              </span>\n              <button\n                onClick={() => setSubPeriodo(null)}\n                className={`btn ${!subPeriodo ? 'btn-primary' : 'btn-secondary'}`}\n                style={{ padding: '0.25rem 0.75rem', fontSize: '0.75rem' }}\n              >\n                Semana Completa\n              </button>\n              {Object.entries(stats.estatisticasPorDia).map(([dia, dados]) => (\n                <button\n                  key={dia}\n                  onClick={() => setSubPeriodo(dados.data)}\n                  className={`btn ${subPeriodo && new Date(subPeriodo).getDay() === dados.data.getDay() ? \n                    'btn-primary' : 'btn-secondary'}`}\n                  style={{ padding: '0.25rem 0.75rem', fontSize: '0.75rem' }}\n                >\n                  {dia}\n                </button>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {periodo === 'mensal' && (\n          <div style={{ \n            display: 'flex', \n            justifyContent: 'space-between',\n            alignItems: 'center',\n            paddingTop: '1rem',\n            borderTop: '1px solid #e5e7eb'\n          }}>\n            <button\n              onClick={() => navegarMes(-1)}\n              className=\"btn btn-secondary\"\n              style={{ padding: '0.5rem 1rem', fontSize: '0.875rem' }}\n            >\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <path d=\"M15 18l-6-6 6-6\" />\n              </svg>\n            </button>\n            \n            <span style={{ \n              fontSize: '1rem', \n              fontWeight: '600', \n              color: '#1a1d23',\n              minWidth: '200px',\n              textAlign: 'center'\n            }}>\n              {formatarMesAno(mesAno)}\n            </span>\n            \n            <button\n              onClick={() => navegarMes(1)}\n              className=\"btn btn-secondary\"\n              style={{ padding: '0.5rem 1rem', fontSize: '0.875rem' }}\n            >\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <path d=\"M9 18l6-6-6-6\" />\n              </svg>\n            </button>\n          </div>\n        )}\n\n        {/* Filtros por Regi√£o */}\n        <div style={{ \n          marginTop: '1rem',\n          paddingTop: '1rem',\n          borderTop: '1px solid #e5e7eb'\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '1rem', flexWrap: 'wrap' }}>\n            <span style={{ fontSize: '0.75rem', color: '#6b7280', fontWeight: '600' }}>\n              Filtrar por regi√£o:\n            </span>\n            \n            <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>\n              <select\n                value={filtroRegiao.estado}\n                onChange={(e) => setFiltroRegiao({ ...filtroRegiao, estado: e.target.value, cidade: '' })}\n                style={{\n                  padding: '0.25rem 0.5rem',\n                  fontSize: '0.75rem',\n                  border: '1px solid #d1d5db',\n                  borderRadius: '4px',\n                  minWidth: '120px'\n                }}\n              >\n                <option value=\"\">Todos os Estados</option>\n                {estadosDisponiveis.map(estado => (\n                  <option key={estado} value={estado}>{estado}</option>\n                ))}\n              </select>\n\n              <select\n                value={filtroRegiao.cidade}\n                onChange={(e) => setFiltroRegiao({ ...filtroRegiao, cidade: e.target.value })}\n                style={{\n                  padding: '0.25rem 0.5rem',\n                  fontSize: '0.75rem',\n                  border: '1px solid #d1d5db',\n                  borderRadius: '4px',\n                  minWidth: '120px'\n                }}\n                disabled={!filtroRegiao.estado && cidadesDisponiveis.length > 20} // Desabilitar se muitas cidades\n              >\n                <option value=\"\">Todas as Cidades</option>\n                {cidadesDisponiveis.map(cidade => (\n                  <option key={cidade} value={cidade}>{cidade}</option>\n                ))}\n              </select>\n\n              {(filtroRegiao.estado || filtroRegiao.cidade) && (\n                <button\n                  onClick={() => setFiltroRegiao({ cidade: '', estado: '' })}\n                  className=\"btn btn-secondary\"\n                  style={{ padding: '0.25rem 0.5rem', fontSize: '0.75rem' }}\n                  title=\"Limpar filtros regionais\"\n                >\n                  <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n                    <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n                  </svg>\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Estat√≠sticas detalhadas por dia (apenas no modo semanal) */}\n      {periodo === 'semanal' && !subPeriodo && Object.keys(stats.estatisticasPorDia).length > 0 && (\n        <div style={{ marginBottom: '2rem' }}>\n          <h3 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#1a1d23', marginBottom: '1rem' }}>\n            Detalhamento por Dia da Semana\n          </h3>\n          <div style={{ \n            display: 'grid', \n            gridTemplateColumns: 'repeat(7, 1fr)', \n            gap: '0.75rem' \n          }}>\n            {Object.entries(stats.estatisticasPorDia).map(([dia, dados]) => (\n              <div \n                key={dia}\n                className=\"stat-card\"\n                style={{ \n                  textAlign: 'center',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s',\n                  ':hover': {\n                    transform: 'translateY(-2px)',\n                    boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)'\n                  }\n                }}\n                onClick={() => setSubPeriodo(dados.data)}\n              >\n                <div style={{ \n                  fontSize: '0.875rem', \n                  fontWeight: '600', \n                  color: '#1a1d23',\n                  marginBottom: '0.5rem'\n                }}>\n                  {dia}\n                </div>\n                <div style={{ \n                  fontSize: '0.75rem', \n                  color: '#6b7280',\n                  marginBottom: '0.75rem'\n                }}>\n                  {dados.data.toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit' })}\n                </div>\n                <div style={{ \n                  display: 'flex', \n                  flexDirection: 'column', \n                  gap: '0.25rem',\n                  fontSize: '0.75rem'\n                }}>\n                  <div style={{ color: '#2563eb' }}>\n                    <strong>{dados.agendamentos}</strong> visit.\n                  </div>\n                  <div style={{ color: '#10b981' }}>\n\n                  </div>\n                  <div style={{ color: '#6b7280', fontSize: '0.7rem' }}>\n                    {formatCurrency(dados.valor)}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* KPIs do Per√≠odo - Apenas quando n√£o √© Total */}\n      {periodo !== 'total' && (\n        <div style={{ marginBottom: '2rem' }}>\n                  <h3 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#000064', marginBottom: '1rem' }}>\n          Resumo do Per√≠odo - {obterPeriodoTexto()}\n        </h3>\n          <div className=\"stats-grid\">\n            <div className=\"stat-card\" style={{ backgroundColor: '#f0f9ff', border: '1px solid #0ea5e9' }}>\n              <div className=\"stat-label\">Novos Leads</div>\n              <div className=\"stat-value\" style={{ color: '#0ea5e9' }}>{stats.novosLeadsPeriodo}</div>\n              <div className=\"stat-subtitle\" style={{ color: '#0284c7' }}>\n                No per√≠odo selecionado\n              </div>\n            </div>\n\n            <div className=\"stat-card\" style={{ backgroundColor: '#dbeafe', border: '1px solid #3b82f6' }}>\n              <div className=\"stat-label\">Visitas</div>\n              <div className=\"stat-value\" style={{ color: '#3b82f6' }}>{stats.agendamentosPeriodo}</div>\n              <div className=\"stat-subtitle\" style={{ color: '#1d4ed8' }}>\n                No per√≠odo selecionado\n              </div>\n            </div>\n\n            <div className=\"stat-card\" style={{ backgroundColor: '#e0e7ff', border: '1px solid #6366f1' }}>\n              <div className=\"stat-label\">Fechamentos</div>\n              <div className=\"stat-value\" style={{ color: '#6366f1' }}>{stats.fechamentosPeriodo}</div>\n              <div className=\"stat-subtitle\" style={{ color: '#4f46e5' }}>\n                No per√≠odo selecionado\n              </div>\n            </div>\n\n\n\n            <div className=\"stat-card\" style={{ backgroundColor: '#f8fafc', border: '1px solid #000064' }}>\n              <div className=\"stat-label\">Valor Fechado</div>\n              <div className=\"stat-value\" style={{ color: '#000064' }}>{formatCurrency(stats.valorPeriodo)}</div>\n              <div className=\"stat-subtitle\" style={{ color: '#1e40af' }}>\n                No per√≠odo selecionado\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* KPIs Principais */}\n      <div style={{ marginBottom: '2rem' }}>\n        <h3 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#000064', marginBottom: '1rem' }}>\n          Totais Gerais\n        </h3>\n        <div className=\"stats-grid\">\n          <div className=\"stat-card\" style={{ backgroundColor: '#e0f2fe', border: '1px solid #0891b2' }}>\n            <div className=\"stat-label\">Total de Indica√ß√µes</div>\n            <div className=\"stat-value\" style={{ color: '#0891b2' }}>{stats.totalIndicacoes}</div>\n            <div className=\"stat-change positive\" style={{ color: '#0891b2' }}>\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <polyline points=\"23 6 13.5 15.5 8.5 10.5 1 18\"></polyline>\n                <polyline points=\"17 6 23 6 23 12\"></polyline>\n              </svg>\n              +12% este m√™s\n            </div>\n          </div>\n\n          <div className=\"stat-card\" style={{ backgroundColor: '#dbeafe', border: '1px solid #3b82f6' }}>\n            <div className=\"stat-label\">Visitas</div>\n            <div className=\"stat-value\" style={{ color: '#3b82f6' }}>{stats.totalAgendamentos}</div>\n            <div className=\"stat-change positive\" style={{ color: '#3b82f6' }}>\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <polyline points=\"23 6 13.5 15.5 8.5 10.5 1 18\"></polyline>\n                <polyline points=\"17 6 23 6 23 12\"></polyline>\n              </svg>\n              {stats.agendamentosHoje} hoje\n            </div>\n          </div>\n\n          <div className=\"stat-card\" style={{ backgroundColor: '#e0e7ff', border: '1px solid #6366f1' }}>\n            <div className=\"stat-label\">Fechamentos</div>\n            <div className=\"stat-value\" style={{ color: '#6366f1' }}>{stats.totalFechamentos}</div>\n            <div className=\"stat-change positive\" style={{ color: '#6366f1' }}>\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <polyline points=\"23 6 13.5 15.5 8.5 10.5 1 18\"></polyline>\n                <polyline points=\"17 6 23 6 23 12\"></polyline>\n              </svg>\n              R$ 5.000 cada\n            </div>\n          </div>\n\n\n\n          <div className=\"stat-card\" style={{ backgroundColor: '#f0f9ff', border: '1px solid #000064' }}>\n            <div className=\"stat-label\">Valor Total</div>\n            <div className=\"stat-value\" style={{ color: '#000064' }}>{formatCurrency(stats.valorTotalFechamentos)}</div>\n            <div className=\"stat-change positive\" style={{ color: '#000064' }}>\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <polyline points=\"23 6 13.5 15.5 8.5 10.5 1 18\"></polyline>\n                <polyline points=\"17 6 23 6 23 12\"></polyline>\n              </svg>\n              +15% este m√™s\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Card de Cr√©dito */}\n      <div className=\"stats-grid\" style={{ marginTop: '2rem', gridTemplateColumns: '1fr' }}>\n        <div className=\"stat-card\" style={{ backgroundColor: '#dbeafe', border: '1px solid #3b82f6' }}>\n          <div className=\"stat-label\">Cr√©dito Total</div>\n          <div className=\"stat-value\" style={{ color: '#000064' }}>\n            {formatCurrency(stats.comissaoTotalGeral)}\n          </div>\n          <div className=\"stat-subtitle\" style={{ color: '#1e40af' }}>\n            Cr√©ditos acumulados\n          </div>\n        </div>\n      </div>\n\n            {/* Gr√°fico de Indica√ß√µes e Visitas por Cidade */}\n      {stats.agendamentosPorCidade.length > 0 && (\n        <div className=\"card\" style={{ marginTop: '2rem' }}>\n          <div className=\"card-header\">\n            <h2 className=\"card-title\">Indica√ß√µes e Visitas por Cidade</h2>\n            <p style={{ fontSize: '0.875rem', color: '#6b7280', margin: 0 }}>\n              Top 10 cidades com mais movimenta√ß√£o no funil de vendas\n            </p>\n          </div>\n          <div className=\"card-body\">\n            <ResponsiveContainer width=\"100%\" height={400}>\n              <BarChart\n                data={stats.agendamentosPorCidade}\n                margin={{\n                  top: 20,\n                  right: 30,\n                  left: 20,\n                  bottom: 5,\n                }}\n              >\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis \n                  dataKey=\"cidade\" \n                  angle={-45}\n                  textAnchor=\"end\"\n                  height={100}\n                  interval={0}\n                />\n                <YAxis />\n                <Tooltip \n                  labelFormatter={(value) => `Cidade: ${value}`}\n                  formatter={(value, name, props) => {\n                    const labels = {\n                      indicacoes: 'Indica√ß√µes',\n                      agendamentos: 'Visitas',\n                      total: 'Total'\n                    };\n                    return [value, labels[name] || name];\n                  }}\n                  labelStyle={{ fontWeight: 'bold' }}\n                  contentStyle={{ \n                    backgroundColor: '#f9fafb', \n                    border: '1px solid #e5e7eb',\n                    borderRadius: '6px'\n                  }}\n                />\n                <Legend />\n                                  <Bar dataKey=\"indicacoes\" fill=\"#0891b2\" name=\"Indica√ß√µes\" />\n                <Bar dataKey=\"agendamentos\" fill=\"#3b82f6\" name=\"Visitas\" />\n\n              </BarChart>\n            </ResponsiveContainer>\n            \n            {/* Tabela de Convers√£o por Cidade */}\n            <div style={{ marginTop: '1.5rem', padding: '1rem', backgroundColor: '#f8fafc', borderRadius: '8px' }}>\n              <h4 style={{ fontSize: '0.875rem', fontWeight: '600', color: '#1f2937', marginBottom: '1rem' }}>\n                Taxa de Convers√£o por Cidade\n              </h4>\n              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', gap: '1rem' }}>\n                {stats.agendamentosPorCidade.map((cidade, index) => (\n                  <div key={index} style={{ \n                    padding: '0.75rem',\n                    backgroundColor: 'white',\n                    borderRadius: '6px',\n                    boxShadow: '0 1px 2px rgba(0, 0, 0, 0.05)'\n                  }}>\n                    <div style={{ fontWeight: '600', marginBottom: '0.5rem', fontSize: '0.875rem' }}>\n                      {cidade.cidade}\n                    </div>\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '0.25rem' }}>\n                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                        <span style={{ fontSize: '0.75rem', color: '#6b7280' }}>Indica√ß√µes ‚Üí Visitas:</span>\n                        <span style={{ \n                          fontSize: '0.75rem', \n                          fontWeight: '600',\n                          color: parseFloat(cidade.conversaoAgendamento) > 50 ? '#000064' : \n                                 parseFloat(cidade.conversaoAgendamento) > 20 ? '#3b82f6' : '#6366f1'\n                        }}>\n                          {cidade.conversaoAgendamento}%\n                        </span>\n                      </div>\n\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"grid grid-2\" style={{ gap: '2rem' }}>\n        {/* Pipeline de Vendas */}\n        <div className=\"card\" style={{ minWidth: 0 }}>\n          <div className=\"card-header\">\n            <h2 className=\"card-title\">Pipeline de Vendas</h2>\n          </div>\n          <div className=\"card-body\">\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n              {Object.entries(stats.leadsPorStatus).map(([status, count]) => {\n                const total = stats.totalIndicacoes || 1;\n                const percentage = (count / total) * 100;\n                return (\n                  <div key={status}>\n                    <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.5rem' }}>\n                      <span style={{ fontSize: '0.875rem', fontWeight: '500', textTransform: 'capitalize' }}>\n                        {status.replace(/_/g, ' ')}\n                      </span>\n                      <span style={{ fontSize: '0.875rem', color: '#6b7280' }}>\n                        {count} ({percentage.toFixed(1)}%)\n                      </span>\n                    </div>\n                    <div style={{ \n                      width: '100%', \n                      height: '8px', \n                      backgroundColor: '#e5e7eb',\n                      borderRadius: '4px',\n                      overflow: 'hidden'\n                    }}>\n                      <div style={{\n                        width: `${percentage}%`,\n                        height: '100%',\n                        backgroundColor: getStatusColor(status),\n                        transition: 'width 0.5s ease'\n                      }} />\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n\n        {/* Ranking dos Corretores */}\n        <div className=\"card\" style={{ minWidth: 0 }}>\n          <div className=\"card-header\">\n            <h2 className=\"card-title\">üèÜ Ranking dos Corretores</h2>\n            <p style={{ fontSize: '0.875rem', color: '#6b7280', margin: 0 }}>\n              Classifica√ß√£o por valor fechado\n            </p>\n          </div>\n          <div className=\"card-body\">\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n              {(() => {\n                // Ordenar consultores e calcular posi√ß√µes\n                const consultoresOrdenados = [...stats.consultoresStats]\n                  .sort((a, b) => b.valorFechado - a.valorFechado);\n                \n                let posicaoAtual = 0;\n                const consultoresComPosicao = consultoresOrdenados.map((consultor) => {\n                  const temAtividade = consultor.valorFechado > 0 || \n                                      consultor.totalAgendamentos > 0 || \n                                      consultor.totalIndicacoes > 0;\n                  if (temAtividade) {\n                    posicaoAtual++;\n                    return { ...consultor, posicao: posicaoAtual, temAtividade };\n                  }\n                  return { ...consultor, posicao: null, temAtividade };\n                });\n\n                // Separar ativos e inativos\n                const consultoresAtivos = consultoresComPosicao.filter(c => c.temAtividade);\n                const consultoresInativos = consultoresComPosicao.filter(c => !c.temAtividade);\n\n                return (\n                  <>\n                    {/* Top 3 em destaque */}\n                    <div style={{ \n                      display: 'grid', \n                      gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\n                      gap: '1rem',\n                      marginBottom: '2rem'\n                    }}>\n                      {consultoresAtivos.slice(0, 3).map((consultor, idx) => (\n                        <div \n                          key={idx}\n                          style={{\n                            padding: '1.5rem',\n                            borderRadius: '16px',\n                            background: idx === 0 ? 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)' :\n                                       idx === 1 ? 'linear-gradient(135deg, #e5e7eb 0%, #d1d5db 100%)' :\n                                                  'linear-gradient(135deg, #fed7aa 0%, #fdba74 100%)',\n                            border: '2px solid',\n                            borderColor: idx === 0 ? '#fbbf24' :\n                                        idx === 1 ? '#9ca3af' : '#fb923c',\n                            boxShadow: '0 10px 25px rgba(0, 0, 0, 0.1)',\n                            textAlign: 'center',\n                            position: 'relative',\n                            overflow: 'hidden'\n                          }}\n                        >\n                          {/* Medalha */}\n                          <div style={{ \n                            fontSize: '3rem', \n                            marginBottom: '0.5rem' \n                          }}>\n                            {idx === 0 ? 'ü•á' : idx === 1 ? 'ü•à' : 'ü•â'}\n                          </div>\n                          \n                          {/* Nome */}\n                          <h3 style={{ \n                            fontSize: '1.25rem', \n                            fontWeight: '700',\n                            marginBottom: '0.5rem',\n                            color: '#1e293b'\n                          }}>\n                            {consultor.nome}\n                          </h3>\n                          \n                          {/* Posi√ß√£o */}\n                          <div style={{ \n                            fontSize: '0.875rem', \n                            color: '#64748b',\n                            marginBottom: '1rem'\n                          }}>\n                            {idx === 0 ? 'üëë L√≠der do Ranking' :\n                             idx === 1 ? '‚≠ê Vice-l√≠der' : \n                                        'üåü 3¬∫ Lugar'}\n                          </div>\n\n                          {/* Estat√≠sticas */}\n                          <div style={{ \n                            display: 'grid', \n                            gridTemplateColumns: 'repeat(3, 1fr)',\n                            gap: '0.5rem',\n                            marginBottom: '1rem'\n                          }}>\n                            <div>\n                              <div style={{ fontSize: '1.25rem', fontWeight: '700' }}>\n                                {consultor.totalIndicacoes}\n                              </div>\n                              <div style={{ fontSize: '0.75rem', color: '#64748b' }}>\n                                Indica√ß√µes\n                              </div>\n                            </div>\n                            <div>\n                              <div style={{ fontSize: '1.25rem', fontWeight: '700', color: '#3b82f6' }}>\n                                {consultor.totalAgendamentos}\n                              </div>\n                              <div style={{ fontSize: '0.75rem', color: '#64748b' }}>\n                                Visitas\n                              </div>\n                            </div>\n                            <div>\n                              <div style={{ fontSize: '1.25rem', fontWeight: '700', color: '#10b981' }}>\n                                {consultor.totalFechamentos}\n                              </div>\n                              <div style={{ fontSize: '0.75rem', color: '#64748b' }}>\n                                Fechamentos\n                              </div>\n                            </div>\n\n                          </div>\n\n                          {/* Valores */}\n                          <div style={{ \n                            padding: '1rem', \n                            background: 'rgba(255, 255, 255, 0.8)',\n                            borderRadius: '12px',\n                            marginTop: '1rem'\n                          }}>\n                            <div style={{ fontSize: '1.5rem', fontWeight: '700', color: '#059669' }}>\n                              {formatCurrency(consultor.valorFechado)}\n                            </div>\n                            <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\n                              Cr√©dito: {formatCurrency(consultor.comissaoTotal)}\n                            </div>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n\n                                {/* Restante dos corretores */}\n            {consultoresAtivos.length > 3 && (\n                      <div style={{ marginBottom: '2rem' }}>\n                        <h4 style={{ \n                          fontSize: '1rem', \n                          fontWeight: '600', \n                          color: '#1e293b',\n                          marginBottom: '1rem'\n                        }}>\n                          Demais Posi√ß√µes\n                        </h4>\n                        <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n                          {consultoresAtivos.slice(3).map((consultor, idx) => (\n                            <div \n                              key={idx}\n                              style={{\n                                display: 'flex',\n                                alignItems: 'center',\n                                padding: '1rem',\n                                background: '#ffffff',\n                                borderRadius: '12px',\n                                border: '1px solid #e5e7eb',\n                                gap: '1rem'\n                              }}\n                            >\n                              <div style={{ \n                                fontSize: '1.25rem', \n                                fontWeight: '600',\n                                color: '#6b7280',\n                                minWidth: '50px'\n                              }}>\n                                {consultor.posicao}¬∫\n                              </div>\n                              \n                              <div style={{ flex: 1 }}>\n                                <div style={{ fontWeight: '600' }}>{consultor.nome}</div>\n                                <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\n                                  {consultor.posicao}¬™ posi√ß√£o\n                                </div>\n                              </div>\n\n                              <div style={{ \n                                display: 'flex', \n                                gap: '2rem',\n                                fontSize: '0.875rem'\n                              }}>\n                                <div style={{ textAlign: 'center' }}>\n                                                  <div style={{ fontWeight: '600' }}>{consultor.totalIndicacoes}</div>\n                <div style={{ color: '#6b7280', fontSize: '0.75rem' }}>indica√ß√µes</div>\n                                </div>\n                                <div style={{ textAlign: 'center' }}>\n                                  <div style={{ fontWeight: '600', color: '#3b82f6' }}>{consultor.totalAgendamentos}</div>\n                                  <div style={{ color: '#6b7280', fontSize: '0.75rem' }}>visitas</div>\n                                </div>\n                                <div style={{ textAlign: 'center' }}>\n                                  <div style={{ fontWeight: '600', color: '#10b981' }}>{consultor.totalFechamentos}</div>\n                                  <div style={{ color: '#6b7280', fontSize: '0.75rem' }}>fechamentos</div>\n                                </div>\n\n                              </div>\n\n                              <div style={{ textAlign: 'right' }}>\n                                <div style={{ fontWeight: '700', color: '#059669' }}>\n                                  {formatCurrency(consultor.valorFechado)}\n                                </div>\n                                <div style={{ fontSize: '0.75rem', color: '#6b7280' }}>\n                                  Cr√©dito: {formatCurrency(consultor.comissaoTotal)}\n                                </div>\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n\n                                {/* Corretores inativos */}\n            {consultoresInativos.length > 0 && (\n                      <div>\n                        <h4 style={{ \n                          fontSize: '1rem', \n                          fontWeight: '600', \n                          color: '#6b7280',\n                          marginBottom: '1rem'\n                        }}>\n                          üí§ Aguardando Primeira Venda\n                        </h4>\n                        <div style={{ \n                          display: 'grid',\n                          gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\n                          gap: '0.75rem'\n                        }}>\n                          {consultoresInativos.map((consultor, idx) => (\n                            <div \n                              key={idx}\n                              style={{\n                                padding: '1rem',\n                                background: '#f8fafc',\n                                borderRadius: '8px',\n                                border: '1px solid #e2e8f0',\n                                textAlign: 'center',\n                                opacity: 0.7\n                              }}\n                            >\n                              <div style={{ \n                                fontSize: '1.5rem', \n                                marginBottom: '0.5rem' \n                              }}>\n                                ‚≠ï\n          </div>\n                              <div style={{ fontWeight: '600', color: '#64748b' }}>\n                                {consultor.nome}\n                              </div>\n                              <div style={{ \n                                fontSize: '0.75rem', \n                                color: '#94a3b8',\n                                marginTop: '0.25rem'\n                              }}>\n                                Sem vendas\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                  </>\n                );\n              })()}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Gr√°fico de Convers√£o */}\n      <div className=\"card\" style={{ marginTop: '2rem' }}>\n        <div className=\"card-header\">\n          <h2 className=\"card-title\">Taxa de Convers√£o do Funil</h2>\n        </div>\n        <div className=\"card-body\">\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', gap: '2rem' }}>\n            <div style={{ flex: 1, textAlign: 'center' }}>\n              <div style={{ fontSize: '2rem', fontWeight: '700', color: '#0ea5e9' }}>\n                {stats.totalIndicacoes}\n              </div>\n              <div style={{ fontSize: '0.875rem', color: '#64748b', marginTop: '0.25rem' }}>\n                Leads Totais\n              </div>\n            </div>\n\n            <svg width=\"40\" height=\"40\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#94a3b8\" strokeWidth=\"2\">\n              <polyline points=\"9 18 15 12 9 6\"></polyline>\n            </svg>\n\n            <div style={{ flex: 1, textAlign: 'center' }}>\n              <div style={{ fontSize: '2rem', fontWeight: '700', color: '#3b82f6' }}>\n                {stats.leadsPorStatus.agendado || 0}\n              </div>\n              <div style={{ fontSize: '0.875rem', color: '#64748b', marginTop: '0.25rem' }}>\n                Agendados\n              </div>\n            </div>\n\n            <svg width=\"40\" height=\"40\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#94a3b8\" strokeWidth=\"2\">\n              <polyline points=\"9 18 15 12 9 6\"></polyline>\n            </svg>\n\n            <div style={{ flex: 1, textAlign: 'center' }}>\n              <div style={{ fontSize: '2rem', fontWeight: '700', color: '#0891b2' }}>\n                {stats.leadsPorStatus.compareceu || 0}\n              </div>\n              <div style={{ fontSize: '0.875rem', color: '#64748b', marginTop: '0.25rem' }}>\n                Compareceram\n              </div>\n            </div>\n\n            <svg width=\"40\" height=\"40\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#94a3b8\" strokeWidth=\"2\">\n              <polyline points=\"9 18 15 12 9 6\"></polyline>\n            </svg>\n\n            <div style={{ flex: 1, textAlign: 'center' }}>\n              <div style={{ fontSize: '2rem', fontWeight: '700', color: '#000064' }}>\n                {stats.leadsPorStatus.fechado || 0}\n              </div>\n              <div style={{ fontSize: '0.875rem', color: '#64748b', marginTop: '0.25rem' }}>\n                Fechados\n              </div>\n            </div>\n          </div>\n\n          <div style={{ \n            marginTop: '2rem', \n            padding: '1rem', \n            backgroundColor: '#f9fafb',\n            borderRadius: '8px',\n            textAlign: 'center' \n          }}>\n                        <div style={{ fontSize: '1.5rem', fontWeight: '700', color: '#000064' }}>\n              {stats.totalIndicacoes > 0\n                ? ((stats.leadsPorStatus.fechado || 0) / stats.totalIndicacoes * 100).toFixed(1)\n                : 0}%\n            </div>\n            <div style={{ fontSize: '0.875rem', color: '#64748b', marginTop: '0.25rem' }}>\n              Taxa de Convers√£o Total\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}