{"ast":null,"code":"import _objectSpread from\"C:/Users/bruno/OneDrive/\\xC1rea de Trabalho/InvestMoneyBots/Crm/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Fechamentos=()=>{const{makeRequest}=useAuth();const[fechamentos,setFechamentos]=useState([]);const[pacientes,setPacientes]=useState([]);const[consultores,setConsultores]=useState([]);const[clinicas,setClinicas]=useState([]);const[agendamentos,setAgendamentos]=useState([]);const[erro,setErro]=useState(null);const[carregando,setCarregando]=useState(true);const[filtroConsultor,setFiltroConsultor]=useState('');const[filtroClinica,setFiltroClinica]=useState('');const[filtroMes,setFiltroMes]=useState('');const[filtrosVisiveis,setFiltrosVisiveis]=useState(false);const[modalAberto,setModalAberto]=useState(false);const[fechamentoEditando,setFechamentoEditando]=useState(null);const[novoFechamento,setNovoFechamento]=useState({paciente_id:'',consultor_id:'',clinica_id:'',agendamento_id:'',valor_fechado:'',valor_formatado:'',data_fechamento:new Date().toISOString().split('T')[0],tipo_tratamento:'',forma_pagamento:'',observacoes:''});const[contratoSelecionado,setContratoSelecionado]=useState(null);const formasPagamento=['À vista','Parcelado 2x','Parcelado 3x','Parcelado 4x','Parcelado 6x','Parcelado 12x','PIX','Boleto','Cartão de Crédito','Cartão de Débito'];useEffect(()=>{carregarDados();},[]);const carregarDados=async()=>{try{setCarregando(true);setErro(null);const[fechamentosRes,pacientesRes,consultoresRes,clinicasRes,agendamentosRes]=await Promise.all([makeRequest('/fechamentos'),makeRequest('/pacientes'),makeRequest('/consultores'),makeRequest('/clinicas'),makeRequest('/agendamentos')]);if(!fechamentosRes.ok){throw new Error(\"Erro ao carregar fechamentos: \".concat(fechamentosRes.status,\" - Tabela 'fechamentos' n\\xE3o encontrada. Execute a migra\\xE7\\xE3o no Supabase.\"));}const fechamentosData=await fechamentosRes.json();const pacientesData=await pacientesRes.json();const consultoresData=await consultoresRes.json();const clinicasData=await clinicasRes.json();const agendamentosData=await agendamentosRes.json();setFechamentos(Array.isArray(fechamentosData)?fechamentosData:[]);setPacientes(Array.isArray(pacientesData)?pacientesData:[]);setConsultores(Array.isArray(consultoresData)?consultoresData:[]);setClinicas(Array.isArray(clinicasData)?clinicasData:[]);setAgendamentos(Array.isArray(agendamentosData)?agendamentosData:[]);setCarregando(false);}catch(error){console.error('Erro ao carregar dados:',error);setErro(error.message);setCarregando(false);setFechamentos([]);setPacientes([]);setConsultores([]);setClinicas([]);setAgendamentos([]);}};const filtrarFechamentos=()=>{if(!Array.isArray(fechamentos)){return[];}return fechamentos.filter(fechamento=>{const consultorMatch=!filtroConsultor||fechamento.consultor_id===parseInt(filtroConsultor);const clinicaMatch=!filtroClinica||fechamento.clinica_id===parseInt(filtroClinica);let mesMatch=true;if(filtroMes){const dataFechamento=new Date(fechamento.data_fechamento);const[ano,mes]=filtroMes.split('-');mesMatch=dataFechamento.getFullYear()===parseInt(ano)&&dataFechamento.getMonth()===parseInt(mes)-1;}return consultorMatch&&clinicaMatch&&mesMatch;});};const calcularEstatisticas=()=>{const fechamentosFiltrados=filtrarFechamentos();const total=fechamentosFiltrados.length;const valorTotal=fechamentosFiltrados.reduce((acc,f)=>acc+parseFloat(f.valor_fechado||0),0);const ticketMedio=total>0?valorTotal/total:0;const hoje=new Date().toISOString().split('T')[0];const fechamentosHoje=fechamentosFiltrados.filter(f=>f.data_fechamento===hoje).length;const mesAtual=new Date();const fechamentosMes=fechamentosFiltrados.filter(f=>{const dataFechamento=new Date(f.data_fechamento);return dataFechamento.getMonth()===mesAtual.getMonth()&&dataFechamento.getFullYear()===mesAtual.getFullYear();}).length;return{total,valorTotal,ticketMedio,fechamentosHoje,fechamentosMes};};const contarFiltrosAtivos=()=>{let count=0;if(filtroConsultor)count++;if(filtroClinica)count++;if(filtroMes)count++;return count;};const limparFiltros=()=>{setFiltroConsultor('');setFiltroClinica('');setFiltroMes('');};const abrirModal=function(){let fechamento=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(fechamento){setFechamentoEditando(fechamento);const valorFormatado=fechamento.valor_fechado?parseFloat(fechamento.valor_fechado).toLocaleString('pt-BR',{minimumFractionDigits:2,maximumFractionDigits:2}):'';setNovoFechamento(_objectSpread(_objectSpread({},fechamento),{},{valor_formatado:valorFormatado}));}else{setFechamentoEditando(null);setNovoFechamento({paciente_id:'',consultor_id:'',clinica_id:'',agendamento_id:'',valor_fechado:'',valor_formatado:'',data_fechamento:new Date().toISOString().split('T')[0],tipo_tratamento:'',forma_pagamento:'',observacoes:''});}setModalAberto(true);};const fecharModal=()=>{setModalAberto(false);setFechamentoEditando(null);setContratoSelecionado(null);setNovoFechamento({paciente_id:'',consultor_id:'',clinica_id:'',agendamento_id:'',valor_fechado:'',valor_formatado:'',data_fechamento:new Date().toISOString().split('T')[0],tipo_tratamento:'',forma_pagamento:'',observacoes:''});};const salvarFechamento=async()=>{try{if(!novoFechamento.paciente_id){alert('Por favor, selecione um paciente!');return;}if(!novoFechamento.valor_fechado||parseFloat(novoFechamento.valor_fechado)<=0){alert('Por favor, informe um valor válido!');return;}if(!fechamentoEditando&&!contratoSelecionado){alert('Por favor, selecione o contrato em PDF!');return;}if(contratoSelecionado&&contratoSelecionado.type!=='application/pdf'){alert('Apenas arquivos PDF são permitidos para o contrato!');return;}if(contratoSelecionado&&contratoSelecionado.size>10*1024*1024){alert('O arquivo deve ter no máximo 10MB!');return;}const formData=new FormData();formData.append('paciente_id',parseInt(novoFechamento.paciente_id));if(novoFechamento.consultor_id&&novoFechamento.consultor_id.trim()!==''){formData.append('consultor_id',parseInt(novoFechamento.consultor_id));}if(novoFechamento.clinica_id&&novoFechamento.clinica_id.trim()!==''){formData.append('clinica_id',parseInt(novoFechamento.clinica_id));}if(novoFechamento.agendamento_id&&novoFechamento.agendamento_id.trim()!==''){formData.append('agendamento_id',parseInt(novoFechamento.agendamento_id));}formData.append('valor_fechado',parseFloat(novoFechamento.valor_fechado));formData.append('data_fechamento',novoFechamento.data_fechamento);formData.append('tipo_tratamento',novoFechamento.tipo_tratamento||'');formData.append('forma_pagamento',novoFechamento.forma_pagamento||'');formData.append('observacoes',novoFechamento.observacoes||'');if(contratoSelecionado){formData.append('contrato',contratoSelecionado);}const API_BASE_URL=process.env.REACT_APP_API_URL||(process.env.NODE_ENV==='production'?'https://seu-backend.vercel.app/api':'http://localhost:5000/api');const url=fechamentoEditando?\"\".concat(API_BASE_URL,\"/fechamentos/\").concat(fechamentoEditando.id):\"\".concat(API_BASE_URL,\"/fechamentos\");const token=localStorage.getItem('token');const response=await fetch(url,{method:fechamentoEditando?'PUT':'POST',headers:{'Authorization':\"Bearer \".concat(token)},body:formData});const result=await response.json();if(response.ok){carregarDados();fecharModal();alert(fechamentoEditando?'Fechamento atualizado!':\"Fechamento registrado com sucesso! Contrato: \".concat(result.contrato||'anexado'));}else{alert('Erro: '+(result.error||'Erro desconhecido'));}}catch(error){console.error('Erro ao salvar fechamento:',error);alert('Erro ao salvar: '+error.message);}};const excluirFechamento=async id=>{if(window.confirm('Deseja excluir este fechamento?')){try{const response=await makeRequest(\"/fechamentos/\".concat(id),{method:'DELETE'});if(response.ok){carregarDados();alert('Fechamento excluído!');}else{const data=await response.json();alert('Erro ao excluir: '+(data.error||'Erro desconhecido'));}}catch(error){console.error('Erro ao excluir fechamento:',error);alert('Erro ao excluir: '+error.message);}}};const formatarMoeda=valor=>{return new Intl.NumberFormat('pt-BR',{style:'currency',currency:'BRL'}).format(valor);};const formatarData=data=>{return new Date(data+'T00:00:00').toLocaleDateString('pt-BR');};const formatarValorInput=valor=>{const numeros=valor.replace(/\\D/g,'');if(!numeros)return'';const numero=parseFloat(numeros)/100;return numero.toLocaleString('pt-BR',{minimumFractionDigits:2,maximumFractionDigits:2});};const desformatarValor=valorFormatado=>{if(!valorFormatado)return'';return valorFormatado.replace(/\\./g,'').replace(',','.');};const handleValorChange=e=>{const valorDigitado=e.target.value;const valorFormatado=formatarValorInput(valorDigitado);const valorNumerico=desformatarValor(valorFormatado);setNovoFechamento(_objectSpread(_objectSpread({},novoFechamento),{},{valor_fechado:valorNumerico,valor_formatado:valorFormatado}));};const downloadContrato=async fechamento=>{try{const API_BASE_URL=process.env.REACT_APP_API_URL||(process.env.NODE_ENV==='production'?'https://seu-backend.vercel.app/api':'http://localhost:5000/api');const token=localStorage.getItem('token');const response=await fetch(\"\".concat(API_BASE_URL,\"/fechamentos/\").concat(fechamento.id,\"/contrato?token=\").concat(token));if(!response.ok){const data=await response.json();alert('Erro ao baixar contrato: '+(data.error||'Erro desconhecido'));return;}const blob=await response.blob();const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=fechamento.contrato_nome_original||'contrato.pdf';document.body.appendChild(a);a.click();window.URL.revokeObjectURL(url);document.body.removeChild(a);}catch(error){console.error('Erro ao baixar contrato:',error);alert('Erro ao baixar contrato: '+error.message);}};if(carregando){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})});}if(erro){return/*#__PURE__*/_jsx(\"div\",{style:{padding:'2rem'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-error\",children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 0.5rem 0',fontSize:'1.125rem'},children:\"Erro ao carregar dados\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 1rem 0'},children:erro}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:carregarDados,children:\"Tentar Novamente\"})]})});}const fechamentosFiltrados=filtrarFechamentos();const stats=calcularEstatisticas();const filtrosAtivos=contarFiltrosAtivos();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Fechamentos\"}),/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"Gerencie os fechamentos de vendas\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Total de Fechamentos\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.total})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Valor Total\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:formatarMoeda(stats.valorTotal)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Ticket M\\xE9dio\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:formatarMoeda(stats.ticketMedio)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Fechamentos Hoje\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.fechamentosHoje})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Fechamentos no M\\xEAs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.fechamentosMes})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-title\",children:\"Lista de Fechamentos\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-secondary\",onClick:()=>setFiltrosVisiveis(!filtrosVisiveis),children:[/*#__PURE__*/_jsx(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:/*#__PURE__*/_jsx(\"polygon\",{points:\"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\"})}),\"Filtros \",filtrosAtivos>0&&\"(\".concat(filtrosAtivos,\")\")]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:()=>abrirModal(),children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"5\",x2:\"12\",y2:\"19\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"5\",y1:\"12\",x2:\"19\",y2:\"12\"})]}),\"Novo Fechamento\"]})]})]}),filtrosVisiveis&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1.5rem',backgroundColor:'#f9fafb',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-3\",style:{gap:'1rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{margin:0},children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Consultor\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:filtroConsultor,onChange:e=>setFiltroConsultor(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todos\"}),consultores.map(c=>/*#__PURE__*/_jsx(\"option\",{value:c.id,children:c.nome},c.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{margin:0},children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Cl\\xEDnica\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:filtroClinica,onChange:e=>setFiltroClinica(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todas\"}),clinicas.map(c=>/*#__PURE__*/_jsx(\"option\",{value:c.id,children:c.nome},c.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{margin:0},children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"M\\xEAs\"}),/*#__PURE__*/_jsx(\"input\",{type:\"month\",className:\"form-input\",value:filtroMes,onChange:e=>setFiltroMes(e.target.value)})]})]}),filtrosAtivos>0&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-secondary\",onClick:limparFiltros,children:\"Limpar Filtros\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:fechamentosFiltrados.length===0?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'3rem',color:'#6b7280'},children:\"Nenhum fechamento encontrado\"}):/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Data\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Paciente\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Consultor\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cl\\xEDnica\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tipo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Forma Pgto\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:'right'},children:\"Valor\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'120px'},children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:fechamentosFiltrados.map(fechamento=>{const paciente=pacientes.find(p=>p.id===fechamento.paciente_id);const consultor=consultores.find(c=>c.id===fechamento.consultor_id);const clinica=clinicas.find(c=>c.id===fechamento.clinica_id);return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:formatarData(fechamento.data_fechamento)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500'},children:(paciente===null||paciente===void 0?void 0:paciente.nome)||'N/A'}),fechamento.observacoes&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',color:'#6b7280'},children:fechamento.observacoes})]})}),/*#__PURE__*/_jsx(\"td\",{children:(consultor===null||consultor===void 0?void 0:consultor.nome)||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:(clinica===null||clinica===void 0?void 0:clinica.nome)||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:fechamento.tipo_tratamento&&/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-info\",children:fechamento.tipo_tratamento})}),/*#__PURE__*/_jsx(\"td\",{children:fechamento.forma_pagamento||'N/A'}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:'right',fontWeight:'600'},children:formatarMoeda(fechamento.valor_fechado)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',justifyContent:'flex-end'},children:[fechamento.contrato_arquivo&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>downloadContrato(fechamento),className:\"btn btn-sm btn-success\",title:\"Baixar contrato: \".concat(fechamento.contrato_nome_original||'contrato.pdf'),children:/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"14 2 14 8 20 8\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"8\",y1:\"13\",x2:\"16\",y2:\"13\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"8\",y1:\"17\",x2:\"16\",y2:\"17\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 11v6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M9 14l3 3 3-3\"})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-secondary\",onClick:()=>abrirModal(fechamento),title:\"Editar fechamento\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-danger\",onClick:()=>excluirFechamento(fechamento.id),title:\"Excluir fechamento\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"3 6 5 6 21 6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"})]})})]})})]},fechamento.id);})})]})})})]}),modalAberto&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",style:{maxWidth:'700px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"modal-title\",children:fechamentoEditando?'Editar Fechamento':'Novo Fechamento'}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:fecharModal,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Paciente *\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:novoFechamento.paciente_id,onChange:e=>setNovoFechamento(_objectSpread(_objectSpread({},novoFechamento),{},{paciente_id:e.target.value})),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecione\"}),pacientes.map(p=>/*#__PURE__*/_jsx(\"option\",{value:p.id,children:p.nome},p.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Valor (R$) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-input\",value:novoFechamento.valor_formatado,onChange:handleValorChange,placeholder:\"0,00\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Consultor\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:novoFechamento.consultor_id,onChange:e=>setNovoFechamento(_objectSpread(_objectSpread({},novoFechamento),{},{consultor_id:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecione\"}),consultores.map(c=>/*#__PURE__*/_jsx(\"option\",{value:c.id,children:c.nome},c.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Cl\\xEDnica\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:novoFechamento.clinica_id,onChange:e=>setNovoFechamento(_objectSpread(_objectSpread({},novoFechamento),{},{clinica_id:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecione\"}),clinicas.map(c=>/*#__PURE__*/_jsx(\"option\",{value:c.id,children:c.nome},c.id))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Data do Fechamento\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-input\",value:novoFechamento.data_fechamento,onChange:e=>setNovoFechamento(_objectSpread(_objectSpread({},novoFechamento),{},{data_fechamento:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Agendamento\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:novoFechamento.agendamento_id,onChange:e=>setNovoFechamento(_objectSpread(_objectSpread({},novoFechamento),{},{agendamento_id:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Nenhum\"}),agendamentos.map(a=>/*#__PURE__*/_jsxs(\"option\",{value:a.id,children:[a.paciente_nome,\" - \",new Date(a.data_agendamento).toLocaleDateString('pt-BR')]},a.id))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Tipo de Tratamento\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:novoFechamento.tipo_tratamento,onChange:e=>setNovoFechamento(_objectSpread(_objectSpread({},novoFechamento),{},{tipo_tratamento:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecione\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Est\\xE9tico\",children:\"Est\\xE9tico\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Odontol\\xF3gico\",children:\"Odontol\\xF3gico\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Forma de Pagamento\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:novoFechamento.forma_pagamento,onChange:e=>setNovoFechamento(_objectSpread(_objectSpread({},novoFechamento),{},{forma_pagamento:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecione\"}),formasPagamento.map(f=>/*#__PURE__*/_jsx(\"option\",{value:f,children:f},f))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[\"Contrato (PDF) \",fechamentoEditando?'(opcional)':'*']}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-input\",accept:\".pdf\",onChange:e=>setContratoSelecionado(e.target.files[0])}),fechamentoEditando&&fechamentoEditando.contrato_arquivo&&/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.875rem',color:'#6b7280',marginTop:'0.5rem'},children:[\"Contrato atual: \",fechamentoEditando.contrato_nome_original||fechamentoEditando.contrato_arquivo]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Observa\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-textarea\",rows:\"3\",value:novoFechamento.observacoes,onChange:e=>setNovoFechamento(_objectSpread(_objectSpread({},novoFechamento),{},{observacoes:e.target.value})),placeholder:\"Informa\\xE7\\xF5es adicionais...\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',justifyContent:'flex-end',marginTop:'2rem'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:fecharModal,children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:salvarFechamento,children:fechamentoEditando?'Atualizar':'Salvar'})]})]})]})})]});};export default Fechamentos;","map":{"version":3,"names":["React","useState","useEffect","useAuth","jsx","_jsx","jsxs","_jsxs","Fechamentos","makeRequest","fechamentos","setFechamentos","pacientes","setPacientes","consultores","setConsultores","clinicas","setClinicas","agendamentos","setAgendamentos","erro","setErro","carregando","setCarregando","filtroConsultor","setFiltroConsultor","filtroClinica","setFiltroClinica","filtroMes","setFiltroMes","filtrosVisiveis","setFiltrosVisiveis","modalAberto","setModalAberto","fechamentoEditando","setFechamentoEditando","novoFechamento","setNovoFechamento","paciente_id","consultor_id","clinica_id","agendamento_id","valor_fechado","valor_formatado","data_fechamento","Date","toISOString","split","tipo_tratamento","forma_pagamento","observacoes","contratoSelecionado","setContratoSelecionado","formasPagamento","carregarDados","fechamentosRes","pacientesRes","consultoresRes","clinicasRes","agendamentosRes","Promise","all","ok","Error","concat","status","fechamentosData","json","pacientesData","consultoresData","clinicasData","agendamentosData","Array","isArray","error","console","message","filtrarFechamentos","filter","fechamento","consultorMatch","parseInt","clinicaMatch","mesMatch","dataFechamento","ano","mes","getFullYear","getMonth","calcularEstatisticas","fechamentosFiltrados","total","length","valorTotal","reduce","acc","f","parseFloat","ticketMedio","hoje","fechamentosHoje","mesAtual","fechamentosMes","contarFiltrosAtivos","count","limparFiltros","abrirModal","arguments","undefined","valorFormatado","toLocaleString","minimumFractionDigits","maximumFractionDigits","_objectSpread","fecharModal","salvarFechamento","alert","type","size","formData","FormData","append","trim","API_BASE_URL","process","env","REACT_APP_API_URL","NODE_ENV","url","id","token","localStorage","getItem","response","fetch","method","headers","body","result","contrato","excluirFechamento","window","confirm","data","formatarMoeda","valor","Intl","NumberFormat","style","currency","format","formatarData","toLocaleDateString","formatarValorInput","numeros","replace","numero","desformatarValor","handleValorChange","e","valorDigitado","target","value","valorNumerico","downloadContrato","blob","URL","createObjectURL","a","document","createElement","href","download","contrato_nome_original","appendChild","click","revokeObjectURL","removeChild","className","children","padding","margin","fontSize","onClick","stats","filtrosAtivos","marginBottom","display","justifyContent","alignItems","gap","width","height","viewBox","fill","stroke","strokeWidth","points","x1","y1","x2","y2","backgroundColor","borderBottom","onChange","map","c","nome","textAlign","color","paciente","find","p","consultor","clinica","fontWeight","contrato_arquivo","title","d","maxWidth","required","placeholder","paciente_nome","data_agendamento","accept","files","marginTop","rows"],"sources":["C:/Users/bruno/OneDrive/Área de Trabalho/InvestMoneyBots/Crm/frontend/src/components/Fechamentos.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst Fechamentos = () => {\n  const { makeRequest } = useAuth();\n  const [fechamentos, setFechamentos] = useState([]);\n  const [pacientes, setPacientes] = useState([]);\n  const [consultores, setConsultores] = useState([]);\n  const [clinicas, setClinicas] = useState([]);\n  const [agendamentos, setAgendamentos] = useState([]);\n  const [erro, setErro] = useState(null);\n  const [carregando, setCarregando] = useState(true);\n  const [filtroConsultor, setFiltroConsultor] = useState('');\n  const [filtroClinica, setFiltroClinica] = useState('');\n  const [filtroMes, setFiltroMes] = useState('');\n  const [filtrosVisiveis, setFiltrosVisiveis] = useState(false);\n  const [modalAberto, setModalAberto] = useState(false);\n  const [fechamentoEditando, setFechamentoEditando] = useState(null);\n  const [novoFechamento, setNovoFechamento] = useState({\n    paciente_id: '',\n    consultor_id: '',\n    clinica_id: '',\n    agendamento_id: '',\n    valor_fechado: '',\n    valor_formatado: '',\n    data_fechamento: new Date().toISOString().split('T')[0],\n    tipo_tratamento: '',\n    forma_pagamento: '',\n    observacoes: ''\n  });\n  const [contratoSelecionado, setContratoSelecionado] = useState(null);\n\n  const formasPagamento = [\n    'À vista',\n    'Parcelado 2x',\n    'Parcelado 3x',\n    'Parcelado 4x',\n    'Parcelado 6x',\n    'Parcelado 12x',\n    'PIX',\n    'Boleto',\n    'Cartão de Crédito',\n    'Cartão de Débito'\n  ];\n\n  useEffect(() => {\n    carregarDados();\n  }, []);\n\n  const carregarDados = async () => {\n    try {\n      setCarregando(true);\n      setErro(null);\n      \n      const [fechamentosRes, pacientesRes, consultoresRes, clinicasRes, agendamentosRes] = await Promise.all([\n        makeRequest('/fechamentos'),\n        makeRequest('/pacientes'),\n        makeRequest('/consultores'),\n        makeRequest('/clinicas'),\n        makeRequest('/agendamentos')\n      ]);\n\n      if (!fechamentosRes.ok) {\n        throw new Error(`Erro ao carregar fechamentos: ${fechamentosRes.status} - Tabela 'fechamentos' não encontrada. Execute a migração no Supabase.`);\n      }\n\n      const fechamentosData = await fechamentosRes.json();\n      const pacientesData = await pacientesRes.json();\n      const consultoresData = await consultoresRes.json();\n      const clinicasData = await clinicasRes.json();\n      const agendamentosData = await agendamentosRes.json();\n\n      setFechamentos(Array.isArray(fechamentosData) ? fechamentosData : []);\n      setPacientes(Array.isArray(pacientesData) ? pacientesData : []);\n      setConsultores(Array.isArray(consultoresData) ? consultoresData : []);\n      setClinicas(Array.isArray(clinicasData) ? clinicasData : []);\n      setAgendamentos(Array.isArray(agendamentosData) ? agendamentosData : []);\n      \n      setCarregando(false);\n    } catch (error) {\n      console.error('Erro ao carregar dados:', error);\n      setErro(error.message);\n      setCarregando(false);\n      \n      setFechamentos([]);\n      setPacientes([]);\n      setConsultores([]);\n      setClinicas([]);\n      setAgendamentos([]);\n    }\n  };\n\n  const filtrarFechamentos = () => {\n    if (!Array.isArray(fechamentos)) {\n      return [];\n    }\n    return fechamentos.filter(fechamento => {\n      const consultorMatch = !filtroConsultor || fechamento.consultor_id === parseInt(filtroConsultor);\n      const clinicaMatch = !filtroClinica || fechamento.clinica_id === parseInt(filtroClinica);\n      \n      let mesMatch = true;\n      if (filtroMes) {\n        const dataFechamento = new Date(fechamento.data_fechamento);\n        const [ano, mes] = filtroMes.split('-');\n        mesMatch = dataFechamento.getFullYear() === parseInt(ano) && \n                   dataFechamento.getMonth() === parseInt(mes) - 1;\n      }\n\n      return consultorMatch && clinicaMatch && mesMatch;\n    });\n  };\n\n  const calcularEstatisticas = () => {\n    const fechamentosFiltrados = filtrarFechamentos();\n    const total = fechamentosFiltrados.length;\n    const valorTotal = fechamentosFiltrados.reduce((acc, f) => acc + parseFloat(f.valor_fechado || 0), 0);\n    const ticketMedio = total > 0 ? valorTotal / total : 0;\n    \n    const hoje = new Date().toISOString().split('T')[0];\n    const fechamentosHoje = fechamentosFiltrados.filter(f => f.data_fechamento === hoje).length;\n\n    const mesAtual = new Date();\n    const fechamentosMes = fechamentosFiltrados.filter(f => {\n      const dataFechamento = new Date(f.data_fechamento);\n      return dataFechamento.getMonth() === mesAtual.getMonth() && \n             dataFechamento.getFullYear() === mesAtual.getFullYear();\n    }).length;\n\n    return { total, valorTotal, ticketMedio, fechamentosHoje, fechamentosMes };\n  };\n\n  const contarFiltrosAtivos = () => {\n    let count = 0;\n    if (filtroConsultor) count++;\n    if (filtroClinica) count++;\n    if (filtroMes) count++;\n    return count;\n  };\n\n  const limparFiltros = () => {\n    setFiltroConsultor('');\n    setFiltroClinica('');\n    setFiltroMes('');\n  };\n\n  const abrirModal = (fechamento = null) => {\n    if (fechamento) {\n      setFechamentoEditando(fechamento);\n      const valorFormatado = fechamento.valor_fechado \n        ? parseFloat(fechamento.valor_fechado).toLocaleString('pt-BR', {\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 2\n          })\n        : '';\n      \n      setNovoFechamento({ \n        ...fechamento, \n        valor_formatado: valorFormatado \n      });\n    } else {\n      setFechamentoEditando(null);\n      setNovoFechamento({\n        paciente_id: '',\n        consultor_id: '',\n        clinica_id: '',\n        agendamento_id: '',\n        valor_fechado: '',\n        valor_formatado: '',\n        data_fechamento: new Date().toISOString().split('T')[0],\n        tipo_tratamento: '',\n        forma_pagamento: '',\n        observacoes: ''\n      });\n    }\n    setModalAberto(true);\n  };\n\n  const fecharModal = () => {\n    setModalAberto(false);\n    setFechamentoEditando(null);\n    setContratoSelecionado(null);\n    setNovoFechamento({\n      paciente_id: '',\n      consultor_id: '',\n      clinica_id: '',\n      agendamento_id: '',\n      valor_fechado: '',\n      valor_formatado: '',\n      data_fechamento: new Date().toISOString().split('T')[0],\n      tipo_tratamento: '',\n      forma_pagamento: '',\n      observacoes: ''\n    });\n  };\n\n  const salvarFechamento = async () => {\n    try {\n      if (!novoFechamento.paciente_id) {\n        alert('Por favor, selecione um paciente!');\n        return;\n      }\n      \n      if (!novoFechamento.valor_fechado || parseFloat(novoFechamento.valor_fechado) <= 0) {\n        alert('Por favor, informe um valor válido!');\n        return;\n      }\n\n      if (!fechamentoEditando && !contratoSelecionado) {\n        alert('Por favor, selecione o contrato em PDF!');\n        return;\n      }\n\n      if (contratoSelecionado && contratoSelecionado.type !== 'application/pdf') {\n        alert('Apenas arquivos PDF são permitidos para o contrato!');\n        return;\n      }\n\n      if (contratoSelecionado && contratoSelecionado.size > 10 * 1024 * 1024) {\n        alert('O arquivo deve ter no máximo 10MB!');\n        return;\n      }\n\n      const formData = new FormData();\n      \n      formData.append('paciente_id', parseInt(novoFechamento.paciente_id));\n      \n      if (novoFechamento.consultor_id && novoFechamento.consultor_id.trim() !== '') {\n        formData.append('consultor_id', parseInt(novoFechamento.consultor_id));\n      }\n      \n      if (novoFechamento.clinica_id && novoFechamento.clinica_id.trim() !== '') {\n        formData.append('clinica_id', parseInt(novoFechamento.clinica_id));\n      }\n      \n      if (novoFechamento.agendamento_id && novoFechamento.agendamento_id.trim() !== '') {\n        formData.append('agendamento_id', parseInt(novoFechamento.agendamento_id));\n      }\n      \n      formData.append('valor_fechado', parseFloat(novoFechamento.valor_fechado));\n      formData.append('data_fechamento', novoFechamento.data_fechamento);\n      formData.append('tipo_tratamento', novoFechamento.tipo_tratamento || '');\n      formData.append('forma_pagamento', novoFechamento.forma_pagamento || '');\n      formData.append('observacoes', novoFechamento.observacoes || '');\n      \n      if (contratoSelecionado) {\n        formData.append('contrato', contratoSelecionado);\n      }\n\n      const API_BASE_URL = process.env.REACT_APP_API_URL || \n        (process.env.NODE_ENV === 'production' \n          ? 'https://seu-backend.vercel.app/api' \n          : 'http://localhost:5000/api');\n      \n      const url = fechamentoEditando \n        ? `${API_BASE_URL}/fechamentos/${fechamentoEditando.id}`\n        : `${API_BASE_URL}/fechamentos`;\n      \n      const token = localStorage.getItem('token');\n      const response = await fetch(url, {\n        method: fechamentoEditando ? 'PUT' : 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n        body: formData\n      });\n\n      const result = await response.json();\n\n      if (response.ok) {\n        carregarDados();\n        fecharModal();\n        alert(fechamentoEditando ? 'Fechamento atualizado!' : `Fechamento registrado com sucesso! Contrato: ${result.contrato || 'anexado'}`);\n      } else {\n        alert('Erro: ' + (result.error || 'Erro desconhecido'));\n      }\n    } catch (error) {\n      console.error('Erro ao salvar fechamento:', error);\n      alert('Erro ao salvar: ' + error.message);\n    }\n  };\n\n  const excluirFechamento = async (id) => {\n    if (window.confirm('Deseja excluir este fechamento?')) {\n      try {\n        const response = await makeRequest(`/fechamentos/${id}`, {\n          method: 'DELETE'\n        });\n\n        if (response.ok) {\n          carregarDados();\n          alert('Fechamento excluído!');\n        } else {\n          const data = await response.json();\n          alert('Erro ao excluir: ' + (data.error || 'Erro desconhecido'));\n        }\n      } catch (error) {\n        console.error('Erro ao excluir fechamento:', error);\n        alert('Erro ao excluir: ' + error.message);\n      }\n    }\n  };\n\n  const formatarMoeda = (valor) => {\n    return new Intl.NumberFormat('pt-BR', {\n      style: 'currency',\n      currency: 'BRL'\n    }).format(valor);\n  };\n\n  const formatarData = (data) => {\n    return new Date(data + 'T00:00:00').toLocaleDateString('pt-BR');\n  };\n\n  const formatarValorInput = (valor) => {\n    const numeros = valor.replace(/\\D/g, '');\n    if (!numeros) return '';\n    const numero = parseFloat(numeros) / 100;\n    return numero.toLocaleString('pt-BR', {\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    });\n  };\n\n  const desformatarValor = (valorFormatado) => {\n    if (!valorFormatado) return '';\n    return valorFormatado.replace(/\\./g, '').replace(',', '.');\n  };\n\n  const handleValorChange = (e) => {\n    const valorDigitado = e.target.value;\n    const valorFormatado = formatarValorInput(valorDigitado);\n    const valorNumerico = desformatarValor(valorFormatado);\n    \n    setNovoFechamento({\n      ...novoFechamento, \n      valor_fechado: valorNumerico,\n      valor_formatado: valorFormatado\n    });\n  };\n\n  const downloadContrato = async (fechamento) => {\n    try {\n      const API_BASE_URL = process.env.REACT_APP_API_URL || \n        (process.env.NODE_ENV === 'production' \n          ? 'https://seu-backend.vercel.app/api' \n          : 'http://localhost:5000/api');\n      \n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_BASE_URL}/fechamentos/${fechamento.id}/contrato?token=${token}`);\n\n      if (!response.ok) {\n        const data = await response.json();\n        alert('Erro ao baixar contrato: ' + (data.error || 'Erro desconhecido'));\n        return;\n      }\n\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = fechamento.contrato_nome_original || 'contrato.pdf';\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n    } catch (error) {\n      console.error('Erro ao baixar contrato:', error);\n      alert('Erro ao baixar contrato: ' + error.message);\n    }\n  };\n\n  if (carregando) {\n    return (\n      <div className=\"loading\">\n        <div className=\"spinner\"></div>\n      </div>\n    );\n  }\n\n  if (erro) {\n    return (\n      <div style={{ padding: '2rem' }}>\n        <div className=\"alert alert-error\">\n          <h3 style={{ margin: '0 0 0.5rem 0', fontSize: '1.125rem' }}>Erro ao carregar dados</h3>\n          <p style={{ margin: '0 0 1rem 0' }}>{erro}</p>\n          <button className=\"btn btn-primary\" onClick={carregarDados}>\n            Tentar Novamente\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const fechamentosFiltrados = filtrarFechamentos();\n  const stats = calcularEstatisticas();\n  const filtrosAtivos = contarFiltrosAtivos();\n\n  return (\n    <div>\n      <div className=\"page-header\">\n        <h1 className=\"page-title\">Fechamentos</h1>\n        <p className=\"page-subtitle\">Gerencie os fechamentos de vendas</p>\n      </div>\n\n      {/* KPIs */}\n      <div className=\"stats-grid\" style={{ marginBottom: '2rem' }}>\n        <div className=\"stat-card\">\n          <div className=\"stat-label\">Total de Fechamentos</div>\n          <div className=\"stat-value\">{stats.total}</div>\n        </div>\n        \n        <div className=\"stat-card\">\n          <div className=\"stat-label\">Valor Total</div>\n          <div className=\"stat-value\">{formatarMoeda(stats.valorTotal)}</div>\n        </div>\n        \n        <div className=\"stat-card\">\n          <div className=\"stat-label\">Ticket Médio</div>\n          <div className=\"stat-value\">{formatarMoeda(stats.ticketMedio)}</div>\n        </div>\n        \n        <div className=\"stat-card\">\n          <div className=\"stat-label\">Fechamentos Hoje</div>\n          <div className=\"stat-value\">{stats.fechamentosHoje}</div>\n        </div>\n        \n        <div className=\"stat-card\">\n          <div className=\"stat-label\">Fechamentos no Mês</div>\n          <div className=\"stat-value\">{stats.fechamentosMes}</div>\n        </div>\n      </div>\n\n      {/* Filtros e Ações */}\n      <div className=\"card\">\n        <div className=\"card-header\" style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <h2 className=\"card-title\">Lista de Fechamentos</h2>\n          <div style={{ display: 'flex', gap: '1rem' }}>\n            <button \n              className=\"btn btn-secondary\"\n              onClick={() => setFiltrosVisiveis(!filtrosVisiveis)}\n            >\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <polygon points=\"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\"></polygon>\n              </svg>\n              Filtros {filtrosAtivos > 0 && `(${filtrosAtivos})`}\n            </button>\n            <button className=\"btn btn-primary\" onClick={() => abrirModal()}>\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line>\n                <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line>\n              </svg>\n              Novo Fechamento\n            </button>\n          </div>\n        </div>\n\n        {/* Filtros */}\n        {filtrosVisiveis && (\n          <div style={{ \n            padding: '1.5rem', \n            backgroundColor: '#f9fafb',\n            borderBottom: '1px solid #e5e7eb'\n          }}>\n            <div className=\"grid grid-3\" style={{ gap: '1rem', marginBottom: '1rem' }}>\n              <div className=\"form-group\" style={{ margin: 0 }}>\n                <label className=\"form-label\">Consultor</label>\n                <select \n                  className=\"form-select\"\n                  value={filtroConsultor} \n                  onChange={(e) => setFiltroConsultor(e.target.value)}\n                >\n                  <option value=\"\">Todos</option>\n                  {consultores.map(c => (\n                    <option key={c.id} value={c.id}>{c.nome}</option>\n                  ))}\n                </select>\n              </div>\n\n              <div className=\"form-group\" style={{ margin: 0 }}>\n                <label className=\"form-label\">Clínica</label>\n                <select \n                  className=\"form-select\"\n                  value={filtroClinica} \n                  onChange={(e) => setFiltroClinica(e.target.value)}\n                >\n                  <option value=\"\">Todas</option>\n                  {clinicas.map(c => (\n                    <option key={c.id} value={c.id}>{c.nome}</option>\n                  ))}\n                </select>\n              </div>\n\n              <div className=\"form-group\" style={{ margin: 0 }}>\n                <label className=\"form-label\">Mês</label>\n                <input \n                  type=\"month\" \n                  className=\"form-input\"\n                  value={filtroMes} \n                  onChange={(e) => setFiltroMes(e.target.value)}\n                />\n              </div>\n            </div>\n            \n            {filtrosAtivos > 0 && (\n              <button \n                className=\"btn btn-sm btn-secondary\"\n                onClick={limparFiltros}\n              >\n                Limpar Filtros\n              </button>\n            )}\n          </div>\n        )}\n\n        <div className=\"card-body\">\n          {fechamentosFiltrados.length === 0 ? (\n            <div style={{ textAlign: 'center', padding: '3rem', color: '#6b7280' }}>\n              Nenhum fechamento encontrado\n            </div>\n          ) : (\n            <div className=\"table-container\">\n              <table className=\"table\">\n                <thead>\n                  <tr>\n                    <th>Data</th>\n                    <th>Paciente</th>\n                    <th>Consultor</th>\n                    <th>Clínica</th>\n                    <th>Tipo</th>\n                    <th>Forma Pgto</th>\n                    <th style={{ textAlign: 'right' }}>Valor</th>\n                    <th style={{ width: '120px' }}>Ações</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {fechamentosFiltrados.map(fechamento => {\n                    const paciente = pacientes.find(p => p.id === fechamento.paciente_id);\n                    const consultor = consultores.find(c => c.id === fechamento.consultor_id);\n                    const clinica = clinicas.find(c => c.id === fechamento.clinica_id);\n\n                    return (\n                      <tr key={fechamento.id}>\n                        <td>{formatarData(fechamento.data_fechamento)}</td>\n                        <td>\n                          <div>\n                            <div style={{ fontWeight: '500' }}>{paciente?.nome || 'N/A'}</div>\n                            {fechamento.observacoes && (\n                              <div style={{ fontSize: '0.75rem', color: '#6b7280' }}>\n                                {fechamento.observacoes}\n                              </div>\n                            )}\n                          </div>\n                        </td>\n                        <td>{consultor?.nome || 'N/A'}</td>\n                        <td>{clinica?.nome || 'N/A'}</td>\n                        <td>\n                          {fechamento.tipo_tratamento && (\n                            <span className=\"badge badge-info\">\n                              {fechamento.tipo_tratamento}\n                            </span>\n                          )}\n                        </td>\n                        <td>{fechamento.forma_pagamento || 'N/A'}</td>\n                        <td style={{ textAlign: 'right', fontWeight: '600' }}>\n                          {formatarMoeda(fechamento.valor_fechado)}\n                        </td>\n                        <td>\n                          <div style={{ display: 'flex', gap: '0.5rem', justifyContent: 'flex-end' }}>\n                            {fechamento.contrato_arquivo && (\n                              <button \n                                onClick={() => downloadContrato(fechamento)}\n                                className=\"btn btn-sm btn-success\"\n                                title={`Baixar contrato: ${fechamento.contrato_nome_original || 'contrato.pdf'}`}\n                              >\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                                  <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"></path>\n                                  <polyline points=\"14 2 14 8 20 8\"></polyline>\n                                  <line x1=\"8\" y1=\"13\" x2=\"16\" y2=\"13\"></line>\n                                  <line x1=\"8\" y1=\"17\" x2=\"16\" y2=\"17\"></line>\n                                  <path d=\"M12 11v6\"></path>\n                                  <path d=\"M9 14l3 3 3-3\"></path>\n                                </svg>\n                              </button>\n                            )}\n                            <button \n                              className=\"btn btn-sm btn-secondary\"\n                              onClick={() => abrirModal(fechamento)}\n                              title=\"Editar fechamento\"\n                            >\n                              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                                <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\n                                <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\n                              </svg>\n                            </button>\n                            <button \n                              className=\"btn btn-sm btn-danger\"\n                              onClick={() => excluirFechamento(fechamento.id)}\n                              title=\"Excluir fechamento\"\n                            >\n                              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                                <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                              </svg>\n                            </button>\n                          </div>\n                        </td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Modal */}\n      {modalAberto && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\" style={{ maxWidth: '700px' }}>\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">\n                {fechamentoEditando ? 'Editar Fechamento' : 'Novo Fechamento'}\n              </h2>\n              <button className=\"close-btn\" onClick={fecharModal}>\n                ×\n              </button>\n            </div>\n\n            <div className=\"modal-body\">\n              <div className=\"grid grid-2\">\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Paciente *</label>\n                  <select \n                    className=\"form-select\"\n                    value={novoFechamento.paciente_id}\n                    onChange={(e) => setNovoFechamento({...novoFechamento, paciente_id: e.target.value})}\n                    required\n                  >\n                    <option value=\"\">Selecione</option>\n                    {pacientes.map(p => (\n                      <option key={p.id} value={p.id}>{p.nome}</option>\n                    ))}\n                  </select>\n                </div>\n\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Valor (R$) *</label>\n                  <input \n                    type=\"text\"\n                    className=\"form-input\"\n                    value={novoFechamento.valor_formatado}\n                    onChange={handleValorChange}\n                    placeholder=\"0,00\"\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"grid grid-2\">\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Consultor</label>\n                  <select \n                    className=\"form-select\"\n                    value={novoFechamento.consultor_id}\n                    onChange={(e) => setNovoFechamento({...novoFechamento, consultor_id: e.target.value})}\n                  >\n                    <option value=\"\">Selecione</option>\n                    {consultores.map(c => (\n                      <option key={c.id} value={c.id}>{c.nome}</option>\n                    ))}\n                  </select>\n                </div>\n\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Clínica</label>\n                  <select \n                    className=\"form-select\"\n                    value={novoFechamento.clinica_id}\n                    onChange={(e) => setNovoFechamento({...novoFechamento, clinica_id: e.target.value})}\n                  >\n                    <option value=\"\">Selecione</option>\n                    {clinicas.map(c => (\n                      <option key={c.id} value={c.id}>{c.nome}</option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"grid grid-2\">\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Data do Fechamento</label>\n                  <input \n                    type=\"date\"\n                    className=\"form-input\"\n                    value={novoFechamento.data_fechamento}\n                    onChange={(e) => setNovoFechamento({...novoFechamento, data_fechamento: e.target.value})}\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Agendamento</label>\n                  <select \n                    className=\"form-select\"\n                    value={novoFechamento.agendamento_id}\n                    onChange={(e) => setNovoFechamento({...novoFechamento, agendamento_id: e.target.value})}\n                  >\n                    <option value=\"\">Nenhum</option>\n                    {agendamentos.map(a => (\n                      <option key={a.id} value={a.id}>\n                        {a.paciente_nome} - {new Date(a.data_agendamento).toLocaleDateString('pt-BR')}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"grid grid-2\">\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Tipo de Tratamento</label>\n                  <select \n                    className=\"form-select\"\n                    value={novoFechamento.tipo_tratamento}\n                    onChange={(e) => setNovoFechamento({...novoFechamento, tipo_tratamento: e.target.value})}\n                  >\n                    <option value=\"\">Selecione</option>\n                    <option value=\"Estético\">Estético</option>\n                    <option value=\"Odontológico\">Odontológico</option>\n                  </select>\n                </div>\n\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Forma de Pagamento</label>\n                  <select \n                    className=\"form-select\"\n                    value={novoFechamento.forma_pagamento}\n                    onChange={(e) => setNovoFechamento({...novoFechamento, forma_pagamento: e.target.value})}\n                  >\n                    <option value=\"\">Selecione</option>\n                    {formasPagamento.map(f => (\n                      <option key={f} value={f}>{f}</option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <label className=\"form-label\">Contrato (PDF) {fechamentoEditando ? '(opcional)' : '*'}</label>\n                <input \n                  type=\"file\"\n                  className=\"form-input\"\n                  accept=\".pdf\"\n                  onChange={(e) => setContratoSelecionado(e.target.files[0])}\n                />\n                {fechamentoEditando && fechamentoEditando.contrato_arquivo && (\n                  <p style={{ fontSize: '0.875rem', color: '#6b7280', marginTop: '0.5rem' }}>\n                    Contrato atual: {fechamentoEditando.contrato_nome_original || fechamentoEditando.contrato_arquivo}\n                  </p>\n                )}\n              </div>\n\n              <div className=\"form-group\">\n                <label className=\"form-label\">Observações</label>\n                <textarea \n                  className=\"form-textarea\"\n                  rows=\"3\"\n                  value={novoFechamento.observacoes}\n                  onChange={(e) => setNovoFechamento({...novoFechamento, observacoes: e.target.value})}\n                  placeholder=\"Informações adicionais...\"\n                />\n              </div>\n\n              <div style={{ display: 'flex', gap: '1rem', justifyContent: 'flex-end', marginTop: '2rem' }}>\n                <button className=\"btn btn-secondary\" onClick={fecharModal}>\n                  Cancelar\n                </button>\n                <button className=\"btn btn-primary\" onClick={salvarFechamento}>\n                  {fechamentoEditando ? 'Atualizar' : 'Salvar'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Fechamentos; "],"mappings":"6JAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElD,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAEC,WAAY,CAAC,CAAGN,OAAO,CAAC,CAAC,CACjC,KAAM,CAACO,WAAW,CAAEC,cAAc,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACW,SAAS,CAAEC,YAAY,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACa,WAAW,CAAEC,cAAc,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACe,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACiB,YAAY,CAAEC,eAAe,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACmB,IAAI,CAAEC,OAAO,CAAC,CAAGpB,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACqB,UAAU,CAAEC,aAAa,CAAC,CAAGtB,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAACuB,eAAe,CAAEC,kBAAkB,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACyB,aAAa,CAAEC,gBAAgB,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAAC2B,SAAS,CAAEC,YAAY,CAAC,CAAG5B,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAAC6B,eAAe,CAAEC,kBAAkB,CAAC,CAAG9B,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAAC+B,WAAW,CAAEC,cAAc,CAAC,CAAGhC,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACiC,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGlC,QAAQ,CAAC,IAAI,CAAC,CAClE,KAAM,CAACmC,cAAc,CAAEC,iBAAiB,CAAC,CAAGpC,QAAQ,CAAC,CACnDqC,WAAW,CAAE,EAAE,CACfC,YAAY,CAAE,EAAE,CAChBC,UAAU,CAAE,EAAE,CACdC,cAAc,CAAE,EAAE,CAClBC,aAAa,CAAE,EAAE,CACjBC,eAAe,CAAE,EAAE,CACnBC,eAAe,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACvDC,eAAe,CAAE,EAAE,CACnBC,eAAe,CAAE,EAAE,CACnBC,WAAW,CAAE,EACf,CAAC,CAAC,CACF,KAAM,CAACC,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGnD,QAAQ,CAAC,IAAI,CAAC,CAEpE,KAAM,CAAAoD,eAAe,CAAG,CACtB,SAAS,CACT,cAAc,CACd,cAAc,CACd,cAAc,CACd,cAAc,CACd,eAAe,CACf,KAAK,CACL,QAAQ,CACR,mBAAmB,CACnB,kBAAkB,CACnB,CAEDnD,SAAS,CAAC,IAAM,CACdoD,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF/B,aAAa,CAAC,IAAI,CAAC,CACnBF,OAAO,CAAC,IAAI,CAAC,CAEb,KAAM,CAACkC,cAAc,CAAEC,YAAY,CAAEC,cAAc,CAAEC,WAAW,CAAEC,eAAe,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CACrGpD,WAAW,CAAC,cAAc,CAAC,CAC3BA,WAAW,CAAC,YAAY,CAAC,CACzBA,WAAW,CAAC,cAAc,CAAC,CAC3BA,WAAW,CAAC,WAAW,CAAC,CACxBA,WAAW,CAAC,eAAe,CAAC,CAC7B,CAAC,CAEF,GAAI,CAAC8C,cAAc,CAACO,EAAE,CAAE,CACtB,KAAM,IAAI,CAAAC,KAAK,kCAAAC,MAAA,CAAkCT,cAAc,CAACU,MAAM,oFAAyE,CAAC,CAClJ,CAEA,KAAM,CAAAC,eAAe,CAAG,KAAM,CAAAX,cAAc,CAACY,IAAI,CAAC,CAAC,CACnD,KAAM,CAAAC,aAAa,CAAG,KAAM,CAAAZ,YAAY,CAACW,IAAI,CAAC,CAAC,CAC/C,KAAM,CAAAE,eAAe,CAAG,KAAM,CAAAZ,cAAc,CAACU,IAAI,CAAC,CAAC,CACnD,KAAM,CAAAG,YAAY,CAAG,KAAM,CAAAZ,WAAW,CAACS,IAAI,CAAC,CAAC,CAC7C,KAAM,CAAAI,gBAAgB,CAAG,KAAM,CAAAZ,eAAe,CAACQ,IAAI,CAAC,CAAC,CAErDxD,cAAc,CAAC6D,KAAK,CAACC,OAAO,CAACP,eAAe,CAAC,CAAGA,eAAe,CAAG,EAAE,CAAC,CACrErD,YAAY,CAAC2D,KAAK,CAACC,OAAO,CAACL,aAAa,CAAC,CAAGA,aAAa,CAAG,EAAE,CAAC,CAC/DrD,cAAc,CAACyD,KAAK,CAACC,OAAO,CAACJ,eAAe,CAAC,CAAGA,eAAe,CAAG,EAAE,CAAC,CACrEpD,WAAW,CAACuD,KAAK,CAACC,OAAO,CAACH,YAAY,CAAC,CAAGA,YAAY,CAAG,EAAE,CAAC,CAC5DnD,eAAe,CAACqD,KAAK,CAACC,OAAO,CAACF,gBAAgB,CAAC,CAAGA,gBAAgB,CAAG,EAAE,CAAC,CAExEhD,aAAa,CAAC,KAAK,CAAC,CACtB,CAAE,MAAOmD,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/CrD,OAAO,CAACqD,KAAK,CAACE,OAAO,CAAC,CACtBrD,aAAa,CAAC,KAAK,CAAC,CAEpBZ,cAAc,CAAC,EAAE,CAAC,CAClBE,YAAY,CAAC,EAAE,CAAC,CAChBE,cAAc,CAAC,EAAE,CAAC,CAClBE,WAAW,CAAC,EAAE,CAAC,CACfE,eAAe,CAAC,EAAE,CAAC,CACrB,CACF,CAAC,CAED,KAAM,CAAA0D,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,GAAI,CAACL,KAAK,CAACC,OAAO,CAAC/D,WAAW,CAAC,CAAE,CAC/B,MAAO,EAAE,CACX,CACA,MAAO,CAAAA,WAAW,CAACoE,MAAM,CAACC,UAAU,EAAI,CACtC,KAAM,CAAAC,cAAc,CAAG,CAACxD,eAAe,EAAIuD,UAAU,CAACxC,YAAY,GAAK0C,QAAQ,CAACzD,eAAe,CAAC,CAChG,KAAM,CAAA0D,YAAY,CAAG,CAACxD,aAAa,EAAIqD,UAAU,CAACvC,UAAU,GAAKyC,QAAQ,CAACvD,aAAa,CAAC,CAExF,GAAI,CAAAyD,QAAQ,CAAG,IAAI,CACnB,GAAIvD,SAAS,CAAE,CACb,KAAM,CAAAwD,cAAc,CAAG,GAAI,CAAAvC,IAAI,CAACkC,UAAU,CAACnC,eAAe,CAAC,CAC3D,KAAM,CAACyC,GAAG,CAAEC,GAAG,CAAC,CAAG1D,SAAS,CAACmB,KAAK,CAAC,GAAG,CAAC,CACvCoC,QAAQ,CAAGC,cAAc,CAACG,WAAW,CAAC,CAAC,GAAKN,QAAQ,CAACI,GAAG,CAAC,EAC9CD,cAAc,CAACI,QAAQ,CAAC,CAAC,GAAKP,QAAQ,CAACK,GAAG,CAAC,CAAG,CAAC,CAC5D,CAEA,MAAO,CAAAN,cAAc,EAAIE,YAAY,EAAIC,QAAQ,CACnD,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAM,oBAAoB,CAAGA,CAAA,GAAM,CACjC,KAAM,CAAAC,oBAAoB,CAAGb,kBAAkB,CAAC,CAAC,CACjD,KAAM,CAAAc,KAAK,CAAGD,oBAAoB,CAACE,MAAM,CACzC,KAAM,CAAAC,UAAU,CAAGH,oBAAoB,CAACI,MAAM,CAAC,CAACC,GAAG,CAAEC,CAAC,GAAKD,GAAG,CAAGE,UAAU,CAACD,CAAC,CAACtD,aAAa,EAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CACrG,KAAM,CAAAwD,WAAW,CAAGP,KAAK,CAAG,CAAC,CAAGE,UAAU,CAAGF,KAAK,CAAG,CAAC,CAEtD,KAAM,CAAAQ,IAAI,CAAG,GAAI,CAAAtD,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACnD,KAAM,CAAAqD,eAAe,CAAGV,oBAAoB,CAACZ,MAAM,CAACkB,CAAC,EAAIA,CAAC,CAACpD,eAAe,GAAKuD,IAAI,CAAC,CAACP,MAAM,CAE3F,KAAM,CAAAS,QAAQ,CAAG,GAAI,CAAAxD,IAAI,CAAC,CAAC,CAC3B,KAAM,CAAAyD,cAAc,CAAGZ,oBAAoB,CAACZ,MAAM,CAACkB,CAAC,EAAI,CACtD,KAAM,CAAAZ,cAAc,CAAG,GAAI,CAAAvC,IAAI,CAACmD,CAAC,CAACpD,eAAe,CAAC,CAClD,MAAO,CAAAwC,cAAc,CAACI,QAAQ,CAAC,CAAC,GAAKa,QAAQ,CAACb,QAAQ,CAAC,CAAC,EACjDJ,cAAc,CAACG,WAAW,CAAC,CAAC,GAAKc,QAAQ,CAACd,WAAW,CAAC,CAAC,CAChE,CAAC,CAAC,CAACK,MAAM,CAET,MAAO,CAAED,KAAK,CAAEE,UAAU,CAAEK,WAAW,CAAEE,eAAe,CAAEE,cAAe,CAAC,CAC5E,CAAC,CAED,KAAM,CAAAC,mBAAmB,CAAGA,CAAA,GAAM,CAChC,GAAI,CAAAC,KAAK,CAAG,CAAC,CACb,GAAIhF,eAAe,CAAEgF,KAAK,EAAE,CAC5B,GAAI9E,aAAa,CAAE8E,KAAK,EAAE,CAC1B,GAAI5E,SAAS,CAAE4E,KAAK,EAAE,CACtB,MAAO,CAAAA,KAAK,CACd,CAAC,CAED,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1BhF,kBAAkB,CAAC,EAAE,CAAC,CACtBE,gBAAgB,CAAC,EAAE,CAAC,CACpBE,YAAY,CAAC,EAAE,CAAC,CAClB,CAAC,CAED,KAAM,CAAA6E,UAAU,CAAG,QAAAA,CAAA,CAAuB,IAAtB,CAAA3B,UAAU,CAAA4B,SAAA,CAAAf,MAAA,IAAAe,SAAA,MAAAC,SAAA,CAAAD,SAAA,IAAG,IAAI,CACnC,GAAI5B,UAAU,CAAE,CACd5C,qBAAqB,CAAC4C,UAAU,CAAC,CACjC,KAAM,CAAA8B,cAAc,CAAG9B,UAAU,CAACrC,aAAa,CAC3CuD,UAAU,CAAClB,UAAU,CAACrC,aAAa,CAAC,CAACoE,cAAc,CAAC,OAAO,CAAE,CAC3DC,qBAAqB,CAAE,CAAC,CACxBC,qBAAqB,CAAE,CACzB,CAAC,CAAC,CACF,EAAE,CAEN3E,iBAAiB,CAAA4E,aAAA,CAAAA,aAAA,IACZlC,UAAU,MACbpC,eAAe,CAAEkE,cAAc,EAChC,CAAC,CACJ,CAAC,IAAM,CACL1E,qBAAqB,CAAC,IAAI,CAAC,CAC3BE,iBAAiB,CAAC,CAChBC,WAAW,CAAE,EAAE,CACfC,YAAY,CAAE,EAAE,CAChBC,UAAU,CAAE,EAAE,CACdC,cAAc,CAAE,EAAE,CAClBC,aAAa,CAAE,EAAE,CACjBC,eAAe,CAAE,EAAE,CACnBC,eAAe,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACvDC,eAAe,CAAE,EAAE,CACnBC,eAAe,CAAE,EAAE,CACnBC,WAAW,CAAE,EACf,CAAC,CAAC,CACJ,CACAjB,cAAc,CAAC,IAAI,CAAC,CACtB,CAAC,CAED,KAAM,CAAAiF,WAAW,CAAGA,CAAA,GAAM,CACxBjF,cAAc,CAAC,KAAK,CAAC,CACrBE,qBAAqB,CAAC,IAAI,CAAC,CAC3BiB,sBAAsB,CAAC,IAAI,CAAC,CAC5Bf,iBAAiB,CAAC,CAChBC,WAAW,CAAE,EAAE,CACfC,YAAY,CAAE,EAAE,CAChBC,UAAU,CAAE,EAAE,CACdC,cAAc,CAAE,EAAE,CAClBC,aAAa,CAAE,EAAE,CACjBC,eAAe,CAAE,EAAE,CACnBC,eAAe,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACvDC,eAAe,CAAE,EAAE,CACnBC,eAAe,CAAE,EAAE,CACnBC,WAAW,CAAE,EACf,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAiE,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACF,GAAI,CAAC/E,cAAc,CAACE,WAAW,CAAE,CAC/B8E,KAAK,CAAC,mCAAmC,CAAC,CAC1C,OACF,CAEA,GAAI,CAAChF,cAAc,CAACM,aAAa,EAAIuD,UAAU,CAAC7D,cAAc,CAACM,aAAa,CAAC,EAAI,CAAC,CAAE,CAClF0E,KAAK,CAAC,qCAAqC,CAAC,CAC5C,OACF,CAEA,GAAI,CAAClF,kBAAkB,EAAI,CAACiB,mBAAmB,CAAE,CAC/CiE,KAAK,CAAC,yCAAyC,CAAC,CAChD,OACF,CAEA,GAAIjE,mBAAmB,EAAIA,mBAAmB,CAACkE,IAAI,GAAK,iBAAiB,CAAE,CACzED,KAAK,CAAC,qDAAqD,CAAC,CAC5D,OACF,CAEA,GAAIjE,mBAAmB,EAAIA,mBAAmB,CAACmE,IAAI,CAAG,EAAE,CAAG,IAAI,CAAG,IAAI,CAAE,CACtEF,KAAK,CAAC,oCAAoC,CAAC,CAC3C,OACF,CAEA,KAAM,CAAAG,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAE/BD,QAAQ,CAACE,MAAM,CAAC,aAAa,CAAExC,QAAQ,CAAC7C,cAAc,CAACE,WAAW,CAAC,CAAC,CAEpE,GAAIF,cAAc,CAACG,YAAY,EAAIH,cAAc,CAACG,YAAY,CAACmF,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CAC5EH,QAAQ,CAACE,MAAM,CAAC,cAAc,CAAExC,QAAQ,CAAC7C,cAAc,CAACG,YAAY,CAAC,CAAC,CACxE,CAEA,GAAIH,cAAc,CAACI,UAAU,EAAIJ,cAAc,CAACI,UAAU,CAACkF,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CACxEH,QAAQ,CAACE,MAAM,CAAC,YAAY,CAAExC,QAAQ,CAAC7C,cAAc,CAACI,UAAU,CAAC,CAAC,CACpE,CAEA,GAAIJ,cAAc,CAACK,cAAc,EAAIL,cAAc,CAACK,cAAc,CAACiF,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CAChFH,QAAQ,CAACE,MAAM,CAAC,gBAAgB,CAAExC,QAAQ,CAAC7C,cAAc,CAACK,cAAc,CAAC,CAAC,CAC5E,CAEA8E,QAAQ,CAACE,MAAM,CAAC,eAAe,CAAExB,UAAU,CAAC7D,cAAc,CAACM,aAAa,CAAC,CAAC,CAC1E6E,QAAQ,CAACE,MAAM,CAAC,iBAAiB,CAAErF,cAAc,CAACQ,eAAe,CAAC,CAClE2E,QAAQ,CAACE,MAAM,CAAC,iBAAiB,CAAErF,cAAc,CAACY,eAAe,EAAI,EAAE,CAAC,CACxEuE,QAAQ,CAACE,MAAM,CAAC,iBAAiB,CAAErF,cAAc,CAACa,eAAe,EAAI,EAAE,CAAC,CACxEsE,QAAQ,CAACE,MAAM,CAAC,aAAa,CAAErF,cAAc,CAACc,WAAW,EAAI,EAAE,CAAC,CAEhE,GAAIC,mBAAmB,CAAE,CACvBoE,QAAQ,CAACE,MAAM,CAAC,UAAU,CAAEtE,mBAAmB,CAAC,CAClD,CAEA,KAAM,CAAAwE,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,GAC/CF,OAAO,CAACC,GAAG,CAACE,QAAQ,GAAK,YAAY,CAClC,oCAAoC,CACpC,2BAA2B,CAAC,CAElC,KAAM,CAAAC,GAAG,CAAG9F,kBAAkB,IAAA8B,MAAA,CACvB2D,YAAY,kBAAA3D,MAAA,CAAgB9B,kBAAkB,CAAC+F,EAAE,KAAAjE,MAAA,CACjD2D,YAAY,gBAAc,CAEjC,KAAM,CAAAO,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACN,GAAG,CAAE,CAChCO,MAAM,CAAErG,kBAAkB,CAAG,KAAK,CAAG,MAAM,CAC3CsG,OAAO,CAAE,CACP,eAAe,WAAAxE,MAAA,CAAYkE,KAAK,CAClC,CAAC,CACDO,IAAI,CAAElB,QACR,CAAC,CAAC,CAEF,KAAM,CAAAmB,MAAM,CAAG,KAAM,CAAAL,QAAQ,CAAClE,IAAI,CAAC,CAAC,CAEpC,GAAIkE,QAAQ,CAACvE,EAAE,CAAE,CACfR,aAAa,CAAC,CAAC,CACf4D,WAAW,CAAC,CAAC,CACbE,KAAK,CAAClF,kBAAkB,CAAG,wBAAwB,iDAAA8B,MAAA,CAAmD0E,MAAM,CAACC,QAAQ,EAAI,SAAS,CAAE,CAAC,CACvI,CAAC,IAAM,CACLvB,KAAK,CAAC,QAAQ,EAAIsB,MAAM,CAAChE,KAAK,EAAI,mBAAmB,CAAC,CAAC,CACzD,CACF,CAAE,MAAOA,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CAClD0C,KAAK,CAAC,kBAAkB,CAAG1C,KAAK,CAACE,OAAO,CAAC,CAC3C,CACF,CAAC,CAED,KAAM,CAAAgE,iBAAiB,CAAG,KAAO,CAAAX,EAAE,EAAK,CACtC,GAAIY,MAAM,CAACC,OAAO,CAAC,iCAAiC,CAAC,CAAE,CACrD,GAAI,CACF,KAAM,CAAAT,QAAQ,CAAG,KAAM,CAAA5H,WAAW,iBAAAuD,MAAA,CAAiBiE,EAAE,EAAI,CACvDM,MAAM,CAAE,QACV,CAAC,CAAC,CAEF,GAAIF,QAAQ,CAACvE,EAAE,CAAE,CACfR,aAAa,CAAC,CAAC,CACf8D,KAAK,CAAC,sBAAsB,CAAC,CAC/B,CAAC,IAAM,CACL,KAAM,CAAA2B,IAAI,CAAG,KAAM,CAAAV,QAAQ,CAAClE,IAAI,CAAC,CAAC,CAClCiD,KAAK,CAAC,mBAAmB,EAAI2B,IAAI,CAACrE,KAAK,EAAI,mBAAmB,CAAC,CAAC,CAClE,CACF,CAAE,MAAOA,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACnD0C,KAAK,CAAC,mBAAmB,CAAG1C,KAAK,CAACE,OAAO,CAAC,CAC5C,CACF,CACF,CAAC,CAED,KAAM,CAAAoE,aAAa,CAAIC,KAAK,EAAK,CAC/B,MAAO,IAAI,CAAAC,IAAI,CAACC,YAAY,CAAC,OAAO,CAAE,CACpCC,KAAK,CAAE,UAAU,CACjBC,QAAQ,CAAE,KACZ,CAAC,CAAC,CAACC,MAAM,CAACL,KAAK,CAAC,CAClB,CAAC,CAED,KAAM,CAAAM,YAAY,CAAIR,IAAI,EAAK,CAC7B,MAAO,IAAI,CAAAlG,IAAI,CAACkG,IAAI,CAAG,WAAW,CAAC,CAACS,kBAAkB,CAAC,OAAO,CAAC,CACjE,CAAC,CAED,KAAM,CAAAC,kBAAkB,CAAIR,KAAK,EAAK,CACpC,KAAM,CAAAS,OAAO,CAAGT,KAAK,CAACU,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CACxC,GAAI,CAACD,OAAO,CAAE,MAAO,EAAE,CACvB,KAAM,CAAAE,MAAM,CAAG3D,UAAU,CAACyD,OAAO,CAAC,CAAG,GAAG,CACxC,MAAO,CAAAE,MAAM,CAAC9C,cAAc,CAAC,OAAO,CAAE,CACpCC,qBAAqB,CAAE,CAAC,CACxBC,qBAAqB,CAAE,CACzB,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAA6C,gBAAgB,CAAIhD,cAAc,EAAK,CAC3C,GAAI,CAACA,cAAc,CAAE,MAAO,EAAE,CAC9B,MAAO,CAAAA,cAAc,CAAC8C,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CAACA,OAAO,CAAC,GAAG,CAAE,GAAG,CAAC,CAC5D,CAAC,CAED,KAAM,CAAAG,iBAAiB,CAAIC,CAAC,EAAK,CAC/B,KAAM,CAAAC,aAAa,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CACpC,KAAM,CAAArD,cAAc,CAAG4C,kBAAkB,CAACO,aAAa,CAAC,CACxD,KAAM,CAAAG,aAAa,CAAGN,gBAAgB,CAAChD,cAAc,CAAC,CAEtDxE,iBAAiB,CAAA4E,aAAA,CAAAA,aAAA,IACZ7E,cAAc,MACjBM,aAAa,CAAEyH,aAAa,CAC5BxH,eAAe,CAAEkE,cAAc,EAChC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAuD,gBAAgB,CAAG,KAAO,CAAArF,UAAU,EAAK,CAC7C,GAAI,CACF,KAAM,CAAA4C,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,GAC/CF,OAAO,CAACC,GAAG,CAACE,QAAQ,GAAK,YAAY,CAClC,oCAAoC,CACpC,2BAA2B,CAAC,CAElC,KAAM,CAAAG,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAtE,MAAA,CAAI2D,YAAY,kBAAA3D,MAAA,CAAgBe,UAAU,CAACkD,EAAE,qBAAAjE,MAAA,CAAmBkE,KAAK,CAAE,CAAC,CAEpG,GAAI,CAACG,QAAQ,CAACvE,EAAE,CAAE,CAChB,KAAM,CAAAiF,IAAI,CAAG,KAAM,CAAAV,QAAQ,CAAClE,IAAI,CAAC,CAAC,CAClCiD,KAAK,CAAC,2BAA2B,EAAI2B,IAAI,CAACrE,KAAK,EAAI,mBAAmB,CAAC,CAAC,CACxE,OACF,CAEA,KAAM,CAAA2F,IAAI,CAAG,KAAM,CAAAhC,QAAQ,CAACgC,IAAI,CAAC,CAAC,CAClC,KAAM,CAAArC,GAAG,CAAGa,MAAM,CAACyB,GAAG,CAACC,eAAe,CAACF,IAAI,CAAC,CAC5C,KAAM,CAAAG,CAAC,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACrCF,CAAC,CAACG,IAAI,CAAG3C,GAAG,CACZwC,CAAC,CAACI,QAAQ,CAAG7F,UAAU,CAAC8F,sBAAsB,EAAI,cAAc,CAChEJ,QAAQ,CAAChC,IAAI,CAACqC,WAAW,CAACN,CAAC,CAAC,CAC5BA,CAAC,CAACO,KAAK,CAAC,CAAC,CACTlC,MAAM,CAACyB,GAAG,CAACU,eAAe,CAAChD,GAAG,CAAC,CAC/ByC,QAAQ,CAAChC,IAAI,CAACwC,WAAW,CAACT,CAAC,CAAC,CAC9B,CAAE,MAAO9F,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChD0C,KAAK,CAAC,2BAA2B,CAAG1C,KAAK,CAACE,OAAO,CAAC,CACpD,CACF,CAAC,CAED,GAAItD,UAAU,CAAE,CACd,mBACEjB,IAAA,QAAK6K,SAAS,CAAC,SAAS,CAAAC,QAAA,cACtB9K,IAAA,QAAK6K,SAAS,CAAC,SAAS,CAAM,CAAC,CAC5B,CAAC,CAEV,CAEA,GAAI9J,IAAI,CAAE,CACR,mBACEf,IAAA,QAAK+I,KAAK,CAAE,CAAEgC,OAAO,CAAE,MAAO,CAAE,CAAAD,QAAA,cAC9B5K,KAAA,QAAK2K,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC9K,IAAA,OAAI+I,KAAK,CAAE,CAAEiC,MAAM,CAAE,cAAc,CAAEC,QAAQ,CAAE,UAAW,CAAE,CAAAH,QAAA,CAAC,wBAAsB,CAAI,CAAC,cACxF9K,IAAA,MAAG+I,KAAK,CAAE,CAAEiC,MAAM,CAAE,YAAa,CAAE,CAAAF,QAAA,CAAE/J,IAAI,CAAI,CAAC,cAC9Cf,IAAA,WAAQ6K,SAAS,CAAC,iBAAiB,CAACK,OAAO,CAAEjI,aAAc,CAAA6H,QAAA,CAAC,kBAE5D,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,CAEV,CAEA,KAAM,CAAAzF,oBAAoB,CAAGb,kBAAkB,CAAC,CAAC,CACjD,KAAM,CAAA2G,KAAK,CAAG/F,oBAAoB,CAAC,CAAC,CACpC,KAAM,CAAAgG,aAAa,CAAGlF,mBAAmB,CAAC,CAAC,CAE3C,mBACEhG,KAAA,QAAA4K,QAAA,eACE5K,KAAA,QAAK2K,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B9K,IAAA,OAAI6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,aAAW,CAAI,CAAC,cAC3C9K,IAAA,MAAG6K,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,mCAAiC,CAAG,CAAC,EAC/D,CAAC,cAGN5K,KAAA,QAAK2K,SAAS,CAAC,YAAY,CAAC9B,KAAK,CAAE,CAAEsC,YAAY,CAAE,MAAO,CAAE,CAAAP,QAAA,eAC1D5K,KAAA,QAAK2K,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB9K,IAAA,QAAK6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,sBAAoB,CAAK,CAAC,cACtD9K,IAAA,QAAK6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEK,KAAK,CAAC7F,KAAK,CAAM,CAAC,EAC5C,CAAC,cAENpF,KAAA,QAAK2K,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB9K,IAAA,QAAK6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,aAAW,CAAK,CAAC,cAC7C9K,IAAA,QAAK6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEnC,aAAa,CAACwC,KAAK,CAAC3F,UAAU,CAAC,CAAM,CAAC,EAChE,CAAC,cAENtF,KAAA,QAAK2K,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB9K,IAAA,QAAK6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,iBAAY,CAAK,CAAC,cAC9C9K,IAAA,QAAK6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEnC,aAAa,CAACwC,KAAK,CAACtF,WAAW,CAAC,CAAM,CAAC,EACjE,CAAC,cAEN3F,KAAA,QAAK2K,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB9K,IAAA,QAAK6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,kBAAgB,CAAK,CAAC,cAClD9K,IAAA,QAAK6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEK,KAAK,CAACpF,eAAe,CAAM,CAAC,EACtD,CAAC,cAEN7F,KAAA,QAAK2K,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB9K,IAAA,QAAK6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,uBAAkB,CAAK,CAAC,cACpD9K,IAAA,QAAK6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEK,KAAK,CAAClF,cAAc,CAAM,CAAC,EACrD,CAAC,EACH,CAAC,cAGN/F,KAAA,QAAK2K,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB5K,KAAA,QAAK2K,SAAS,CAAC,aAAa,CAAC9B,KAAK,CAAE,CAAEuC,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAS,CAAE,CAAAV,QAAA,eAC7G9K,IAAA,OAAI6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,sBAAoB,CAAI,CAAC,cACpD5K,KAAA,QAAK6I,KAAK,CAAE,CAAEuC,OAAO,CAAE,MAAM,CAAEG,GAAG,CAAE,MAAO,CAAE,CAAAX,QAAA,eAC3C5K,KAAA,WACE2K,SAAS,CAAC,mBAAmB,CAC7BK,OAAO,CAAEA,CAAA,GAAMxJ,kBAAkB,CAAC,CAACD,eAAe,CAAE,CAAAqJ,QAAA,eAEpD9K,IAAA,QAAK0L,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAAAjB,QAAA,cAC/F9K,IAAA,YAASgM,MAAM,CAAC,6CAA6C,CAAU,CAAC,CACrE,CAAC,WACE,CAACZ,aAAa,CAAG,CAAC,MAAAzH,MAAA,CAAQyH,aAAa,KAAG,EAC5C,CAAC,cACTlL,KAAA,WAAQ2K,SAAS,CAAC,iBAAiB,CAACK,OAAO,CAAEA,CAAA,GAAM7E,UAAU,CAAC,CAAE,CAAAyE,QAAA,eAC9D5K,KAAA,QAAKwL,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAAAjB,QAAA,eAC/F9K,IAAA,SAAMiM,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAAO,CAAC,cAC5CpM,IAAA,SAAMiM,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAAO,CAAC,EACzC,CAAC,kBAER,EAAQ,CAAC,EACN,CAAC,EACH,CAAC,CAGL3K,eAAe,eACdvB,KAAA,QAAK6I,KAAK,CAAE,CACVgC,OAAO,CAAE,QAAQ,CACjBsB,eAAe,CAAE,SAAS,CAC1BC,YAAY,CAAE,mBAChB,CAAE,CAAAxB,QAAA,eACA5K,KAAA,QAAK2K,SAAS,CAAC,aAAa,CAAC9B,KAAK,CAAE,CAAE0C,GAAG,CAAE,MAAM,CAAEJ,YAAY,CAAE,MAAO,CAAE,CAAAP,QAAA,eACxE5K,KAAA,QAAK2K,SAAS,CAAC,YAAY,CAAC9B,KAAK,CAAE,CAAEiC,MAAM,CAAE,CAAE,CAAE,CAAAF,QAAA,eAC/C9K,IAAA,UAAO6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,WAAS,CAAO,CAAC,cAC/C5K,KAAA,WACE2K,SAAS,CAAC,aAAa,CACvBhB,KAAK,CAAE1I,eAAgB,CACvBoL,QAAQ,CAAG7C,CAAC,EAAKtI,kBAAkB,CAACsI,CAAC,CAACE,MAAM,CAACC,KAAK,CAAE,CAAAiB,QAAA,eAEpD9K,IAAA,WAAQ6J,KAAK,CAAC,EAAE,CAAAiB,QAAA,CAAC,OAAK,CAAQ,CAAC,CAC9BrK,WAAW,CAAC+L,GAAG,CAACC,CAAC,eAChBzM,IAAA,WAAmB6J,KAAK,CAAE4C,CAAC,CAAC7E,EAAG,CAAAkD,QAAA,CAAE2B,CAAC,CAACC,IAAI,EAA1BD,CAAC,CAAC7E,EAAiC,CACjD,CAAC,EACI,CAAC,EACN,CAAC,cAEN1H,KAAA,QAAK2K,SAAS,CAAC,YAAY,CAAC9B,KAAK,CAAE,CAAEiC,MAAM,CAAE,CAAE,CAAE,CAAAF,QAAA,eAC/C9K,IAAA,UAAO6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,YAAO,CAAO,CAAC,cAC7C5K,KAAA,WACE2K,SAAS,CAAC,aAAa,CACvBhB,KAAK,CAAExI,aAAc,CACrBkL,QAAQ,CAAG7C,CAAC,EAAKpI,gBAAgB,CAACoI,CAAC,CAACE,MAAM,CAACC,KAAK,CAAE,CAAAiB,QAAA,eAElD9K,IAAA,WAAQ6J,KAAK,CAAC,EAAE,CAAAiB,QAAA,CAAC,OAAK,CAAQ,CAAC,CAC9BnK,QAAQ,CAAC6L,GAAG,CAACC,CAAC,eACbzM,IAAA,WAAmB6J,KAAK,CAAE4C,CAAC,CAAC7E,EAAG,CAAAkD,QAAA,CAAE2B,CAAC,CAACC,IAAI,EAA1BD,CAAC,CAAC7E,EAAiC,CACjD,CAAC,EACI,CAAC,EACN,CAAC,cAEN1H,KAAA,QAAK2K,SAAS,CAAC,YAAY,CAAC9B,KAAK,CAAE,CAAEiC,MAAM,CAAE,CAAE,CAAE,CAAAF,QAAA,eAC/C9K,IAAA,UAAO6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,QAAG,CAAO,CAAC,cACzC9K,IAAA,UACEgH,IAAI,CAAC,OAAO,CACZ6D,SAAS,CAAC,YAAY,CACtBhB,KAAK,CAAEtI,SAAU,CACjBgL,QAAQ,CAAG7C,CAAC,EAAKlI,YAAY,CAACkI,CAAC,CAACE,MAAM,CAACC,KAAK,CAAE,CAC/C,CAAC,EACC,CAAC,EACH,CAAC,CAELuB,aAAa,CAAG,CAAC,eAChBpL,IAAA,WACE6K,SAAS,CAAC,0BAA0B,CACpCK,OAAO,CAAE9E,aAAc,CAAA0E,QAAA,CACxB,gBAED,CAAQ,CACT,EACE,CACN,cAED9K,IAAA,QAAK6K,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBzF,oBAAoB,CAACE,MAAM,GAAK,CAAC,cAChCvF,IAAA,QAAK+I,KAAK,CAAE,CAAE4D,SAAS,CAAE,QAAQ,CAAE5B,OAAO,CAAE,MAAM,CAAE6B,KAAK,CAAE,SAAU,CAAE,CAAA9B,QAAA,CAAC,8BAExE,CAAK,CAAC,cAEN9K,IAAA,QAAK6K,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9B5K,KAAA,UAAO2K,SAAS,CAAC,OAAO,CAAAC,QAAA,eACtB9K,IAAA,UAAA8K,QAAA,cACE5K,KAAA,OAAA4K,QAAA,eACE9K,IAAA,OAAA8K,QAAA,CAAI,MAAI,CAAI,CAAC,cACb9K,IAAA,OAAA8K,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjB9K,IAAA,OAAA8K,QAAA,CAAI,WAAS,CAAI,CAAC,cAClB9K,IAAA,OAAA8K,QAAA,CAAI,YAAO,CAAI,CAAC,cAChB9K,IAAA,OAAA8K,QAAA,CAAI,MAAI,CAAI,CAAC,cACb9K,IAAA,OAAA8K,QAAA,CAAI,YAAU,CAAI,CAAC,cACnB9K,IAAA,OAAI+I,KAAK,CAAE,CAAE4D,SAAS,CAAE,OAAQ,CAAE,CAAA7B,QAAA,CAAC,OAAK,CAAI,CAAC,cAC7C9K,IAAA,OAAI+I,KAAK,CAAE,CAAE2C,KAAK,CAAE,OAAQ,CAAE,CAAAZ,QAAA,CAAC,aAAK,CAAI,CAAC,EACvC,CAAC,CACA,CAAC,cACR9K,IAAA,UAAA8K,QAAA,CACGzF,oBAAoB,CAACmH,GAAG,CAAC9H,UAAU,EAAI,CACtC,KAAM,CAAAmI,QAAQ,CAAGtM,SAAS,CAACuM,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACnF,EAAE,GAAKlD,UAAU,CAACzC,WAAW,CAAC,CACrE,KAAM,CAAA+K,SAAS,CAAGvM,WAAW,CAACqM,IAAI,CAACL,CAAC,EAAIA,CAAC,CAAC7E,EAAE,GAAKlD,UAAU,CAACxC,YAAY,CAAC,CACzE,KAAM,CAAA+K,OAAO,CAAGtM,QAAQ,CAACmM,IAAI,CAACL,CAAC,EAAIA,CAAC,CAAC7E,EAAE,GAAKlD,UAAU,CAACvC,UAAU,CAAC,CAElE,mBACEjC,KAAA,OAAA4K,QAAA,eACE9K,IAAA,OAAA8K,QAAA,CAAK5B,YAAY,CAACxE,UAAU,CAACnC,eAAe,CAAC,CAAK,CAAC,cACnDvC,IAAA,OAAA8K,QAAA,cACE5K,KAAA,QAAA4K,QAAA,eACE9K,IAAA,QAAK+I,KAAK,CAAE,CAAEmE,UAAU,CAAE,KAAM,CAAE,CAAApC,QAAA,CAAE,CAAA+B,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEH,IAAI,GAAI,KAAK,CAAM,CAAC,CACjEhI,UAAU,CAAC7B,WAAW,eACrB7C,IAAA,QAAK+I,KAAK,CAAE,CAAEkC,QAAQ,CAAE,SAAS,CAAE2B,KAAK,CAAE,SAAU,CAAE,CAAA9B,QAAA,CACnDpG,UAAU,CAAC7B,WAAW,CACpB,CACN,EACE,CAAC,CACJ,CAAC,cACL7C,IAAA,OAAA8K,QAAA,CAAK,CAAAkC,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEN,IAAI,GAAI,KAAK,CAAK,CAAC,cACnC1M,IAAA,OAAA8K,QAAA,CAAK,CAAAmC,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEP,IAAI,GAAI,KAAK,CAAK,CAAC,cACjC1M,IAAA,OAAA8K,QAAA,CACGpG,UAAU,CAAC/B,eAAe,eACzB3C,IAAA,SAAM6K,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAC/BpG,UAAU,CAAC/B,eAAe,CACvB,CACP,CACC,CAAC,cACL3C,IAAA,OAAA8K,QAAA,CAAKpG,UAAU,CAAC9B,eAAe,EAAI,KAAK,CAAK,CAAC,cAC9C5C,IAAA,OAAI+I,KAAK,CAAE,CAAE4D,SAAS,CAAE,OAAO,CAAEO,UAAU,CAAE,KAAM,CAAE,CAAApC,QAAA,CAClDnC,aAAa,CAACjE,UAAU,CAACrC,aAAa,CAAC,CACtC,CAAC,cACLrC,IAAA,OAAA8K,QAAA,cACE5K,KAAA,QAAK6I,KAAK,CAAE,CAAEuC,OAAO,CAAE,MAAM,CAAEG,GAAG,CAAE,QAAQ,CAAEF,cAAc,CAAE,UAAW,CAAE,CAAAT,QAAA,EACxEpG,UAAU,CAACyI,gBAAgB,eAC1BnN,IAAA,WACEkL,OAAO,CAAEA,CAAA,GAAMnB,gBAAgB,CAACrF,UAAU,CAAE,CAC5CmG,SAAS,CAAC,wBAAwB,CAClCuC,KAAK,qBAAAzJ,MAAA,CAAsBe,UAAU,CAAC8F,sBAAsB,EAAI,cAAc,CAAG,CAAAM,QAAA,cAEjF5K,KAAA,QAAKwL,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAAAjB,QAAA,eAC/F9K,IAAA,SAAMqN,CAAC,CAAC,4DAA4D,CAAO,CAAC,cAC5ErN,IAAA,aAAUgM,MAAM,CAAC,gBAAgB,CAAW,CAAC,cAC7ChM,IAAA,SAAMiM,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAAO,CAAC,cAC5CpM,IAAA,SAAMiM,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAAO,CAAC,cAC5CpM,IAAA,SAAMqN,CAAC,CAAC,UAAU,CAAO,CAAC,cAC1BrN,IAAA,SAAMqN,CAAC,CAAC,eAAe,CAAO,CAAC,EAC5B,CAAC,CACA,CACT,cACDrN,IAAA,WACE6K,SAAS,CAAC,0BAA0B,CACpCK,OAAO,CAAEA,CAAA,GAAM7E,UAAU,CAAC3B,UAAU,CAAE,CACtC0I,KAAK,CAAC,mBAAmB,CAAAtC,QAAA,cAEzB5K,KAAA,QAAKwL,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAAAjB,QAAA,eAC/F9K,IAAA,SAAMqN,CAAC,CAAC,4DAA4D,CAAO,CAAC,cAC5ErN,IAAA,SAAMqN,CAAC,CAAC,yDAAyD,CAAO,CAAC,EACtE,CAAC,CACA,CAAC,cACTrN,IAAA,WACE6K,SAAS,CAAC,uBAAuB,CACjCK,OAAO,CAAEA,CAAA,GAAM3C,iBAAiB,CAAC7D,UAAU,CAACkD,EAAE,CAAE,CAChDwF,KAAK,CAAC,oBAAoB,CAAAtC,QAAA,cAE1B5K,KAAA,QAAKwL,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAAAjB,QAAA,eAC/F9K,IAAA,aAAUgM,MAAM,CAAC,cAAc,CAAW,CAAC,cAC3ChM,IAAA,SAAMqN,CAAC,CAAC,gFAAgF,CAAO,CAAC,EAC7F,CAAC,CACA,CAAC,EACN,CAAC,CACJ,CAAC,GAhEE3I,UAAU,CAACkD,EAiEhB,CAAC,CAET,CAAC,CAAC,CACG,CAAC,EACH,CAAC,CACL,CACN,CACE,CAAC,EACH,CAAC,CAGLjG,WAAW,eACV3B,IAAA,QAAK6K,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5B5K,KAAA,QAAK2K,SAAS,CAAC,OAAO,CAAC9B,KAAK,CAAE,CAAEuE,QAAQ,CAAE,OAAQ,CAAE,CAAAxC,QAAA,eAClD5K,KAAA,QAAK2K,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B9K,IAAA,OAAI6K,SAAS,CAAC,aAAa,CAAAC,QAAA,CACxBjJ,kBAAkB,CAAG,mBAAmB,CAAG,iBAAiB,CAC3D,CAAC,cACL7B,IAAA,WAAQ6K,SAAS,CAAC,WAAW,CAACK,OAAO,CAAErE,WAAY,CAAAiE,QAAA,CAAC,MAEpD,CAAQ,CAAC,EACN,CAAC,cAEN5K,KAAA,QAAK2K,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB5K,KAAA,QAAK2K,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B5K,KAAA,QAAK2K,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9K,IAAA,UAAO6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,YAAU,CAAO,CAAC,cAChD5K,KAAA,WACE2K,SAAS,CAAC,aAAa,CACvBhB,KAAK,CAAE9H,cAAc,CAACE,WAAY,CAClCsK,QAAQ,CAAG7C,CAAC,EAAK1H,iBAAiB,CAAA4E,aAAA,CAAAA,aAAA,IAAK7E,cAAc,MAAEE,WAAW,CAAEyH,CAAC,CAACE,MAAM,CAACC,KAAK,EAAC,CAAE,CACrF0D,QAAQ,MAAAzC,QAAA,eAER9K,IAAA,WAAQ6J,KAAK,CAAC,EAAE,CAAAiB,QAAA,CAAC,WAAS,CAAQ,CAAC,CAClCvK,SAAS,CAACiM,GAAG,CAACO,CAAC,eACd/M,IAAA,WAAmB6J,KAAK,CAAEkD,CAAC,CAACnF,EAAG,CAAAkD,QAAA,CAAEiC,CAAC,CAACL,IAAI,EAA1BK,CAAC,CAACnF,EAAiC,CACjD,CAAC,EACI,CAAC,EACN,CAAC,cAEN1H,KAAA,QAAK2K,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9K,IAAA,UAAO6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,cAAY,CAAO,CAAC,cAClD9K,IAAA,UACEgH,IAAI,CAAC,MAAM,CACX6D,SAAS,CAAC,YAAY,CACtBhB,KAAK,CAAE9H,cAAc,CAACO,eAAgB,CACtCiK,QAAQ,CAAE9C,iBAAkB,CAC5B+D,WAAW,CAAC,MAAM,CAClBD,QAAQ,MACT,CAAC,EACC,CAAC,EACH,CAAC,cAENrN,KAAA,QAAK2K,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B5K,KAAA,QAAK2K,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9K,IAAA,UAAO6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,WAAS,CAAO,CAAC,cAC/C5K,KAAA,WACE2K,SAAS,CAAC,aAAa,CACvBhB,KAAK,CAAE9H,cAAc,CAACG,YAAa,CACnCqK,QAAQ,CAAG7C,CAAC,EAAK1H,iBAAiB,CAAA4E,aAAA,CAAAA,aAAA,IAAK7E,cAAc,MAAEG,YAAY,CAAEwH,CAAC,CAACE,MAAM,CAACC,KAAK,EAAC,CAAE,CAAAiB,QAAA,eAEtF9K,IAAA,WAAQ6J,KAAK,CAAC,EAAE,CAAAiB,QAAA,CAAC,WAAS,CAAQ,CAAC,CAClCrK,WAAW,CAAC+L,GAAG,CAACC,CAAC,eAChBzM,IAAA,WAAmB6J,KAAK,CAAE4C,CAAC,CAAC7E,EAAG,CAAAkD,QAAA,CAAE2B,CAAC,CAACC,IAAI,EAA1BD,CAAC,CAAC7E,EAAiC,CACjD,CAAC,EACI,CAAC,EACN,CAAC,cAEN1H,KAAA,QAAK2K,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9K,IAAA,UAAO6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,YAAO,CAAO,CAAC,cAC7C5K,KAAA,WACE2K,SAAS,CAAC,aAAa,CACvBhB,KAAK,CAAE9H,cAAc,CAACI,UAAW,CACjCoK,QAAQ,CAAG7C,CAAC,EAAK1H,iBAAiB,CAAA4E,aAAA,CAAAA,aAAA,IAAK7E,cAAc,MAAEI,UAAU,CAAEuH,CAAC,CAACE,MAAM,CAACC,KAAK,EAAC,CAAE,CAAAiB,QAAA,eAEpF9K,IAAA,WAAQ6J,KAAK,CAAC,EAAE,CAAAiB,QAAA,CAAC,WAAS,CAAQ,CAAC,CAClCnK,QAAQ,CAAC6L,GAAG,CAACC,CAAC,eACbzM,IAAA,WAAmB6J,KAAK,CAAE4C,CAAC,CAAC7E,EAAG,CAAAkD,QAAA,CAAE2B,CAAC,CAACC,IAAI,EAA1BD,CAAC,CAAC7E,EAAiC,CACjD,CAAC,EACI,CAAC,EACN,CAAC,EACH,CAAC,cAEN1H,KAAA,QAAK2K,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B5K,KAAA,QAAK2K,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9K,IAAA,UAAO6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,oBAAkB,CAAO,CAAC,cACxD9K,IAAA,UACEgH,IAAI,CAAC,MAAM,CACX6D,SAAS,CAAC,YAAY,CACtBhB,KAAK,CAAE9H,cAAc,CAACQ,eAAgB,CACtCgK,QAAQ,CAAG7C,CAAC,EAAK1H,iBAAiB,CAAA4E,aAAA,CAAAA,aAAA,IAAK7E,cAAc,MAAEQ,eAAe,CAAEmH,CAAC,CAACE,MAAM,CAACC,KAAK,EAAC,CAAE,CAC1F,CAAC,EACC,CAAC,cAEN3J,KAAA,QAAK2K,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9K,IAAA,UAAO6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,aAAW,CAAO,CAAC,cACjD5K,KAAA,WACE2K,SAAS,CAAC,aAAa,CACvBhB,KAAK,CAAE9H,cAAc,CAACK,cAAe,CACrCmK,QAAQ,CAAG7C,CAAC,EAAK1H,iBAAiB,CAAA4E,aAAA,CAAAA,aAAA,IAAK7E,cAAc,MAAEK,cAAc,CAAEsH,CAAC,CAACE,MAAM,CAACC,KAAK,EAAC,CAAE,CAAAiB,QAAA,eAExF9K,IAAA,WAAQ6J,KAAK,CAAC,EAAE,CAAAiB,QAAA,CAAC,QAAM,CAAQ,CAAC,CAC/BjK,YAAY,CAAC2L,GAAG,CAACrC,CAAC,eACjBjK,KAAA,WAAmB2J,KAAK,CAAEM,CAAC,CAACvC,EAAG,CAAAkD,QAAA,EAC5BX,CAAC,CAACsD,aAAa,CAAC,KAAG,CAAC,GAAI,CAAAjL,IAAI,CAAC2H,CAAC,CAACuD,gBAAgB,CAAC,CAACvE,kBAAkB,CAAC,OAAO,CAAC,GADlEgB,CAAC,CAACvC,EAEP,CACT,CAAC,EACI,CAAC,EACN,CAAC,EACH,CAAC,cAEN1H,KAAA,QAAK2K,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B5K,KAAA,QAAK2K,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9K,IAAA,UAAO6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,oBAAkB,CAAO,CAAC,cACxD5K,KAAA,WACE2K,SAAS,CAAC,aAAa,CACvBhB,KAAK,CAAE9H,cAAc,CAACY,eAAgB,CACtC4J,QAAQ,CAAG7C,CAAC,EAAK1H,iBAAiB,CAAA4E,aAAA,CAAAA,aAAA,IAAK7E,cAAc,MAAEY,eAAe,CAAE+G,CAAC,CAACE,MAAM,CAACC,KAAK,EAAC,CAAE,CAAAiB,QAAA,eAEzF9K,IAAA,WAAQ6J,KAAK,CAAC,EAAE,CAAAiB,QAAA,CAAC,WAAS,CAAQ,CAAC,cACnC9K,IAAA,WAAQ6J,KAAK,CAAC,aAAU,CAAAiB,QAAA,CAAC,aAAQ,CAAQ,CAAC,cAC1C9K,IAAA,WAAQ6J,KAAK,CAAC,iBAAc,CAAAiB,QAAA,CAAC,iBAAY,CAAQ,CAAC,EAC5C,CAAC,EACN,CAAC,cAEN5K,KAAA,QAAK2K,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9K,IAAA,UAAO6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,oBAAkB,CAAO,CAAC,cACxD5K,KAAA,WACE2K,SAAS,CAAC,aAAa,CACvBhB,KAAK,CAAE9H,cAAc,CAACa,eAAgB,CACtC2J,QAAQ,CAAG7C,CAAC,EAAK1H,iBAAiB,CAAA4E,aAAA,CAAAA,aAAA,IAAK7E,cAAc,MAAEa,eAAe,CAAE8G,CAAC,CAACE,MAAM,CAACC,KAAK,EAAC,CAAE,CAAAiB,QAAA,eAEzF9K,IAAA,WAAQ6J,KAAK,CAAC,EAAE,CAAAiB,QAAA,CAAC,WAAS,CAAQ,CAAC,CAClC9H,eAAe,CAACwJ,GAAG,CAAC7G,CAAC,eACpB3F,IAAA,WAAgB6J,KAAK,CAAElE,CAAE,CAAAmF,QAAA,CAAEnF,CAAC,EAAfA,CAAwB,CACtC,CAAC,EACI,CAAC,EACN,CAAC,EACH,CAAC,cAENzF,KAAA,QAAK2K,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB5K,KAAA,UAAO2K,SAAS,CAAC,YAAY,CAAAC,QAAA,EAAC,iBAAe,CAACjJ,kBAAkB,CAAG,YAAY,CAAG,GAAG,EAAQ,CAAC,cAC9F7B,IAAA,UACEgH,IAAI,CAAC,MAAM,CACX6D,SAAS,CAAC,YAAY,CACtB8C,MAAM,CAAC,MAAM,CACbpB,QAAQ,CAAG7C,CAAC,EAAK3G,sBAAsB,CAAC2G,CAAC,CAACE,MAAM,CAACgE,KAAK,CAAC,CAAC,CAAC,CAAE,CAC5D,CAAC,CACD/L,kBAAkB,EAAIA,kBAAkB,CAACsL,gBAAgB,eACxDjN,KAAA,MAAG6I,KAAK,CAAE,CAAEkC,QAAQ,CAAE,UAAU,CAAE2B,KAAK,CAAE,SAAS,CAAEiB,SAAS,CAAE,QAAS,CAAE,CAAA/C,QAAA,EAAC,kBACzD,CAACjJ,kBAAkB,CAAC2I,sBAAsB,EAAI3I,kBAAkB,CAACsL,gBAAgB,EAChG,CACJ,EACE,CAAC,cAENjN,KAAA,QAAK2K,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9K,IAAA,UAAO6K,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,mBAAW,CAAO,CAAC,cACjD9K,IAAA,aACE6K,SAAS,CAAC,eAAe,CACzBiD,IAAI,CAAC,GAAG,CACRjE,KAAK,CAAE9H,cAAc,CAACc,WAAY,CAClC0J,QAAQ,CAAG7C,CAAC,EAAK1H,iBAAiB,CAAA4E,aAAA,CAAAA,aAAA,IAAK7E,cAAc,MAAEc,WAAW,CAAE6G,CAAC,CAACE,MAAM,CAACC,KAAK,EAAC,CAAE,CACrF2D,WAAW,CAAC,iCAA2B,CACxC,CAAC,EACC,CAAC,cAENtN,KAAA,QAAK6I,KAAK,CAAE,CAAEuC,OAAO,CAAE,MAAM,CAAEG,GAAG,CAAE,MAAM,CAAEF,cAAc,CAAE,UAAU,CAAEsC,SAAS,CAAE,MAAO,CAAE,CAAA/C,QAAA,eAC1F9K,IAAA,WAAQ6K,SAAS,CAAC,mBAAmB,CAACK,OAAO,CAAErE,WAAY,CAAAiE,QAAA,CAAC,UAE5D,CAAQ,CAAC,cACT9K,IAAA,WAAQ6K,SAAS,CAAC,iBAAiB,CAACK,OAAO,CAAEpE,gBAAiB,CAAAgE,QAAA,CAC3DjJ,kBAAkB,CAAG,WAAW,CAAG,QAAQ,CACtC,CAAC,EACN,CAAC,EACH,CAAC,EACH,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA1B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}